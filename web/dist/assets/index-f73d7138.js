var Vt=(t,s,r)=>{if(!s.has(t))throw TypeError("Cannot "+r)};var S=(t,s,r)=>(Vt(t,s,"read from private field"),r?r.call(t):s.get(t)),U=(t,s,r)=>{if(s.has(t))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(t):s.set(t,r)},O=(t,s,r,a)=>(Vt(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r);var pt=(t,s,r,a)=>({set _(n){O(t,s,n,r)},get _(){return S(t,s,a)}}),te=(t,s,r)=>(Vt(t,s,"access private method"),r);import{r as v,a as ca,g as da,R as fr,u as rt,L as $,b as ua,c as ma,d as ha,e as xa,f as G,N as H,B as fa}from"./vendor-a230f39f.js";import{M as Te,C as ga,S as St,A as mt,R as gr,H as pa,a as Xt,T as he,E as Zt,b as es,c as kt,d as pr,e as _e,D as hs,P as ba,F as Ct,f as ya,g as br,h as Ye,i as le,j as ja,k as yr,l as va,m as Na,X as $e,B as wa,I as Sa,U as ka,n as Ca,o as Ea,p as La,L as xs,q as Ta,r as Da,s as Ra,t as Mt,u as fs,v as ue,w as Aa,x as Ma,y as jr,G as gs,z as Fa,J as Pa,K as Cs,N as Oa,O as Ia,Q as ts,V as vr,W as Nr,Y as Et,Z as Xe,_ as ht,$ as Lt,a0 as Ba,a1 as za,a2 as Ft,a3 as $a,a4 as Ua,a5 as _a,a6 as ps,a7 as qa,a8 as Tt,a9 as Ze,aa as wr,ab as Pt,ac as Ae,ad as Ha,ae as Es,af as Sr,ag as Wa,ah as Ls,ai as Ts,aj as Ds,ak as Qa,al as Rs,am as Va,an as Ka}from"./ui-2920a838.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var kr={exports:{}},Ot={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=v,Ja=Symbol.for("react.element"),Ya=Symbol.for("react.fragment"),Xa=Object.prototype.hasOwnProperty,Za=Ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,en={key:!0,ref:!0,__self:!0,__source:!0};function Cr(t,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)Xa.call(s,a)&&!en.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Ja,type:t,key:i,ref:l,props:n,_owner:Za.current}}Ot.Fragment=Ya;Ot.jsx=Cr;Ot.jsxs=Cr;kr.exports=Ot;var e=kr.exports,ss={},As=ca;ss.createRoot=As.createRoot,ss.hydrateRoot=As.hydrateRoot;var It=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tn={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},we,ms,ir,sn=(ir=class{constructor(){U(this,we,tn);U(this,ms,!1)}setTimeoutProvider(t){O(this,we,t)}setTimeout(t,s){return S(this,we).setTimeout(t,s)}clearTimeout(t){S(this,we).clearTimeout(t)}setInterval(t,s){return S(this,we).setInterval(t,s)}clearInterval(t){S(this,we).clearInterval(t)}},we=new WeakMap,ms=new WeakMap,ir),rs=new sn;function rn(t){setTimeout(t,0)}var Bt=typeof window>"u"||"Deno"in globalThis;function oe(){}function an(t,s){return typeof t=="function"?t(s):t}function nn(t){return typeof t=="number"&&t>=0&&t!==1/0}function ln(t,s){return Math.max(t+(s||0)-Date.now(),0)}function as(t,s){return typeof t=="function"?t(s):t}function on(t,s){return typeof t=="function"?t(s):t}function Ms(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:l,stale:o}=t;if(l){if(a){if(s.queryHash!==bs(l,s.options))return!1}else if(!ot(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||n&&n!==s.state.fetchStatus||i&&!i(s))}function Fs(t,s){const{exact:r,status:a,predicate:n,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(lt(s.options.mutationKey)!==lt(i))return!1}else if(!ot(s.options.mutationKey,i))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function bs(t,s){return((s==null?void 0:s.queryKeyHashFn)||lt)(t)}function lt(t){return JSON.stringify(t,(s,r)=>ns(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function ot(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>ot(t[r],s[r])):!1}var cn=Object.prototype.hasOwnProperty;function Er(t,s){if(t===s)return t;const r=Ps(t)&&Ps(s);if(!r&&!(ns(t)&&ns(s)))return s;const n=(r?t:Object.keys(t)).length,i=r?s:Object.keys(s),l=i.length,o=r?new Array(l):{};let c=0;for(let x=0;x<l;x++){const g=r?x:i[x],b=t[g],f=s[g];if(b===f){o[g]=b,(r?x<n:cn.call(t,g))&&c++;continue}if(b===null||f===null||typeof b!="object"||typeof f!="object"){o[g]=f;continue}const p=Er(b,f);o[g]=p,p===b&&c++}return n===l&&c===n?t:o}function Ps(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ns(t){if(!Os(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Os(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Os(t){return Object.prototype.toString.call(t)==="[object Object]"}function dn(t){return new Promise(s=>{rs.setTimeout(s,t)})}function un(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Er(t,s):s}function mn(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function hn(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var ys=Symbol();function Lr(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===ys?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fe,Se,qe,lr,xn=(lr=class extends It{constructor(){super();U(this,Fe,void 0);U(this,Se,void 0);U(this,qe,void 0);O(this,qe,s=>{if(!Bt&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,Se)||this.setEventListener(S(this,qe))}onUnsubscribe(){var s;this.hasListeners()||((s=S(this,Se))==null||s.call(this),O(this,Se,void 0))}setEventListener(s){var r;O(this,qe,s),(r=S(this,Se))==null||r.call(this),O(this,Se,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){S(this,Fe)!==s&&(O(this,Fe,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof S(this,Fe)=="boolean"?S(this,Fe):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Fe=new WeakMap,Se=new WeakMap,qe=new WeakMap,lr),Tr=new xn;function fn(){let t,s;const r=new Promise((n,i)=>{t=n,s=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}var gn=rn;function pn(){let t=[],s=0,r=o=>{o()},a=o=>{o()},n=gn;const i=o=>{s?t.push(o):n(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&n(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{n=o}}}var ae=pn(),He,ke,We,or,bn=(or=class extends It{constructor(){super();U(this,He,!0);U(this,ke,void 0);U(this,We,void 0);O(this,We,s=>{if(!Bt&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){S(this,ke)||this.setEventListener(S(this,We))}onUnsubscribe(){var s;this.hasListeners()||((s=S(this,ke))==null||s.call(this),O(this,ke,void 0))}setEventListener(s){var r;O(this,We,s),(r=S(this,ke))==null||r.call(this),O(this,ke,s(this.setOnline.bind(this)))}setOnline(s){S(this,He)!==s&&(O(this,He,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return S(this,He)}},He=new WeakMap,ke=new WeakMap,We=new WeakMap,or),Dt=new bn;function yn(t){return Math.min(1e3*2**t,3e4)}function Dr(t){return(t??"online")==="online"?Dt.isOnline():!0}var is=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rr(t){let s=!1,r=0,a;const n=fn(),i=()=>n.status!=="pending",l=u=>{var h;if(!i()){const L=new is(u);f(L),(h=t.onCancel)==null||h.call(t,L)}},o=()=>{s=!0},c=()=>{s=!1},x=()=>Tr.isFocused()&&(t.networkMode==="always"||Dt.isOnline())&&t.canRun(),g=()=>Dr(t.networkMode)&&t.canRun(),b=u=>{i()||(a==null||a(),n.resolve(u))},f=u=>{i()||(a==null||a(),n.reject(u))},p=()=>new Promise(u=>{var h;a=L=>{(i()||x())&&u(L)},(h=t.onPause)==null||h.call(t)}).then(()=>{var u;a=void 0,i()||(u=t.onContinue)==null||u.call(t)}),d=()=>{if(i())return;let u;const h=r===0?t.initialPromise:void 0;try{u=h??t.fn()}catch(L){u=Promise.reject(L)}Promise.resolve(u).then(b).catch(L=>{var R;if(i())return;const C=t.retry??(Bt?0:3),m=t.retryDelay??yn,N=typeof m=="function"?m(r,L):m,F=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,L);if(s||!F){f(L);return}r++,(R=t.onFail)==null||R.call(t,r,L),dn(N).then(()=>x()?void 0:p()).then(()=>{s?f(L):d()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(a==null||a(),n),cancelRetry:o,continueRetry:c,canStart:g,start:()=>(g()?d():p().then(d),n)}}var Pe,cr,Ar=(cr=class{constructor(){U(this,Pe,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nn(this.gcTime)&&O(this,Pe,rs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bt?1/0:5*60*1e3))}clearGcTimeout(){S(this,Pe)&&(rs.clearTimeout(S(this,Pe)),O(this,Pe,void 0))}},Pe=new WeakMap,cr),Oe,Qe,ie,Ie,Z,dt,Be,ce,je,dr,jn=(dr=class extends Ar{constructor(s){super();U(this,ce);U(this,Oe,void 0);U(this,Qe,void 0);U(this,ie,void 0);U(this,Ie,void 0);U(this,Z,void 0);U(this,dt,void 0);U(this,Be,void 0);O(this,Be,!1),O(this,dt,s.defaultOptions),this.setOptions(s.options),this.observers=[],O(this,Ie,s.client),O(this,ie,S(this,Ie).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,O(this,Oe,Is(this.options)),this.state=s.state??S(this,Oe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=S(this,Z))==null?void 0:s.promise}setOptions(s){if(this.options={...S(this,dt),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Is(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),O(this,Oe,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,ie).remove(this)}setData(s,r){const a=un(this.state.data,s,this.options);return te(this,ce,je).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){te(this,ce,je).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=S(this,Z))==null?void 0:a.promise;return(n=S(this,Z))==null||n.cancel(s),r?r.then(oe).catch(oe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Oe))}isActive(){return this.observers.some(s=>on(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ys||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>as(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!ln(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=S(this,Z))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=S(this,Z))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),S(this,ie).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(S(this,Z)&&(S(this,Be)?S(this,Z).cancel({revert:!0}):S(this,Z).cancelRetry()),this.scheduleGc()),S(this,ie).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,ce,je).call(this,{type:"invalidate"})}async fetch(s,r){var c,x,g,b,f,p,d,u,h,L,C,m;if(this.state.fetchStatus!=="idle"&&((c=S(this,Z))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,Z))return S(this,Z).continueRetry(),S(this,Z).promise}if(s&&this.setOptions(s),!this.options.queryFn){const N=this.observers.find(F=>F.options.queryFn);N&&this.setOptions(N.options)}const a=new AbortController,n=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(O(this,Be,!0),a.signal)})},i=()=>{const N=Lr(this.options,r),R=(()=>{const M={client:S(this,Ie),queryKey:this.queryKey,meta:this.meta};return n(M),M})();return O(this,Be,!1),this.options.persister?this.options.persister(N,R,this):N(R)},o=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:S(this,Ie),state:this.state,fetchFn:i};return n(N),N})();(x=this.options.behavior)==null||x.onFetch(o,this),O(this,Qe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=o.fetchOptions)==null?void 0:g.meta))&&te(this,ce,je).call(this,{type:"fetch",meta:(b=o.fetchOptions)==null?void 0:b.meta}),O(this,Z,Rr({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:N=>{N instanceof is&&N.revert&&this.setState({...S(this,Qe),fetchStatus:"idle"}),a.abort()},onFail:(N,F)=>{te(this,ce,je).call(this,{type:"failed",failureCount:N,error:F})},onPause:()=>{te(this,ce,je).call(this,{type:"pause"})},onContinue:()=>{te(this,ce,je).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const N=await S(this,Z).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(f=S(this,ie).config).onSuccess)==null||p.call(f,N,this),(u=(d=S(this,ie).config).onSettled)==null||u.call(d,N,this.state.error,this),N}catch(N){if(N instanceof is){if(N.silent)return S(this,Z).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw te(this,ce,je).call(this,{type:"error",error:N}),(L=(h=S(this,ie).config).onError)==null||L.call(h,N,this),(m=(C=S(this,ie).config).onSettled)==null||m.call(C,this.state.data,N,this),N}finally{this.scheduleGc()}}},Oe=new WeakMap,Qe=new WeakMap,ie=new WeakMap,Ie=new WeakMap,Z=new WeakMap,dt=new WeakMap,Be=new WeakMap,ce=new WeakSet,je=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...vn(a.data,this.options),fetchMeta:s.meta??null};case"success":const n={...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return O(this,Qe,s.manual?n:void 0),n;case"error":const i=s.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),ae.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),S(this,ie).notify({query:this,type:"updated",action:s})})},dr);function vn(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dr(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Is(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Bs(t){return{onFetch:(s,r)=>{var g,b,f,p,d;const a=s.options,n=(f=(b=(g=s.fetchOptions)==null?void 0:g.meta)==null?void 0:b.fetchMore)==null?void 0:f.direction,i=((p=s.state.data)==null?void 0:p.pages)||[],l=((d=s.state.data)==null?void 0:d.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const x=async()=>{let u=!1;const h=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(s.signal.aborted?u=!0:s.signal.addEventListener("abort",()=>{u=!0}),s.signal)})},L=Lr(s.options,s.fetchOptions),C=async(m,N,F)=>{if(u)return Promise.reject();if(N==null&&m.pages.length)return Promise.resolve(m);const M=(()=>{const q={client:s.client,queryKey:s.queryKey,pageParam:N,direction:F?"backward":"forward",meta:s.options.meta};return h(q),q})(),I=await L(M),{maxPages:P}=s.options,_=F?hn:mn;return{pages:_(m.pages,I,P),pageParams:_(m.pageParams,N,P)}};if(n&&i.length){const m=n==="backward",N=m?Nn:zs,F={pages:i,pageParams:l},R=N(a,F);o=await C(F,R,m)}else{const m=t??i.length;do{const N=c===0?l[0]??a.initialPageParam:zs(a,o);if(c>0&&N==null)break;o=await C(o,N),c++}while(c<m)}return o};s.options.persister?s.fetchFn=()=>{var u,h;return(h=(u=s.options).persister)==null?void 0:h.call(u,x,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=x}}}function zs(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function Nn(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var ge,re,ze,pe,Ne,ur,wn=(ur=class extends Ar{constructor(s){super();U(this,pe);U(this,ge,void 0);U(this,re,void 0);U(this,ze,void 0);this.mutationId=s.mutationId,O(this,re,s.mutationCache),O(this,ge,[]),this.state=s.state||Sn(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){S(this,ge).includes(s)||(S(this,ge).push(s),this.clearGcTimeout(),S(this,re).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){O(this,ge,S(this,ge).filter(r=>r!==s)),this.scheduleGc(),S(this,re).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){S(this,ge).length||(this.state.status==="pending"?this.scheduleGc():S(this,re).remove(this))}continue(){var s;return((s=S(this,ze))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var i,l,o,c,x,g,b,f,p,d,u,h,L,C,m,N,F,R,M,I;const r=()=>{te(this,pe,Ne).call(this,{type:"continue"})};O(this,ze,Rr({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(P,_)=>{te(this,pe,Ne).call(this,{type:"failed",failureCount:P,error:_})},onPause:()=>{te(this,pe,Ne).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,re).canRun(this)}));const a=this.state.status==="pending",n=!S(this,ze).canStart();try{if(a)r();else{te(this,pe,Ne).call(this,{type:"pending",variables:s,isPaused:n}),await((l=(i=S(this,re).config).onMutate)==null?void 0:l.call(i,s,this));const _=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,s));_!==this.state.context&&te(this,pe,Ne).call(this,{type:"pending",context:_,variables:s,isPaused:n})}const P=await S(this,ze).start();return await((g=(x=S(this,re).config).onSuccess)==null?void 0:g.call(x,P,s,this.state.context,this)),await((f=(b=this.options).onSuccess)==null?void 0:f.call(b,P,s,this.state.context)),await((d=(p=S(this,re).config).onSettled)==null?void 0:d.call(p,P,null,this.state.variables,this.state.context,this)),await((h=(u=this.options).onSettled)==null?void 0:h.call(u,P,null,s,this.state.context)),te(this,pe,Ne).call(this,{type:"success",data:P}),P}catch(P){try{throw await((C=(L=S(this,re).config).onError)==null?void 0:C.call(L,P,s,this.state.context,this)),await((N=(m=this.options).onError)==null?void 0:N.call(m,P,s,this.state.context)),await((R=(F=S(this,re).config).onSettled)==null?void 0:R.call(F,void 0,P,this.state.variables,this.state.context,this)),await((I=(M=this.options).onSettled)==null?void 0:I.call(M,void 0,P,s,this.state.context)),P}finally{te(this,pe,Ne).call(this,{type:"error",error:P})}}finally{S(this,re).runNext(this)}}},ge=new WeakMap,re=new WeakMap,ze=new WeakMap,pe=new WeakSet,Ne=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ae.batch(()=>{S(this,ge).forEach(a=>{a.onMutationUpdate(s)}),S(this,re).notify({mutation:this,type:"updated",action:s})})},ur);function Sn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ve,de,ut,mr,kn=(mr=class extends It{constructor(s={}){super();U(this,ve,void 0);U(this,de,void 0);U(this,ut,void 0);this.config=s,O(this,ve,new Set),O(this,de,new Map),O(this,ut,0)}build(s,r,a){const n=new wn({mutationCache:this,mutationId:++pt(this,ut)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){S(this,ve).add(s);const r=bt(s);if(typeof r=="string"){const a=S(this,de).get(r);a?a.push(s):S(this,de).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(S(this,ve).delete(s)){const r=bt(s);if(typeof r=="string"){const a=S(this,de).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&S(this,de).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=bt(s);if(typeof r=="string"){const a=S(this,de).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=bt(s);if(typeof r=="string"){const n=(a=S(this,de).get(r))==null?void 0:a.find(i=>i!==s&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ae.batch(()=>{S(this,ve).forEach(s=>{this.notify({type:"removed",mutation:s})}),S(this,ve).clear(),S(this,de).clear()})}getAll(){return Array.from(S(this,ve))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>Fs(r,a))}findAll(s={}){return this.getAll().filter(r=>Fs(s,r))}notify(s){ae.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return ae.batch(()=>Promise.all(s.map(r=>r.continue().catch(oe))))}},ve=new WeakMap,de=new WeakMap,ut=new WeakMap,mr);function bt(t){var s;return(s=t.options.scope)==null?void 0:s.id}var be,hr,Cn=(hr=class extends It{constructor(s={}){super();U(this,be,void 0);this.config=s,O(this,be,new Map)}build(s,r,a){const n=r.queryKey,i=r.queryHash??bs(n,r);let l=this.get(i);return l||(l=new jn({client:s,queryKey:n,queryHash:i,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(l)),l}add(s){S(this,be).has(s.queryHash)||(S(this,be).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=S(this,be).get(s.queryHash);r&&(s.destroy(),r===s&&S(this,be).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){ae.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return S(this,be).get(s)}getAll(){return[...S(this,be).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>Ms(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>Ms(s,a)):r}notify(s){ae.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){ae.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){ae.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},be=new WeakMap,hr),Q,Ce,Ee,Ve,Ke,Le,Ge,Je,xr,En=(xr=class{constructor(t={}){U(this,Q,void 0);U(this,Ce,void 0);U(this,Ee,void 0);U(this,Ve,void 0);U(this,Ke,void 0);U(this,Le,void 0);U(this,Ge,void 0);U(this,Je,void 0);O(this,Q,t.queryCache||new Cn),O(this,Ce,t.mutationCache||new kn),O(this,Ee,t.defaultOptions||{}),O(this,Ve,new Map),O(this,Ke,new Map),O(this,Le,0)}mount(){pt(this,Le)._++,S(this,Le)===1&&(O(this,Ge,Tr.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,Q).onFocus())})),O(this,Je,Dt.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,Q).onOnline())})))}unmount(){var t,s;pt(this,Le)._--,S(this,Le)===0&&((t=S(this,Ge))==null||t.call(this),O(this,Ge,void 0),(s=S(this,Je))==null||s.call(this),O(this,Je,void 0))}isFetching(t){return S(this,Q).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,Ce).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=S(this,Q).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=S(this,Q).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(as(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return S(this,Q).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),n=S(this,Q).get(a.queryHash),i=n==null?void 0:n.state.data,l=an(s,i);if(l!==void 0)return S(this,Q).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return ae.batch(()=>S(this,Q).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=S(this,Q).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=S(this,Q);ae.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=S(this,Q);return ae.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=ae.batch(()=>S(this,Q).findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(oe).catch(oe)}invalidateQueries(t,s={}){return ae.batch(()=>(S(this,Q).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=ae.batch(()=>S(this,Q).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(oe)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(oe)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=S(this,Q).build(this,s);return r.isStaleByTime(as(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(oe).catch(oe)}fetchInfiniteQuery(t){return t.behavior=Bs(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(oe).catch(oe)}ensureInfiniteQueryData(t){return t.behavior=Bs(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Dt.isOnline()?S(this,Ce).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Q)}getMutationCache(){return S(this,Ce)}getDefaultOptions(){return S(this,Ee)}setDefaultOptions(t){O(this,Ee,t)}setQueryDefaults(t,s){S(this,Ve).set(lt(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...S(this,Ve).values()],r={};return s.forEach(a=>{ot(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){S(this,Ke).set(lt(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...S(this,Ke).values()],r={};return s.forEach(a=>{ot(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...S(this,Ee).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=bs(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===ys&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,Ee).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,Q).clear(),S(this,Ce).clear()}},Q=new WeakMap,Ce=new WeakMap,Ee=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,Le=new WeakMap,Ge=new WeakMap,Je=new WeakMap,xr),Ln=v.createContext(void 0),Tn=({client:t,children:s})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Ln.Provider,{value:t,children:s})),Dn=function(){return null};const $s=t=>{let s;const r=new Set,a=(g,b)=>{const f=typeof g=="function"?g(s):g;if(!Object.is(f,s)){const p=s;s=b??(typeof f!="object"||f===null)?f:Object.assign({},s,f),r.forEach(d=>d(s,p))}},n=()=>s,c={setState:a,getState:n,getInitialState:()=>x,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{r.clear()}},x=s=t(a,n,c);return c},Rn=t=>t?$s(t):$s;var Mr={exports:{}},Fr={},Pr={exports:{}},Or={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=v;function An(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Mn=typeof Object.is=="function"?Object.is:An,Fn=et.useState,Pn=et.useEffect,On=et.useLayoutEffect,In=et.useDebugValue;function Bn(t,s){var r=s(),a=Fn({inst:{value:r,getSnapshot:s}}),n=a[0].inst,i=a[1];return On(function(){n.value=r,n.getSnapshot=s,Kt(n)&&i({inst:n})},[t,r,s]),Pn(function(){return Kt(n)&&i({inst:n}),t(function(){Kt(n)&&i({inst:n})})},[t]),In(r),r}function Kt(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Mn(t,r)}catch{return!0}}function zn(t,s){return s()}var $n=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zn:Bn;Or.useSyncExternalStore=et.useSyncExternalStore!==void 0?et.useSyncExternalStore:$n;Pr.exports=Or;var Un=Pr.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=v,_n=Un;function qn(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Hn=typeof Object.is=="function"?Object.is:qn,Wn=_n.useSyncExternalStore,Qn=zt.useRef,Vn=zt.useEffect,Kn=zt.useMemo,Gn=zt.useDebugValue;Fr.useSyncExternalStoreWithSelector=function(t,s,r,a,n){var i=Qn(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Kn(function(){function c(p){if(!x){if(x=!0,g=p,p=a(p),n!==void 0&&l.hasValue){var d=l.value;if(n(d,p))return b=d}return b=p}if(d=b,Hn(g,p))return d;var u=a(p);return n!==void 0&&n(d,u)?(g=p,d):(g=p,b=u)}var x=!1,g,b,f=r===void 0?null:r;return[function(){return c(s())},f===null?void 0:function(){return c(f())}]},[s,r,a,n]);var o=Wn(t,i[0],i[1]);return Vn(function(){l.hasValue=!0,l.value=o},[o]),Gn(o),o};Mr.exports=Fr;var Jn=Mr.exports;const Yn=da(Jn),{useDebugValue:Xn}=fr,{useSyncExternalStoreWithSelector:Zn}=Yn;const ei=t=>t;function ti(t,s=ei,r){const a=Zn(t.subscribe,t.getState,t.getServerState||t.getInitialState,s,r);return Xn(a),a}const Us=t=>{const s=typeof t=="function"?Rn(t):t,r=(a,n)=>ti(s,a,n);return Object.assign(r,s),r},si=t=>t?Us(t):Us;function ri(t,s){let r;try{r=t()}catch{return}return{getItem:n=>{var i;const l=c=>c===null?null:JSON.parse(c,s==null?void 0:s.reviver),o=(i=r.getItem(n))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,s==null?void 0:s.replacer)),removeItem:n=>r.removeItem(n)}}const ct=t=>s=>{try{const r=t(s);return r instanceof Promise?r:{then(a){return ct(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return ct(a)(r)}}}},ai=(t,s)=>(r,a,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,L)=>({...L,...h}),...s},l=!1;const o=new Set,c=new Set;let x;try{x=i.getStorage()}catch{}if(!x)return t((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...h)},a,n);const g=ct(i.serialize),b=()=>{const h=i.partialize({...a()});let L;const C=g({state:h,version:i.version}).then(m=>x.setItem(i.name,m)).catch(m=>{L=m});if(L)throw L;return C},f=n.setState;n.setState=(h,L)=>{f(h,L),b()};const p=t((...h)=>{r(...h),b()},a,n);let d;const u=()=>{var h;if(!x)return;l=!1,o.forEach(C=>C(a()));const L=((h=i.onRehydrateStorage)==null?void 0:h.call(i,a()))||void 0;return ct(x.getItem.bind(x))(i.name).then(C=>{if(C)return i.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate)return i.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var m;return d=i.merge(C,(m=a())!=null?m:p),r(d,!0),b()}).then(()=>{L==null||L(d,void 0),l=!0,c.forEach(C=>C(d))}).catch(C=>{L==null||L(void 0,C)})};return n.persist={setOptions:h=>{i={...i,...h},h.getStorage&&(x=h.getStorage())},clearStorage:()=>{x==null||x.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>u(),hasHydrated:()=>l,onHydrate:h=>(o.add(h),()=>{o.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},u(),d||p},ni=(t,s)=>(r,a,n)=>{let i={storage:ri(()=>localStorage),partialize:u=>u,version:0,merge:(u,h)=>({...h,...u}),...s},l=!1;const o=new Set,c=new Set;let x=i.storage;if(!x)return t((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...u)},a,n);const g=()=>{const u=i.partialize({...a()});return x.setItem(i.name,{state:u,version:i.version})},b=n.setState;n.setState=(u,h)=>{b(u,h),g()};const f=t((...u)=>{r(...u),g()},a,n);n.getInitialState=()=>f;let p;const d=()=>{var u,h;if(!x)return;l=!1,o.forEach(C=>{var m;return C((m=a())!=null?m:f)});const L=((h=i.onRehydrateStorage)==null?void 0:h.call(i,(u=a())!=null?u:f))||void 0;return ct(x.getItem.bind(x))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate)return[!0,i.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var m;const[N,F]=C;if(p=i.merge(F,(m=a())!=null?m:f),r(p,!0),N)return g()}).then(()=>{L==null||L(p,void 0),p=a(),l=!0,c.forEach(C=>C(p))}).catch(C=>{L==null||L(void 0,C)})};return n.persist={setOptions:u=>{i={...i,...u},u.storage&&(x=u.storage)},clearStorage:()=>{x==null||x.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>d(),hasHydrated:()=>l,onHydrate:u=>(o.add(u),()=>{o.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},i.skipHydration||d(),p||f},ii=(t,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?ai(t,s):ni(t,s),li=ii,De=si()(li(t=>({user:null,token:null,refreshToken:null,isAuthenticated:!!localStorage.getItem("isAuthenticated"),isLoading:!1,login:(s,r,a)=>{localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",s.email),t({user:s,token:r,refreshToken:a,isAuthenticated:!0,isLoading:!1})},logout:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userEmail"),t({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})},setUser:s=>{t({user:s})},setLoading:s=>{t({isLoading:s})},updateToken:s=>{t({token:s})}}),{name:"bhamail-auth",partialize:t=>({user:t.user,token:t.token,refreshToken:t.refreshToken,isAuthenticated:t.isAuthenticated})}));function oi(){const[t,s]=v.useState("email"),[r,a]=v.useState(""),[n,i]=v.useState(""),[l,o]=v.useState(!1),[c,x]=v.useState("English (United Kingdom)"),g=De(u=>u.login),b=rt(),f=u=>{u.preventDefault(),r&&s("password")},p=u=>{u.preventDefault(),g({id:"1",email:r,firstName:"Demo",lastName:"User",role:"user",twoFactorEnabled:!1,quotaBytes:15e9,usedBytes:1e9},"demo-token","demo-refresh-token"),b("/inbox")},d=u=>{b("/register",{state:{accountType:u}})};return t==="password"?e.jsxs("div",{className:"google-signin-container",children:[e.jsxs("div",{className:"google-signin-card",children:[e.jsx("div",{className:"google-logo",children:e.jsxs("svg",{width:"74",height:"24",viewBox:"0 0 74 24",children:[e.jsx("path",{fill:"#4285F4",d:"M9.24 8.19v2.46h5.88c-.18 1.38-.64 2.39-1.34 3.1-.86.86-2.2 1.8-4.54 1.8-3.62 0-6.45-2.92-6.45-6.54s2.83-6.54 6.45-6.54c1.95 0 3.38.77 4.43 1.76L15.4 2.5C13.94 1.08 11.98.44 9.24.44c-5.48 0-9.94 4.28-9.94 9.56S3.76 19.56 9.24 19.56c2.69 0 4.72-.88 6.31-2.52 1.64-1.64 2.15-3.95 2.15-5.81 0-.57-.05-1.1-.14-1.54H9.24z"}),e.jsx("path",{fill:"#34A853",d:"M25 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z"}),e.jsx("path",{fill:"#FBBC05",d:"M53.58 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z"}),e.jsx("path",{fill:"#EA4335",d:"M38 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z"}),e.jsx("path",{fill:"#4285F4",d:"M64.96 6.2c-1.57 0-2.86.61-3.66 1.76l1.97 1.54c.66-.99 1.69-1.32 2.69-1.32 1.28 0 2.54.9 2.54 2.45v.27c-.59-.32-1.47-.68-2.88-.68-2.13 0-4.27 1.16-4.27 3.34 0 2.06 1.82 3.44 3.88 3.44.93 0 2.23-.48 2.88-1.05v.61h2.42V9.95c0-3.17-2.33-3.75-4.57-3.75zm-.25 9.13c-.73 0-1.75-.37-1.75-1.18 0-1.07 1.18-1.48 2.2-1.48.73 0 1.06.16 1.81.48-.32 1.15-1.53 2.18-2.26 2.18z"})]})}),e.jsxs("div",{className:"welcome-section",children:[e.jsx("h1",{children:"Welcome"}),e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-avatar",children:e.jsx("div",{className:"avatar-circle",children:r.charAt(0).toUpperCase()})}),e.jsx("div",{className:"user-email",children:r}),e.jsx("button",{className:"switch-account",onClick:()=>s("email"),children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M7 14l5-5 5 5z"})})})]})]}),e.jsxs("form",{onSubmit:p,className:"signin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"password",placeholder:"Enter your password",value:n,onChange:u=>i(u.target.value),className:"google-input",required:!0,autoFocus:!0}),e.jsx("label",{className:"google-label",children:"Enter your password"})]}),e.jsx("div",{className:"form-links",children:e.jsx($,{to:"/forgot-password",className:"forgot-link",children:"Forgot password?"})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>s("email"),className:"secondary-btn",children:"Back"}),e.jsx("button",{type:"submit",className:"primary-btn",children:"Next"})]})]}),e.jsxs("div",{className:"guest-mode",children:[e.jsx("p",{children:"Not your computer? Use Guest mode to sign in privately."}),e.jsx($,{to:"/guest",className:"guest-link",children:"Learn more about using Guest mode"})]})]}),e.jsxs("footer",{className:"google-footer",children:[e.jsx("div",{className:"footer-left",children:e.jsxs("select",{value:c,onChange:u=>x(u.target.value),className:"language-select",children:[e.jsx("option",{children:"English (United Kingdom)"}),e.jsx("option",{children:"English (United States)"}),e.jsx("option",{children:"Español"}),e.jsx("option",{children:"Français"}),e.jsx("option",{children:"Deutsch"})]})}),e.jsxs("div",{className:"footer-right",children:[e.jsx($,{to:"/help",children:"Help"}),e.jsx($,{to:"/privacy",children:"Privacy"}),e.jsx($,{to:"/terms",children:"Terms"})]})]})]}):e.jsxs("div",{className:"google-signin-container",children:[e.jsxs("div",{className:"google-signin-card",children:[e.jsx("div",{className:"google-logo",children:e.jsxs("svg",{width:"74",height:"24",viewBox:"0 0 74 24",children:[e.jsx("path",{fill:"#4285F4",d:"M9.24 8.19v2.46h5.88c-.18 1.38-.64 2.39-1.34 3.1-.86.86-2.2 1.8-4.54 1.8-3.62 0-6.45-2.92-6.45-6.54s2.83-6.54 6.45-6.54c1.95 0 3.38.77 4.43 1.76L15.4 2.5C13.94 1.08 11.98.44 9.24.44c-5.48 0-9.94 4.28-9.94 9.56S3.76 19.56 9.24 19.56c2.69 0 4.72-.88 6.31-2.52 1.64-1.64 2.15-3.95 2.15-5.81 0-.57-.05-1.1-.14-1.54H9.24z"}),e.jsx("path",{fill:"#34A853",d:"M25 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z"}),e.jsx("path",{fill:"#FBBC05",d:"M53.58 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z"}),e.jsx("path",{fill:"#EA4335",d:"M38 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z"}),e.jsx("path",{fill:"#4285F4",d:"M64.96 6.2c-1.57 0-2.86.61-3.66 1.76l1.97 1.54c.66-.99 1.69-1.32 2.69-1.32 1.28 0 2.54.9 2.54 2.45v.27c-.59-.32-1.47-.68-2.88-.68-2.13 0-4.27 1.16-4.27 3.34 0 2.06 1.82 3.44 3.88 3.44.93 0 2.23-.48 2.88-1.05v.61h2.42V9.95c0-3.17-2.33-3.75-4.57-3.75zm-.25 9.13c-.73 0-1.75-.37-1.75-1.18 0-1.07 1.18-1.48 2.2-1.48.73 0 1.06.16 1.81.48-.32 1.15-1.53 2.18-2.26 2.18z"})]})}),e.jsxs("div",{className:"signin-section",children:[e.jsx("h1",{children:"Sign in"}),e.jsx("p",{children:"to continue to Gmail"})]}),e.jsxs("form",{onSubmit:f,className:"signin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"email",placeholder:"Email or phone",value:r,onChange:u=>a(u.target.value),className:"google-input",required:!0,autoFocus:!0}),e.jsx("label",{className:"google-label",children:"Email or phone"})]}),e.jsx("div",{className:"form-links",children:e.jsx($,{to:"/forgot-email",className:"forgot-link",children:"Forgot email?"})}),e.jsxs("div",{className:"guest-mode",children:[e.jsx("p",{children:"Not your computer? Use Guest mode to sign in privately."}),e.jsx($,{to:"/guest",className:"guest-link",children:"Learn more about using Guest mode"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("div",{className:"create-account-section",children:[e.jsx("button",{type:"button",onClick:()=>o(!l),className:"create-account-btn",children:"Create account"}),l&&e.jsxs("div",{className:"create-options-dropdown",children:[e.jsx("button",{onClick:()=>d("personal"),children:"For my personal use"}),e.jsx("button",{onClick:()=>d("child"),children:"For my child"}),e.jsx("button",{onClick:()=>d("business"),children:"For work or my business"})]})]}),e.jsx("button",{type:"submit",className:"primary-btn",children:"Next"})]})]})]}),e.jsxs("footer",{className:"google-footer",children:[e.jsx("div",{className:"footer-left",children:e.jsxs("select",{value:c,onChange:u=>x(u.target.value),className:"language-select",children:[e.jsx("option",{children:"English (United Kingdom)"}),e.jsx("option",{children:"English (United States)"}),e.jsx("option",{children:"Español"}),e.jsx("option",{children:"Français"}),e.jsx("option",{children:"Deutsch"})]})}),e.jsxs("div",{className:"footer-right",children:[e.jsx($,{to:"/help",children:"Help"}),e.jsx($,{to:"/privacy",children:"Privacy"}),e.jsx($,{to:"/terms",children:"Terms"})]})]})]})}function Ir(t,s){return function(){return t.apply(s,arguments)}}const{toString:ci}=Object.prototype,{getPrototypeOf:js}=Object,{iterator:$t,toStringTag:Br}=Symbol,Ut=(t=>s=>{const r=ci.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xe=t=>(t=t.toLowerCase(),s=>Ut(s)===t),_t=t=>s=>typeof s===t,{isArray:at}=Array,tt=_t("undefined");function xt(t){return t!==null&&!tt(t)&&t.constructor!==null&&!tt(t.constructor)&&ne(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zr=xe("ArrayBuffer");function di(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&zr(t.buffer),s}const ui=_t("string"),ne=_t("function"),$r=_t("number"),ft=t=>t!==null&&typeof t=="object",mi=t=>t===!0||t===!1,jt=t=>{if(Ut(t)!=="object")return!1;const s=js(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Br in t)&&!($t in t)},hi=t=>{if(!ft(t)||xt(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},xi=xe("Date"),fi=xe("File"),gi=xe("Blob"),pi=xe("FileList"),bi=t=>ft(t)&&ne(t.pipe),yi=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ne(t.append)&&((s=Ut(t))==="formdata"||s==="object"&&ne(t.toString)&&t.toString()==="[object FormData]"))},ji=xe("URLSearchParams"),[vi,Ni,wi,Si]=["ReadableStream","Request","Response","Headers"].map(xe),ki=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gt(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),at(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(xt(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,t[o],o,t)}}function Ur(t,s){if(xt(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Me=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_r=t=>!tt(t)&&t!==Me;function ls(){const{caseless:t,skipUndefined:s}=_r(this)&&this||{},r={},a=(n,i)=>{const l=t&&Ur(r,i)||i;jt(r[l])&&jt(n)?r[l]=ls(r[l],n):jt(n)?r[l]=ls({},n):at(n)?r[l]=n.slice():(!s||!tt(n))&&(r[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&gt(arguments[n],a);return r}const Ci=(t,s,r,{allOwnKeys:a}={})=>(gt(s,(n,i)=>{r&&ne(n)?t[i]=Ir(n,r):t[i]=n},{allOwnKeys:a}),t),Ei=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Li=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Ti=(t,s,r,a)=>{let n,i,l;const o={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&js(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Di=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Ri=t=>{if(!t)return null;if(at(t))return t;let s=t.length;if(!$r(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},Ai=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&js(Uint8Array)),Mi=(t,s)=>{const a=(t&&t[$t]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},Fi=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},Pi=xe("HTMLFormElement"),Oi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),_s=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),Ii=xe("RegExp"),qr=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};gt(r,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},Bi=t=>{qr(t,(s,r)=>{if(ne(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(ne(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zi=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return at(t)?a(t):a(String(t).split(s)),r},$i=()=>{},Ui=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function _i(t){return!!(t&&ne(t.append)&&t[Br]==="FormData"&&t[$t])}const qi=t=>{const s=new Array(10),r=(a,n)=>{if(ft(a)){if(s.indexOf(a)>=0)return;if(xt(a))return a;if(!("toJSON"in a)){s[n]=a;const i=at(a)?[]:{};return gt(a,(l,o)=>{const c=r(l,n+1);!tt(c)&&(i[o]=c)}),s[n]=void 0,i}}return a};return r(t,0)},Hi=xe("AsyncFunction"),Wi=t=>t&&(ft(t)||ne(t))&&ne(t.then)&&ne(t.catch),Hr=((t,s)=>t?setImmediate:s?((r,a)=>(Me.addEventListener("message",({source:n,data:i})=>{n===Me&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Me.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ne(Me.postMessage)),Qi=typeof queueMicrotask<"u"?queueMicrotask.bind(Me):typeof process<"u"&&process.nextTick||Hr,Vi=t=>t!=null&&ne(t[$t]),j={isArray:at,isArrayBuffer:zr,isBuffer:xt,isFormData:yi,isArrayBufferView:di,isString:ui,isNumber:$r,isBoolean:mi,isObject:ft,isPlainObject:jt,isEmptyObject:hi,isReadableStream:vi,isRequest:Ni,isResponse:wi,isHeaders:Si,isUndefined:tt,isDate:xi,isFile:fi,isBlob:gi,isRegExp:Ii,isFunction:ne,isStream:bi,isURLSearchParams:ji,isTypedArray:Ai,isFileList:pi,forEach:gt,merge:ls,extend:Ci,trim:ki,stripBOM:Ei,inherits:Li,toFlatObject:Ti,kindOf:Ut,kindOfTest:xe,endsWith:Di,toArray:Ri,forEachEntry:Mi,matchAll:Fi,isHTMLForm:Pi,hasOwnProperty:_s,hasOwnProp:_s,reduceDescriptors:qr,freezeMethods:Bi,toObjectSet:zi,toCamelCase:Oi,noop:$i,toFiniteNumber:Ui,findKey:Ur,global:Me,isContextDefined:_r,isSpecCompliantForm:_i,toJSONObject:qi,isAsyncFn:Hi,isThenable:Wi,setImmediate:Hr,asap:Qi,isIterable:Vi};function B(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}j.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const Wr=B.prototype,Qr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qr[t]={value:t}});Object.defineProperties(B,Qr);Object.defineProperty(Wr,"isAxiosError",{value:!0});B.from=(t,s,r,a,n,i)=>{const l=Object.create(Wr);j.toFlatObject(t,l,function(g){return g!==Error.prototype},x=>x!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return B.call(l,o,c,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const Ki=null;function os(t){return j.isPlainObject(t)||j.isArray(t)}function Vr(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function qs(t,s,r){return t?t.concat(s).map(function(n,i){return n=Vr(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function Gi(t){return j.isArray(t)&&!t.some(os)}const Ji=j.toFlatObject(j,{},null,function(s){return/^is[A-Z]/.test(s)});function qt(t,s,r){if(!j.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=j.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(u,h){return!j.isUndefined(h[u])});const a=r.metaTokens,n=r.visitor||g,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(s);if(!j.isFunction(n))throw new TypeError("visitor must be a function");function x(d){if(d===null)return"";if(j.isDate(d))return d.toISOString();if(j.isBoolean(d))return d.toString();if(!c&&j.isBlob(d))throw new B("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(d)||j.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function g(d,u,h){let L=d;if(d&&!h&&typeof d=="object"){if(j.endsWith(u,"{}"))u=a?u:u.slice(0,-2),d=JSON.stringify(d);else if(j.isArray(d)&&Gi(d)||(j.isFileList(d)||j.endsWith(u,"[]"))&&(L=j.toArray(d)))return u=Vr(u),L.forEach(function(m,N){!(j.isUndefined(m)||m===null)&&s.append(l===!0?qs([u],N,i):l===null?u:u+"[]",x(m))}),!1}return os(d)?!0:(s.append(qs(h,u,i),x(d)),!1)}const b=[],f=Object.assign(Ji,{defaultVisitor:g,convertValue:x,isVisitable:os});function p(d,u){if(!j.isUndefined(d)){if(b.indexOf(d)!==-1)throw Error("Circular reference detected in "+u.join("."));b.push(d),j.forEach(d,function(L,C){(!(j.isUndefined(L)||L===null)&&n.call(s,L,j.isString(C)?C.trim():C,u,f))===!0&&p(L,u?u.concat(C):[C])}),b.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return p(t),s}function Hs(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function vs(t,s){this._pairs=[],t&&qt(t,this,s)}const Kr=vs.prototype;Kr.append=function(s,r){this._pairs.push([s,r])};Kr.toString=function(s){const r=s?function(a){return s.call(this,a,Hs)}:Hs;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Yi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gr(t,s,r){if(!s)return t;const a=r&&r.encode||Yi;j.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=j.isURLSearchParams(s)?s.toString():new vs(s,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Xi{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){j.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Ws=Xi,Jr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zi=typeof URLSearchParams<"u"?URLSearchParams:vs,el=typeof FormData<"u"?FormData:null,tl=typeof Blob<"u"?Blob:null,sl={isBrowser:!0,classes:{URLSearchParams:Zi,FormData:el,Blob:tl},protocols:["http","https","file","blob","url","data"]},Ns=typeof window<"u"&&typeof document<"u",cs=typeof navigator=="object"&&navigator||void 0,rl=Ns&&(!cs||["ReactNative","NativeScript","NS"].indexOf(cs.product)<0),al=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),nl=Ns&&window.location.href||"http://localhost",il=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ns,hasStandardBrowserEnv:rl,hasStandardBrowserWebWorkerEnv:al,navigator:cs,origin:nl},Symbol.toStringTag,{value:"Module"})),se={...il,...sl};function ll(t,s){return qt(t,new se.classes.URLSearchParams,{visitor:function(r,a,n,i){return se.isNode&&j.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function ol(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function cl(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function Yr(t){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&j.isArray(n)?n.length:l,c?(j.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!j.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&j.isArray(n[l])&&(n[l]=cl(n[l])),!o)}if(j.isFormData(t)&&j.isFunction(t.entries)){const r={};return j.forEachEntry(t,(a,n)=>{s(ol(a),n,r,0)}),r}return null}function dl(t,s,r){if(j.isString(t))try{return(s||JSON.parse)(t),j.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const ws={transitional:Jr,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=j.isObject(s);if(i&&j.isHTMLForm(s)&&(s=new FormData(s)),j.isFormData(s))return n?JSON.stringify(Yr(s)):s;if(j.isArrayBuffer(s)||j.isBuffer(s)||j.isStream(s)||j.isFile(s)||j.isBlob(s)||j.isReadableStream(s))return s;if(j.isArrayBufferView(s))return s.buffer;if(j.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ll(s,this.formSerializer).toString();if((o=j.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return qt(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),dl(s)):s}],transformResponse:[function(s){const r=this.transitional||ws.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(j.isResponse(s)||j.isReadableStream(s))return s;if(s&&j.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?B.from(o,B.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:se.classes.FormData,Blob:se.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{ws.headers[t]={}});const Ss=ws,ul=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ml=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&ul[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Qs=Symbol("internals");function it(t){return t&&String(t).trim().toLowerCase()}function vt(t){return t===!1||t==null?t:j.isArray(t)?t.map(vt):String(t)}function hl(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const xl=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gt(t,s,r,a,n){if(j.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!j.isString(s)){if(j.isString(a))return s.indexOf(a)!==-1;if(j.isRegExp(a))return a.test(s)}}function fl(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function gl(t,s){const r=j.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}class Ht{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(o,c,x){const g=it(c);if(!g)throw new Error("header name must be a non-empty string");const b=j.findKey(n,g);(!b||n[b]===void 0||x===!0||x===void 0&&n[b]!==!1)&&(n[b||c]=vt(o))}const l=(o,c)=>j.forEach(o,(x,g)=>i(x,g,c));if(j.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(j.isString(s)&&(s=s.trim())&&!xl(s))l(ml(s),r);else if(j.isObject(s)&&j.isIterable(s)){let o={},c,x;for(const g of s){if(!j.isArray(g))throw TypeError("Object iterator must return a key-value pair");o[x=g[0]]=(c=o[x])?j.isArray(c)?[...c,g[1]]:[c,g[1]]:g[1]}l(o,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=it(s),s){const a=j.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return hl(n);if(j.isFunction(r))return r.call(this,n,a);if(j.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=it(s),s){const a=j.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Gt(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=it(l),l){const o=j.findKey(a,l);o&&(!r||Gt(a,a[o],o,r))&&(delete a[o],n=!0)}}return j.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||Gt(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return j.forEach(this,(n,i)=>{const l=j.findKey(a,i);if(l){r[l]=vt(n),delete r[i];return}const o=s?fl(i):String(i).trim();o!==i&&delete r[i],r[o]=vt(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return j.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&j.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Qs]=this[Qs]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=it(l);a[o]||(gl(n,l),a[o]=!0)}return j.isArray(s)?s.forEach(i):i(s),this}}Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Ht.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});j.freezeMethods(Ht);const me=Ht;function Jt(t,s){const r=this||Ss,a=s||r,n=me.from(a.headers);let i=a.data;return j.forEach(t,function(o){i=o.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function Xr(t){return!!(t&&t.__CANCEL__)}function nt(t,s,r){B.call(this,t??"canceled",B.ERR_CANCELED,s,r),this.name="CanceledError"}j.inherits(nt,B,{__CANCEL__:!0});function Zr(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new B("Request failed with status code "+r.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pl(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function bl(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const x=Date.now(),g=a[i];l||(l=x),r[n]=c,a[n]=x;let b=i,f=0;for(;b!==n;)f+=r[b++],b=b%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),x-l<s)return;const p=g&&x-g;return p?Math.round(f*1e3/p):void 0}}function yl(t,s){let r=0,a=1e3/s,n,i;const l=(x,g=Date.now())=>{r=g,n=null,i&&(clearTimeout(i),i=null),t(...x)};return[(...x)=>{const g=Date.now(),b=g-r;b>=a?l(x,g):(n=x,i||(i=setTimeout(()=>{i=null,l(n)},a-b)))},()=>n&&l(n)]}const Rt=(t,s,r=3)=>{let a=0;const n=bl(50,250);return yl(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,x=n(c),g=l<=o;a=l;const b={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:x||void 0,estimated:x&&o&&g?(o-l)/x:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(b)},r)},Vs=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Ks=t=>(...s)=>j.asap(()=>t(...s)),jl=se.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,se.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(se.origin),se.navigator&&/(msie|trident)/i.test(se.navigator.userAgent)):()=>!0,vl=se.hasStandardBrowserEnv?{write(t,s,r,a,n,i){const l=[t+"="+encodeURIComponent(s)];j.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),j.isString(a)&&l.push("path="+a),j.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nl(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wl(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function ea(t,s,r){let a=!Nl(s);return t&&(a||r==!1)?wl(t,s):s}const Gs=t=>t instanceof me?{...t}:t;function Ue(t,s){s=s||{};const r={};function a(x,g,b,f){return j.isPlainObject(x)&&j.isPlainObject(g)?j.merge.call({caseless:f},x,g):j.isPlainObject(g)?j.merge({},g):j.isArray(g)?g.slice():g}function n(x,g,b,f){if(j.isUndefined(g)){if(!j.isUndefined(x))return a(void 0,x,b,f)}else return a(x,g,b,f)}function i(x,g){if(!j.isUndefined(g))return a(void 0,g)}function l(x,g){if(j.isUndefined(g)){if(!j.isUndefined(x))return a(void 0,x)}else return a(void 0,g)}function o(x,g,b){if(b in s)return a(x,g);if(b in t)return a(void 0,x)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(x,g,b)=>n(Gs(x),Gs(g),b,!0)};return j.forEach(Object.keys({...t,...s}),function(g){const b=c[g]||n,f=b(t[g],s[g],g);j.isUndefined(f)&&b!==o||(r[g]=f)}),r}const ta=t=>{const s=Ue({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=me.from(l),s.url=Gr(ea(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),j.isFormData(r)){if(se.hasStandardBrowserEnv||se.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(j.isFunction(r.getHeaders)){const c=r.getHeaders(),x=["content-type","content-length"];Object.entries(c).forEach(([g,b])=>{x.includes(g.toLowerCase())&&l.set(g,b)})}}if(se.hasStandardBrowserEnv&&(a&&j.isFunction(a)&&(a=a(s)),a||a!==!1&&jl(s.url))){const c=n&&i&&vl.read(i);c&&l.set(n,c)}return s},Sl=typeof XMLHttpRequest<"u",kl=Sl&&function(t){return new Promise(function(r,a){const n=ta(t);let i=n.data;const l=me.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:x}=n,g,b,f,p,d;function u(){p&&p(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(g),n.signal&&n.signal.removeEventListener("abort",g)}let h=new XMLHttpRequest;h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout;function L(){if(!h)return;const m=me.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),F={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:m,config:t,request:h};Zr(function(M){r(M),u()},function(M){a(M),u()},F),h=null}"onloadend"in h?h.onloadend=L:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(L)},h.onabort=function(){h&&(a(new B("Request aborted",B.ECONNABORTED,t,h)),h=null)},h.onerror=function(N){const F=N&&N.message?N.message:"Network Error",R=new B(F,B.ERR_NETWORK,t,h);R.event=N||null,a(R),h=null},h.ontimeout=function(){let N=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const F=n.transitional||Jr;n.timeoutErrorMessage&&(N=n.timeoutErrorMessage),a(new B(N,F.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,h)),h=null},i===void 0&&l.setContentType(null),"setRequestHeader"in h&&j.forEach(l.toJSON(),function(N,F){h.setRequestHeader(F,N)}),j.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),o&&o!=="json"&&(h.responseType=n.responseType),x&&([f,d]=Rt(x,!0),h.addEventListener("progress",f)),c&&h.upload&&([b,p]=Rt(c),h.upload.addEventListener("progress",b),h.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(g=m=>{h&&(a(!m||m.type?new nt(null,t,h):m),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(g),n.signal&&(n.signal.aborted?g():n.signal.addEventListener("abort",g)));const C=pl(n.url);if(C&&se.protocols.indexOf(C)===-1){a(new B("Unsupported protocol "+C+":",B.ERR_BAD_REQUEST,t));return}h.send(i||null)})},Cl=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(x){if(!n){n=!0,o();const g=x instanceof Error?x:this.reason;a.abort(g instanceof B?g:new nt(g instanceof Error?g.message:g))}};let l=s&&setTimeout(()=>{l=null,i(new B(`timeout ${s} of ms exceeded`,B.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(i):x.removeEventListener("abort",i)}),t=null)};t.forEach(x=>x.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>j.asap(o),c}},El=Cl,Ll=function*(t,s){let r=t.byteLength;if(!s||r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},Tl=async function*(t,s){for await(const r of Dl(t))yield*Ll(r,s)},Dl=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Js=(t,s,r,a)=>{const n=Tl(t,s);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:x,value:g}=await n.next();if(x){o(),c.close();return}let b=g.byteLength;if(r){let f=i+=b;r(f)}c.enqueue(new Uint8Array(g))}catch(x){throw o(x),x}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},Ys=64*1024,{isFunction:yt}=j,sa=(({fetch:t,Request:s,Response:r})=>({fetch:t,Request:s,Response:r}))(j.global),{ReadableStream:Xs,TextEncoder:Zs}=j.global,er=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Rl=t=>{const{fetch:s,Request:r,Response:a}=Object.assign({},sa,t),n=yt(s),i=yt(r),l=yt(a);if(!n)return!1;const o=n&&yt(Xs),c=n&&(typeof Zs=="function"?(d=>u=>d.encode(u))(new Zs):async d=>new Uint8Array(await new r(d).arrayBuffer())),x=i&&o&&er(()=>{let d=!1;const u=new r(se.origin,{body:new Xs,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!u}),g=l&&o&&er(()=>j.isReadableStream(new a("").body)),b={stream:g&&(d=>d.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!b[d]&&(b[d]=(u,h)=>{let L=u&&u[d];if(L)return L.call(u);throw new B(`Response type '${d}' is not supported`,B.ERR_NOT_SUPPORT,h)})});const f=async d=>{if(d==null)return 0;if(j.isBlob(d))return d.size;if(j.isSpecCompliantForm(d))return(await new r(se.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(j.isArrayBufferView(d)||j.isArrayBuffer(d))return d.byteLength;if(j.isURLSearchParams(d)&&(d=d+""),j.isString(d))return(await c(d)).byteLength},p=async(d,u)=>{const h=j.toFiniteNumber(d.getContentLength());return h??f(u)};return async d=>{let{url:u,method:h,data:L,signal:C,cancelToken:m,timeout:N,onDownloadProgress:F,onUploadProgress:R,responseType:M,headers:I,withCredentials:P="same-origin",fetchOptions:_}=ta(d);M=M?(M+"").toLowerCase():"text";let q=El([C,m&&m.toAbortSignal()],N),K=null;const E=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let y;try{if(R&&x&&h!=="get"&&h!=="head"&&(y=await p(I,L))!==0){let z=new r(u,{method:"POST",body:L,duplex:"half"}),X;if(j.isFormData(L)&&(X=z.headers.get("content-type"))&&I.setContentType(X),z.body){const[Re,ye]=Vs(y,Rt(Ks(R)));L=Js(z.body,Ys,Re,ye)}}j.isString(P)||(P=P?"include":"omit");const T=i&&"credentials"in r.prototype,k={..._,signal:q,method:h.toUpperCase(),headers:I.normalize().toJSON(),body:L,duplex:"half",credentials:T?P:void 0};K=i&&new r(u,k);let A=await(i?s(K,_):s(u,k));const w=g&&(M==="stream"||M==="response");if(g&&(F||w&&E)){const z={};["status","statusText","headers"].forEach(Y=>{z[Y]=A[Y]});const X=j.toFiniteNumber(A.headers.get("content-length")),[Re,ye]=F&&Vs(X,Rt(Ks(F),!0))||[];A=new a(Js(A.body,Ys,Re,()=>{ye&&ye(),E&&E()}),z)}M=M||"text";let D=await b[j.findKey(b,M)||"text"](A,d);return!w&&E&&E(),await new Promise((z,X)=>{Zr(z,X,{data:D,headers:me.from(A.headers),status:A.status,statusText:A.statusText,config:d,request:K})})}catch(T){throw E&&E(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new B("Network Error",B.ERR_NETWORK,d,K),{cause:T.cause||T}):B.from(T,T&&T.code,d,K)}}},Al=new Map,ra=t=>{let s=j.merge.call({skipUndefined:!0},sa,t?t.env:null);const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let l=i.length,o=l,c,x,g=Al;for(;o--;)c=i[o],x=g.get(c),x===void 0&&g.set(c,x=o?new Map:Rl(s)),g=x;return x};ra();const ds={http:Ki,xhr:kl,fetch:{get:ra}};j.forEach(ds,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const tr=t=>`- ${t}`,Ml=t=>j.isFunction(t)||t===null||t===!1,aa={getAdapter:(t,s)=>{t=j.isArray(t)?t:[t];const{length:r}=t;let a,n;const i={};for(let l=0;l<r;l++){a=t[l];let o;if(n=a,!Ml(a)&&(n=ds[(o=String(a)).toLowerCase()],n===void 0))throw new B(`Unknown adapter '${o}'`);if(n&&(j.isFunction(n)||(n=n.get(s))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,x])=>`adapter ${c} `+(x===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(tr).join(`
`):" "+tr(l[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ds};function Yt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nt(null,t)}function sr(t){return Yt(t),t.headers=me.from(t.headers),t.data=Jt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aa.getAdapter(t.adapter||Ss.adapter,t)(t).then(function(a){return Yt(t),a.data=Jt.call(t,t.transformResponse,a),a.headers=me.from(a.headers),a},function(a){return Xr(a)||(Yt(t),a&&a.response&&(a.response.data=Jt.call(t,t.transformResponse,a.response),a.response.headers=me.from(a.response.headers))),Promise.reject(a)})}const na="1.12.1",Wt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Wt[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const rr={};Wt.transitional=function(s,r,a){function n(i,l){return"[Axios v"+na+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new B(n(l," has been removed"+(r?" in "+r:"")),B.ERR_DEPRECATED);return r&&!rr[l]&&(rr[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};Wt.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Fl(t,s,r){if(typeof t!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new B("option "+i+" must be "+c,B.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new B("Unknown option "+i,B.ERR_BAD_OPTION)}}const Nt={assertOptions:Fl,validators:Wt},fe=Nt.validators;class At{constructor(s){this.defaults=s||{},this.interceptors={request:new Ws,response:new Ws}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Ue(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&Nt.assertOptions(a,{silentJSONParsing:fe.transitional(fe.boolean),forcedJSONParsing:fe.transitional(fe.boolean),clarifyTimeoutError:fe.transitional(fe.boolean)},!1),n!=null&&(j.isFunction(n)?r.paramsSerializer={serialize:n}:Nt.assertOptions(n,{encode:fe.function,serialize:fe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nt.assertOptions(r,{baseUrl:fe.spelling("baseURL"),withXsrfToken:fe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&j.merge(i.common,i[r.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),r.headers=me.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(r)===!1||(c=c&&u.synchronous,o.unshift(u.fulfilled,u.rejected))});const x=[];this.interceptors.response.forEach(function(u){x.push(u.fulfilled,u.rejected)});let g,b=0,f;if(!c){const d=[sr.bind(this),void 0];for(d.unshift(...o),d.push(...x),f=d.length,g=Promise.resolve(r);b<f;)g=g.then(d[b++],d[b++]);return g}f=o.length;let p=r;for(b=0;b<f;){const d=o[b++],u=o[b++];try{p=d(p)}catch(h){u.call(this,h);break}}try{g=sr.call(this,p)}catch(d){return Promise.reject(d)}for(b=0,f=x.length;b<f;)g=g.then(x[b++],x[b++]);return g}getUri(s){s=Ue(this.defaults,s);const r=ea(s.baseURL,s.url,s.allowAbsoluteUrls);return Gr(r,s.params,s.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(s){At.prototype[s]=function(r,a){return this.request(Ue(a||{},{method:s,url:r,data:(a||{}).data}))}});j.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,o){return this.request(Ue(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}At.prototype[s]=r(),At.prototype[s+"Form"]=r(!0)});const wt=At;class ks{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new nt(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new ks(function(n){s=n}),cancel:s}}}const Pl=ks;function Ol(t){return function(r){return t.apply(null,r)}}function Il(t){return j.isObject(t)&&t.isAxiosError===!0}const us={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(us).forEach(([t,s])=>{us[s]=t});const Bl=us;function ia(t){const s=new wt(t),r=Ir(wt.prototype.request,s);return j.extend(r,wt.prototype,s,{allOwnKeys:!0}),j.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return ia(Ue(t,n))},r}const J=ia(Ss);J.Axios=wt;J.CanceledError=nt;J.CancelToken=Pl;J.isCancel=Xr;J.VERSION=na;J.toFormData=qt;J.AxiosError=B;J.Cancel=J.CanceledError;J.all=function(s){return Promise.all(s)};J.spread=Ol;J.isAxiosError=Il;J.mergeConfig=Ue;J.AxiosHeaders=me;J.formToJSON=t=>Yr(j.isHTMLForm(t)?new FormData(t):t);J.getAdapter=aa.getAdapter;J.HttpStatusCode=Bl;J.default=J;const la=J,W=la.create({baseURL:{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_API_BASE_URL||"/api",headers:{"Content-Type":"application/json"}});W.interceptors.request.use(t=>{const s=De.getState().token;return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));W.interceptors.response.use(t=>t,async t=>{var r;const s=t.config;if(((r=t.response)==null?void 0:r.status)===401&&!s._retry){s._retry=!0;try{const{refreshToken:a}=De.getState();if(a){const n=await la.post("/api/auth/refresh",{refreshToken:a}),{token:i}=n.data;return De.getState().updateToken(i),s.headers.Authorization=`Bearer ${i}`,W(s)}}catch{De.getState().logout(),window.location.href="/login"}}return Promise.reject(t)});const zl={login:async(t,s,r)=>(await W.post("/auth/login",{email:t,password:s,totpCode:r})).data,register:async t=>(await W.post("/auth/signup",t)).data,logout:async t=>(await W.post("/auth/logout",{refreshToken:t})).data,me:async()=>(await W.get("/auth/me")).data,forgotPassword:async t=>(await W.post("/auth/forgot-password",{email:t})).data,resetPassword:async(t,s)=>(await W.post("/auth/reset-password",{token:t,password:s})).data,setup2FA:async()=>(await W.post("/auth/setup-2fa")).data,verify2FA:async t=>(await W.post("/auth/verify-2fa",{totpCode:t})).data,disable2FA:async(t,s)=>(await W.post("/auth/disable-2fa",{password:t,totpCode:s})).data},V={getInbox:async(t={})=>(await W.get("/mail/inbox",{params:t})).data,getThread:async t=>(await W.get(`/mail/thread/${t}`)).data,sendEmail:async t=>(await W.post("/mail/send",t)).data,starMessage:async(t,s)=>(await W.patch(`/mail/message/${t}/star`,{starred:s})).data,moveMessage:async(t,s)=>(await W.patch(`/mail/message/${t}/move`,{folder:s})).data,archiveThread:async t=>(await W.patch(`/mail/thread/${t}/archive`)).data,deleteThread:async t=>(await W.delete(`/mail/thread/${t}`)).data,markThreadAsSpam:async t=>(await W.patch(`/mail/thread/${t}/spam`)).data,toggleThreadStar:async t=>(await W.patch(`/mail/thread/${t}/star`)).data,toggleThreadImportant:async t=>(await W.patch(`/mail/thread/${t}/important`)).data,search:async(t,s={})=>(await W.get("/search",{params:{q:t,...s}})).data};function st({size:t="md",showText:s=!0}){const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-16 h-16"},a={sm:"w-3 h-3",md:"w-5 h-5",lg:"w-8 h-8"},n={sm:"text-lg",md:"text-xl",lg:"text-3xl"};return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`${r[t]} bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 rounded-full flex items-center justify-center shadow-lg`,children:e.jsx(Te,{className:`${a[t]} text-white`})}),s&&e.jsxs("span",{className:`ml-3 font-medium text-gray-900 ${n[t]}`,children:[e.jsx("span",{className:"font-semibold text-gmail-blue",children:"Bha"}),e.jsx("span",{className:"font-normal text-gray-700",children:"Mail"})]})]})}function $l(){const[t,s]=v.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[r,a]=v.useState(!1),[n,i]=v.useState(""),l=rt(),{login:o}=De(),c=b=>{s(f=>({...f,[b.target.name]:b.target.value}))},x=async b=>{if(b.preventDefault(),a(!0),i(""),t.password!==t.confirmPassword){i("Passwords do not match"),a(!1);return}if(t.password.length<6){i("Password must be at least 6 characters long"),a(!1);return}try{const f=await zl.register({email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName});o(f.user,f.token,f.refreshToken),l("/inbox")}catch(f){i(f instanceof Error?f.message:"Registration failed")}finally{a(!1)}},g=t.password.length>=8?"Strong":t.password.length>=6?"Medium":t.password.length>0?"Weak":"";return e.jsx("div",{className:"gmail-auth-container",children:e.jsxs("div",{className:"gmail-auth-card",style:{maxWidth:"500px"},children:[e.jsx("div",{className:"gmail-auth-logo",children:e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx(st,{size:"lg",showText:!0})})}),e.jsx("h1",{className:"gmail-auth-title",children:"Create your account"}),e.jsx("p",{className:"gmail-auth-subtitle",children:"to continue to BhaMail"}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-6 text-sm",children:n}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"gmail-form-group",children:[e.jsx("label",{htmlFor:"firstName",className:"gmail-label",children:"First name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:t.firstName,onChange:c,className:"gmail-input",autoComplete:"given-name"})]}),e.jsxs("div",{className:"gmail-form-group",children:[e.jsx("label",{htmlFor:"lastName",className:"gmail-label",children:"Last name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:t.lastName,onChange:c,className:"gmail-input",autoComplete:"family-name"})]})]}),e.jsxs("div",{className:"gmail-form-group",children:[e.jsx("label",{htmlFor:"email",className:"gmail-label",children:"Choose your email address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:c,className:"gmail-input",placeholder:"your-email@example.com",autoComplete:"email"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can use letters, numbers & periods"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"gmail-form-group",children:[e.jsx("label",{htmlFor:"password",className:"gmail-label",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:c,className:"gmail-input",placeholder:"Create password",autoComplete:"new-password"}),g&&e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`text-xs px-2 py-1 rounded ${g==="Strong"?"bg-green-100 text-green-800":g==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:g})})]}),e.jsxs("div",{className:"gmail-form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"gmail-label",children:"Confirm"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:c,className:"gmail-input",placeholder:"Confirm password",autoComplete:"new-password"}),t.confirmPassword&&e.jsx("div",{className:"mt-1",children:t.password===t.confirmPassword?e.jsxs("div",{className:"flex items-center text-green-600 text-xs",children:[e.jsx(ga,{className:"w-3 h-3 mr-1"}),"Passwords match"]}):e.jsx("div",{className:"text-red-600 text-xs",children:"Passwords don't match"})})]})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(St,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Use a strong password"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${t.password.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${/[A-Z]/.test(t.password)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${/[0-9]/.test(t.password)?"bg-green-500":"bg-gray-300"}`}),"One number"]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx($,{to:"/login",className:"gmail-btn gmail-btn-text",children:"Sign in instead"}),e.jsx("button",{type:"submit",disabled:r,className:"gmail-btn gmail-btn-primary",children:r?"Creating...":"Create account"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["By creating an account, you agree to BhaMail's"," ",e.jsx("a",{href:"#",className:"gmail-link",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"gmail-link",children:"Privacy Policy"})]})})]})]})})}function Ul({message:t="Loading...",fullPage:s=!1}){const r=s?"min-h-screen bg-gray-50 flex flex-col justify-center items-center":"flex flex-col items-center justify-center py-8";return e.jsx("div",{className:r,children:e.jsxs("div",{className:"text-center",children:[e.jsx(st,{size:"lg",showText:!0}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 rounded-full animate-spin border-t-gmail-blue mx-auto"})}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 font-medium",children:t}),s&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Powered by ",e.jsx("span",{className:"font-medium text-gmail-blue",children:"BhaMail"})]})]})]})})}function _l({title:t="Something went wrong",message:s="We're having trouble loading this page. Please try again.",showHome:r=!0,showRefresh:a=!0,onRefresh:n}){return e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(st,{size:"lg",showText:!0}),e.jsx("div",{className:"mt-8 mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsx(mt,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:t}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("div",{className:"space-y-4",children:[a&&e.jsxs("button",{onClick:n,className:"gmail-btn gmail-btn-primary w-full flex items-center justify-center",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"Try Again"]}),r&&e.jsxs("a",{href:"/",className:"gmail-btn gmail-btn-secondary w-full flex items-center justify-center",children:[e.jsx(pa,{className:"w-4 h-4 mr-2"}),"Go to Inbox"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Need help? Contact"," ",e.jsx("span",{className:"font-medium text-gmail-blue",children:"BhaMail Support"})]})})]})})]})})}function Qt({title:t="Inbox",unreadCount:s}){return v.useEffect(()=>{const r="BhaMail";let a=r;return t&&t!=="Inbox"&&(a=`${t} - ${r}`),s&&s>0&&(a=`(${s}) ${a}`),document.title=a,()=>{document.title=r}},[t,s]),null}function ql(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState(new Set),[l,o]=v.useState(!1),[c,x]=v.useState(!1),[g,b]=v.useState(1),[f]=v.useState(1),[p,d]=v.useState("");v.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const R=await V.getInbox({folder:"inbox"});s(R.emails||[])}catch(R){d(R instanceof Error?R.message:"Failed to load emails")}finally{a(!1)}},h=R=>{const M=new Set(n);M.has(R)?M.delete(R):M.add(R),i(M),o(M.size===t.length)},L=()=>{n.size===t.length?(i(new Set),o(!1)):(i(new Set(t.map(R=>R.id))),o(!0))},C=async R=>{const M=Array.from(n);if(M.length!==0)try{switch(R){case"archive":console.log("Archiving emails:",M);break;case"delete":console.log("Deleting emails:",M);break;case"markAsRead":console.log("Marking as read:",M);break;case"markAsUnread":console.log("Marking as unread:",M);break;case"spam":console.log("Marking as spam:",M);break;case"snooze":console.log("Snoozing emails:",M);break}i(new Set),o(!1)}catch(I){console.error("Bulk action failed:",I)}},m=async(R,M)=>{try{await V.starMessage(R,!M),s(I=>I.map(P=>P.id===R?{...P,isStarred:!M}:P))}catch(I){console.error("Failed to toggle star:",I)}},N=R=>{const M=new Date(R),P=new Date().getTime()-M.getTime(),_=Math.floor(P/(1e3*60*60*24));return _===0?M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):_<7?M.toLocaleDateString([],{weekday:"short"}):M.toLocaleDateString([],{month:"short",day:"numeric"})},F=t.filter(R=>!R.isRead).length;return r?e.jsx(Ul,{message:"Loading your emails..."}):p?e.jsx(_l,{title:"Unable to load emails",message:p,onRefresh:u,showHome:!1}):e.jsxs("div",{className:"gmail-content",children:[e.jsx(Qt,{title:"Inbox",unreadCount:F}),e.jsxs("div",{className:"gmail-toolbar",children:[e.jsxs("div",{className:"gmail-toolbar-left",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:L,className:"h-4 w-4 text-blue-600 rounded border-gray-300",title:"Select all"}),n.size>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>C("archive"),className:"gmail-toolbar-btn",title:"Archive",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("spam"),className:"gmail-toolbar-btn",title:"Report spam",children:e.jsx(mt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("delete"),className:"gmail-toolbar-btn",title:"Delete",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("markAsRead"),className:"gmail-toolbar-btn",title:"Mark as read",children:e.jsx(Zt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("markAsUnread"),className:"gmail-toolbar-btn",title:"Mark as unread",children:e.jsx(es,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("snooze"),className:"gmail-toolbar-btn",title:"Snooze",children:e.jsx(kt,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!c),className:"gmail-toolbar-btn",title:"More",children:e.jsx(pr,{className:"w-4 h-4"})}),c&&e.jsxs("div",{className:"absolute top-8 left-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 min-w-48",children:[e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[e.jsx(_e,{className:"w-4 h-4 mr-2"}),"Add to Tasks"]}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[e.jsx(_e,{className:"w-4 h-4 mr-2"}),"Label as"]}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[e.jsx(ba,{className:"w-4 h-4 mr-2"}),"Print"]}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Filter messages like these"]})]})]})]}),e.jsx("button",{onClick:u,className:"gmail-toolbar-btn ml-4",title:"Refresh",children:e.jsx(ya,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"gmail-toolbar-right",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:n.size>0?`${n.size} selected`:`1-${t.length} of ${t.length}`}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>b(Math.max(1,g-1)),disabled:g===1,className:"gmail-toolbar-btn",title:"Older",children:e.jsx(br,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(Math.min(f,g+1)),disabled:g===f,className:"gmail-toolbar-btn",title:"Newer",children:e.jsx(Ye,{className:"w-4 h-4"})})]})]})})]}),e.jsx("div",{className:"gmail-email-list",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-16",children:[e.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Your BhaMail inbox is empty"}),e.jsx("p",{className:"text-sm mb-4",children:"When you receive emails, they'll appear here"}),e.jsx($,{to:"/compose",className:"gmail-btn gmail-btn-primary",children:"Send your first email"})]}):e.jsx("div",{children:t.map(R=>{var M;return e.jsxs("div",{className:`gmail-email-item ${R.isRead?"":"unread"} ${n.has(R.id)?"selected":""}`,children:[e.jsx("div",{className:"gmail-email-checkbox",children:e.jsx("input",{type:"checkbox",checked:n.has(R.id),onChange:()=>h(R.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300","aria-label":`Select email from ${R.from.name||R.from.email}`})}),e.jsx("button",{onClick:()=>m(R.id,R.isStarred),className:`gmail-email-star ${R.isStarred?"starred":""}`,title:R.isStarred?"Remove star":"Add star","aria-label":R.isStarred?"Remove star":"Add star",children:e.jsx(le,{className:`w-5 h-5 ${R.isStarred?"fill-current":""}`})}),R.isImportant&&e.jsx("button",{className:"gmail-email-important text-yellow-400",title:"Important","aria-label":"Important email",children:e.jsx(ja,{className:"w-4 h-4 fill-current"})}),e.jsx($,{to:`/thread/${R.threadId}`,className:"gmail-email-sender",children:R.from.name||R.from.email}),e.jsxs($,{to:`/thread/${R.threadId}`,className:"gmail-email-subject",children:[e.jsx("span",{className:R.isRead?"":"font-bold",children:R.subject||"(no subject)"}),R.hasAttachments&&e.jsx(yr,{className:"w-4 h-4 inline-block ml-1 text-gray-400"}),e.jsx("span",{className:"gmail-email-snippet",children:" - "+(R.bodyText||"").substring(0,100)})]}),e.jsx("div",{className:"gmail-email-labels",children:(M=R.labels)==null?void 0:M.map(I=>e.jsx("span",{className:`gmail-label ${I.color}`,children:I.name},I.name))}),e.jsxs("div",{className:"gmail-email-actions opacity-0 group-hover:opacity-100",children:[e.jsx("button",{onClick:I=>{I.preventDefault(),console.log("Archive email:",R.id)},className:"gmail-toolbar-btn",title:"Archive",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:I=>{I.preventDefault(),console.log("Delete email:",R.id)},className:"gmail-toolbar-btn",title:"Delete",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:I=>{I.preventDefault(),console.log("Mark as read/unread:",R.id)},className:"gmail-toolbar-btn",title:R.isRead?"Mark as unread":"Mark as read",children:R.isRead?e.jsx(es,{className:"w-4 h-4"}):e.jsx(Zt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:I=>{I.preventDefault(),console.log("Snooze email:",R.id)},className:"gmail-toolbar-btn",title:"Snooze",children:e.jsx(kt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"gmail-email-date",children:N(R.timestamp)})]},R.id)})})})]})}function Hl(){const[t,s]=v.useState(""),[r,a]=v.useState(""),[n,i]=v.useState(""),[l,o]=v.useState(""),[c,x]=v.useState(""),[g,b]=v.useState(!1),[f,p]=v.useState(!1),[d,u]=v.useState(!1),[h,L]=v.useState(!1),[C,m]=v.useState(!1),[N,F]=v.useState(!1),[R,M]=v.useState(!1),[I,P]=v.useState({bold:!1,italic:!1,underline:!1}),[_,q]=v.useState(""),[K,E]=v.useState(""),y=v.useRef(null),T=rt(),k=D=>D.trim()?D.split(",").map(z=>({email:z.trim()})):[],A=async()=>{b(!0),q(""),E("");try{const D=k(t),z=k(r),X=k(n);if(D.length===0){q("Please enter at least one recipient"),b(!1);return}await V.sendEmail({to:D,cc:z.length>0?z:void 0,bcc:X.length>0?X:void 0,subject:l,bodyText:c,bodyHtml:c.replace(/\n/g,"<br>")}),E("Email sent successfully!"),setTimeout(()=>{T("/inbox")},1500)}catch(D){q(D instanceof Error?D.message:"Failed to send email")}finally{b(!1)}},w=async()=>{console.log("Save draft functionality to be implemented")};return e.jsxs("div",{className:`gmail-compose-window ${h?"fullscreen":""} ${d?"minimized":""}`,children:[e.jsxs("div",{className:"gmail-compose-header",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"New Message"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u(!d),className:"p-1 hover:bg-gray-200 rounded",title:"Minimize",children:e.jsx(va,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>L(!h),className:"p-1 hover:bg-gray-200 rounded",title:h?"Default view":"Full screen",children:e.jsx(Na,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T("/inbox"),className:"p-1 hover:bg-gray-200 rounded",title:"Close",children:e.jsx($e,{className:"w-4 h-4"})})]})]}),!d&&e.jsxs("div",{className:"gmail-compose-body",children:[_&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(mt,{className:"h-5 w-5 text-red-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:_})})]})}),K&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:K})})]})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"w-12 text-sm text-gray-600",children:"To"}),e.jsx("input",{type:"text",value:t,onChange:D=>s(D.target.value),placeholder:"Recipients",className:"flex-1 px-2 py-1 text-sm border-none outline-none"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(!f),className:"text-sm text-blue-600 hover:text-blue-700",children:"Cc"}),e.jsx("button",{onClick:()=>p(!f),className:"text-sm text-blue-600 hover:text-blue-700",children:"Bcc"})]})]}),f&&e.jsxs("div",{className:"flex items-center border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"w-12 text-sm text-gray-600",children:"Cc"}),e.jsx("input",{type:"text",value:r,onChange:D=>a(D.target.value),placeholder:"Carbon copy",className:"flex-1 px-2 py-1 text-sm border-none outline-none"})]}),f&&e.jsxs("div",{className:"flex items-center border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"w-12 text-sm text-gray-600",children:"Bcc"}),e.jsx("input",{type:"text",value:n,onChange:D=>i(D.target.value),placeholder:"Blind carbon copy",className:"flex-1 px-2 py-1 text-sm border-none outline-none"})]}),e.jsxs("div",{className:"flex items-center border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"w-12 text-sm text-gray-600",children:"Subject"}),e.jsx("input",{type:"text",value:l,onChange:D=>o(D.target.value),placeholder:"Subject",className:"flex-1 px-2 py-1 text-sm border-none outline-none"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 mb-2 pb-2 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>P(D=>({...D,bold:!D.bold})),className:`p-2 rounded hover:bg-gray-100 ${I.bold?"bg-gray-200":""}`,title:"Bold",children:e.jsx(wa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(D=>({...D,italic:!D.italic})),className:`p-2 rounded hover:bg-gray-100 ${I.italic?"bg-gray-200":""}`,title:"Italic",children:e.jsx(Sa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(D=>({...D,underline:!D.underline})),className:`p-2 rounded hover:bg-gray-100 ${I.underline?"bg-gray-200":""}`,title:"Underline",children:e.jsx(ka,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Align left",children:e.jsx(Ca,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Align center",children:e.jsx(Ea,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Align right",children:e.jsx(La,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Bulleted list",children:e.jsx(xs,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Numbered list",children:e.jsx(Ta,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Insert link",children:e.jsx(Da,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Insert emoji",children:e.jsx(Ra,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Attach files",children:e.jsx(yr,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"Insert photo",children:e.jsx(Mt,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"More options",children:e.jsx(pr,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex-1 min-h-96",children:e.jsx("div",{ref:y,contentEditable:!0,className:"w-full h-full p-3 text-sm leading-relaxed outline-none",style:{minHeight:"240px",fontFamily:"arial, sans-serif"},onInput:D=>x(D.currentTarget.textContent||""),suppressContentEditableWarning:!0})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:A,disabled:g||!t.trim(),className:"gmail-btn gmail-btn-primary flex items-center space-x-2",children:[e.jsx(fs,{className:"w-4 h-4"}),e.jsx("span",{children:g?"Sending...":"Send"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>m(!C),className:"p-2 rounded hover:bg-gray-100",title:"Schedule send",children:e.jsx(kt,{className:"w-4 h-4"})}),C&&e.jsxs("div",{className:"absolute bottom-10 left-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 p-3 min-w-48",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Schedule send"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full text-left text-sm hover:bg-gray-100 p-2 rounded",children:"Tomorrow 8:00 AM"}),e.jsx("button",{className:"w-full text-left text-sm hover:bg-gray-100 p-2 rounded",children:"Monday 9:00 AM"}),e.jsx("button",{className:"w-full text-left text-sm hover:bg-gray-100 p-2 rounded",children:"Pick date & time"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>F(!N),className:`p-2 rounded hover:bg-gray-100 ${R?"bg-red-50 text-red-600":""}`,title:"Confidential mode",children:e.jsx(Zt,{className:"w-4 h-4"})}),N&&e.jsxs("div",{className:"absolute bottom-10 left-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 p-3 min-w-64",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Confidential mode"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Recipients won't have the option to forward, copy, print, or download this email."}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:D=>M(D.target.checked),className:"h-4 w-4 text-red-600 rounded border-gray-300"}),e.jsx("span",{className:"text-sm",children:"Turn on confidential mode"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:w,className:"text-sm text-gray-600 hover:text-gray-800",children:"Save draft"}),e.jsx("button",{onClick:()=>T("/inbox"),className:"p-2 rounded hover:bg-gray-100",title:"Discard draft",children:e.jsx(he,{className:"w-4 h-4"})})]})]})]})]})}function Wl(){const[t,s]=v.useState("general"),[r,a]=v.useState(!1),[n,i]=v.useState(""),[l,o]=v.useState(""),[c,x]=v.useState({language:"en",displayDensity:"comfortable",conversationView:!0,smartCompose:!0,smartReply:!0,rightToLeft:!1,theme:"light",inboxType:"default",inboxSections:["Primary","Social","Promotions"],maxPageSize:50,markAsRead:"immediately",signature:"",autoReply:{enabled:!1,message:"",startDate:"",endDate:"",sendToKnownContacts:!1},forwarding:{enabled:!1,forwardTo:"",keepCopy:!0},twoFactorAuth:!1,sessionTimeout:30,allowLessSecureApps:!1,filters:[],blockedAddresses:[],desktopNotifications:!0,emailNotifications:!0,soundNotifications:!1}),g=[{id:"general",label:"General",icon:ue,description:"Language, conversation view, and display preferences"},{id:"inbox",label:"Inbox",icon:Nr,description:"Inbox type, categories, and reading preferences"},{id:"accounts",label:"Accounts and Import",icon:Et,description:"Account settings, signatures, and email forwarding"},{id:"filters",label:"Filters and Blocked Addresses",icon:Ct,description:"Create filters and block unwanted emails"},{id:"security",label:"Security",icon:St,description:"Two-factor authentication and security settings"},{id:"notifications",label:"Notifications",icon:ts,description:"Desktop and email notification preferences"}],b=async()=>{a(!0),o(""),i("");try{await new Promise(d=>setTimeout(d,1e3)),i("Settings saved successfully!")}catch{o("Failed to save settings. Please try again.")}finally{a(!1),setTimeout(()=>{i(""),o("")},3e3)}},f=(d,u)=>{x(h=>({...h,[d]:u}))},p=(d,u,h)=>{x(L=>({...L,[d]:{...L[d],[u]:h}}))};return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ue,{className:"h-6 w-6 text-blue-600"}),"Settings"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your BhaMail preferences and account settings"})]}),e.jsxs("button",{onClick:b,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Aa,{className:"h-4 w-4"}),r?"Saving...":"Save Changes"]})]}),n&&e.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded flex items-center gap-2",children:[e.jsx(Ma,{className:"h-4 w-4"}),n]}),l&&e.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2",children:[e.jsx(jr,{className:"h-4 w-4"}),l]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-80 border-r border-gray-200 bg-gray-50",children:e.jsx("div",{className:"p-4",children:e.jsx("nav",{className:"space-y-1",children:g.map(d=>{const u=d.icon;return e.jsx("button",{onClick:()=>s(d.id),className:`w-full text-left p-3 rounded-lg transition-colors ${t===d.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-white hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.description})]})]}),e.jsx(Ye,{className:"h-4 w-4 text-gray-400"})]})},d.id)})})})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[t==="general"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"General Settings"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5 text-blue-600"}),"Language and Display"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Language"}),e.jsxs("select",{value:c.language,onChange:d=>f("language",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"en",children:"English (US)"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"it",children:"Italiano"}),e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"zh",children:"中文"}),e.jsx("option",{value:"ja",children:"日本語"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Density"}),e.jsxs("select",{value:c.displayDensity,onChange:d=>f("displayDensity",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"comfortable",children:"Comfortable"}),e.jsx("option",{value:"cozy",children:"Cozy"}),e.jsx("option",{value:"compact",children:"Compact"})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 text-blue-600"}),"Email Display"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Conversation view"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Group emails with their replies"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.conversationView,onChange:d=>f("conversationView",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Smart Compose"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Get writing suggestions as you type"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.smartCompose,onChange:d=>f("smartCompose",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Smart Reply"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Show suggested quick responses"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.smartReply,onChange:d=>f("smartReply",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Fa,{className:"h-5 w-5 text-blue-600"}),"Theme"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"light",label:"Light",description:"Clean white theme"},{value:"dark",label:"Dark",description:"Dark theme for low light"},{value:"auto",label:"Auto",description:"Match system theme"}].map(d=>e.jsxs("div",{onClick:()=>f("theme",d.value),className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${c.theme===d.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.label}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:d.description})]},d.value))})]})]})]})}),t==="inbox"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Inbox Settings"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inbox Type"}),e.jsx("div",{className:"space-y-3",children:[{value:"default",label:"Default",description:"Important messages appear in a yellow marker"},{value:"important",label:"Important markers",description:"No sections, but messages marked important are highlighted"},{value:"unread",label:"Unread first",description:"Unread messages appear first in your inbox"},{value:"starred",label:"Starred first",description:"Starred messages appear first in your inbox"},{value:"priority",label:"Priority Inbox",description:"Split inbox into sections like important, starred, etc."}].map(d=>e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"inboxType",value:d.value,checked:c.inboxType===d.value,onChange:u=>f("inboxType",u.target.value),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.label}),e.jsx("div",{className:"text-sm text-gray-600",children:d.description})]})]},d.value))})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reading Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum page size"}),e.jsxs("select",{value:c.maxPageSize,onChange:d=>f("maxPageSize",parseInt(d.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:25,children:"25 conversations per page"}),e.jsx("option",{value:50,children:"50 conversations per page"}),e.jsx("option",{value:100,children:"100 conversations per page"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mark as read"}),e.jsxs("select",{value:c.markAsRead,onChange:d=>f("markAsRead",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"immediately",children:"Immediately when opened"}),e.jsx("option",{value:"after_3_seconds",children:"After 3 seconds"}),e.jsx("option",{value:"never",children:"Never automatically"})]})]})]})]})]})]})}),t==="accounts"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Accounts and Import"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Signature"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email signature"}),e.jsx("textarea",{value:c.signature,onChange:d=>f("signature",d.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email signature..."}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This signature will be added to all outgoing emails."})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vacation responder"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:c.autoReply.enabled,onChange:d=>p("autoReply","enabled",d.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vacation responder on"})]}),c.autoReply.enabled&&e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First day"}),e.jsx("input",{type:"date",value:c.autoReply.startDate,onChange:d=>p("autoReply","startDate",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last day"}),e.jsx("input",{type:"date",value:c.autoReply.endDate,onChange:d=>p("autoReply","endDate",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text.sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{value:c.autoReply.message,onChange:d=>p("autoReply","message",d.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your vacation message..."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:c.autoReply.sendToKnownContacts,onChange:d=>p("autoReply","sendToKnownContacts",d.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Only send to people in my contacts"})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Pa,{className:"h-5 w-5 text-blue-600"}),"Forwarding and POP/IMAP"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:c.forwarding.enabled,onChange:d=>p("forwarding","enabled",d.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable forwarding"})]}),c.forwarding.enabled&&e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forward a copy of incoming mail to"}),e.jsx("input",{type:"email",value:c.forwarding.forwardTo,onChange:d=>p("forwarding","forwardTo",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"forwarding@example.com"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:c.forwarding.keepCopy,onChange:d=>p("forwarding","keepCopy",d.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Keep BhaMail's copy in the Inbox"})]})]})]})]})]})]})}),t==="filters"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Filters and Blocked Addresses"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Create a new filter"})]}),e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ct,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{children:"No filters created yet"}),e.jsx("p",{className:"text-sm",children:"Create filters to automatically organize your email"})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(Cs,{className:"h-5 w-5 text-red-600"}),"Blocked Addresses"]}),e.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Block an address"})]}),e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Cs,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{children:"No blocked addresses"}),e.jsx("p",{className:"text-sm",children:"Block email addresses to send them directly to spam"})]})]})]})]})}),t==="security"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Oa,{className:"h-5 w-5 text-green-600"}),"Two-Factor Authentication"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"2-Step Verification"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-medium ${c.twoFactorAuth?"text-green-600":"text-gray-500"}`,children:c.twoFactorAuth?"Enabled":"Disabled"}),e.jsx("button",{onClick:()=>f("twoFactorAuth",!c.twoFactorAuth),className:`px-4 py-2 rounded-md text-sm font-medium ${c.twoFactorAuth?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:c.twoFactorAuth?"Disable":"Enable"})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ia,{className:"h-5 w-5 text-blue-600"}),"Session Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session timeout (minutes)"}),e.jsxs("select",{value:c.sessionTimeout,onChange:d=>f("sessionTimeout",parseInt(d.target.value)),className:"w-48 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:180,children:"3 hours"}),e.jsx("option",{value:480,children:"8 hours"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Allow less secure apps"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Allow apps that use less secure sign-in technology"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.allowLessSecureApps,onChange:d=>f("allowLessSecureApps",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})]})}),t==="notifications"&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Settings"}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ts,{className:"h-5 w-5 text-purple-600"}),"Notification Preferences"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Desktop notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Show notifications on your desktop when new mail arrives"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.desktopNotifications,onChange:d=>f("desktopNotifications",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Receive email notifications for important messages"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.emailNotifications,onChange:d=>f("emailNotifications",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Sound notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Play a sound when new mail arrives"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.soundNotifications,onChange:d=>f("soundNotifications",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(vr,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Notification Settings"}),e.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Browser notification permissions may need to be enabled in your browser settings."})]})]})})]})]})]})})]})]})]})}function Ql(){const{threadId:t}=ua(),s=rt(),[r,a]=v.useState(null),[n,i]=v.useState(!0),[l,o]=v.useState(""),[c,x]=v.useState(new Set),[g,b]=v.useState(null),[f,p]=v.useState(null),[d,u]=v.useState(""),[h,L]=v.useState(new Set);v.useEffect(()=>{t&&C(t)},[t]),v.useEffect(()=>{if(r&&r.messages.length>0){const k=r.messages[r.messages.length-1];x(new Set([k.id]))}},[r]);const C=async k=>{try{i(!0);const A=await V.getThread(k);a(A)}catch(A){o(A instanceof Error?A.message:"Failed to load thread")}finally{i(!1)}},m=k=>{x(A=>{const w=new Set(A);return w.has(k)?w.delete(k):w.add(k),w})},N=k=>{L(A=>{const w=new Set(A);return w.has(k)?w.delete(k):w.add(k),w})},F=async k=>{if(!(!r||!d.trim()))try{const A=g?r.messages.find(z=>z.id===g):r.messages[r.messages.length-1];if(!A)return;let w=[],D=r.subject;switch(k){case"reply":w=[A.from],D=D.startsWith("Re: ")?D:`Re: ${D}`;break;case"reply-all":w=[A.from,...A.to,...A.cc||[]].filter((z,X,Re)=>X===Re.findIndex(ye=>ye.email===z.email)),D=D.startsWith("Re: ")?D:`Re: ${D}`;break;case"forward":D=D.startsWith("Fwd: ")?D:`Fwd: ${D}`;break}await V.sendEmail({to:w,subject:D,bodyText:d,bodyHtml:d.replace(/\n/g,"<br>"),threadId:r.id,replyToMessageId:A.id}),p(null),b(null),u(""),await C(r.id)}catch(A){o(A instanceof Error?A.message:"Failed to send reply")}},R=async()=>{if(r)try{await V.archiveThread(r.id),s("/inbox")}catch{o("Failed to archive thread")}},M=async()=>{if(r)try{await V.deleteThread(r.id),s("/inbox")}catch{o("Failed to delete thread")}},I=async()=>{if(r)try{await V.markThreadAsSpam(r.id),s("/inbox")}catch{o("Failed to mark as spam")}},P=async()=>{if(r)try{await V.toggleThreadStar(r.id),a(k=>k?{...k,isStarred:!k.isStarred}:null)}catch{o("Failed to update star")}},_=async()=>{if(r)try{await V.toggleThreadImportant(r.id),a(k=>k?{...k,isImportant:!k.isImportant}:null)}catch{o("Failed to update importance")}},q=k=>{const A=new Date(k),z=(new Date().getTime()-A.getTime())/(1e3*60*60);return z<24?A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):z<168?A.toLocaleDateString([],{weekday:"short"}):A.toLocaleDateString([],{month:"short",day:"numeric"})},K=k=>new Date(k).toLocaleString(),E=k=>{if(k===0)return"0 Bytes";const A=1024,w=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(k)/Math.log(A));return parseFloat((k/Math.pow(A,D)).toFixed(2))+" "+w[D]},y=k=>{var w;const A=k.bodyText||((w=k.bodyHtml)==null?void 0:w.replace(/<[^>]*>/g,""))||"";return A.substring(0,100)+(A.length>100?"...":"")},T=k=>{const A=k.split(`
`),w=A.findIndex(D=>D.includes("On ")&&D.includes("wrote:")||D.startsWith(">")||D.includes("-----Original Message-----"));return w===-1?{main:k,quoted:""}:{main:A.slice(0,w).join(`
`).trim(),quoted:A.slice(w).join(`
`).trim()}};return n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l})}):r?e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>s("/inbox"),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",title:"Back to inbox",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:R,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",title:"Archive",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8l6 6 6-6"})})}),e.jsx("button",{onClick:I,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",title:"Report spam",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("button",{onClick:M,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",title:"Delete",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsx("button",{onClick:_,className:`p-2 rounded-full ${r.isImportant?"text-yellow-500":"text-gray-600 hover:bg-gray-100"}`,title:"Mark as important",children:e.jsx("svg",{className:"w-5 h-5",fill:r.isImportant?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("button",{onClick:P,className:`p-2 rounded-full ${r.isStarred?"text-yellow-500":"text-gray-600 hover:bg-gray-100"}`,title:"Add to starred",children:e.jsx("svg",{className:"w-5 h-5",fill:r.isStarred?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[r.messages.length," of ",r.messages.length]}),e.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",title:"Older",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full",title:"Newer",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-normal text-gray-900",children:r.subject}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[r.messages.length," messages"]}),e.jsxs("span",{children:[r.participants.length," participants"]}),r.labels&&r.labels.length>0&&e.jsx("div",{className:"flex space-x-1",children:r.labels.map((k,A)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:k},A))})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-4",children:r.messages.map((k,A)=>{var ye;const w=c.has(k.id),D=A===r.messages.length-1,{main:z,quoted:X}=T(k.bodyText||k.bodyHtml||""),Re=h.has(k.id);return e.jsxs("div",{className:`gmail-message ${w?"expanded":"collapsed"} ${D?"latest":""}`,children:[e.jsx("div",{className:"message-header",onClick:()=>!w&&m(k.id),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"message-avatar",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:(k.from.name||k.from.email).charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900 truncate",children:k.from.name||k.from.email}),!w&&e.jsx("span",{className:"text-sm text-gray-500 truncate",children:y(k)})]}),!w&&e.jsxs("div",{className:"text-xs text-gray-500",children:["to ",k.to.map(Y=>Y.name||Y.email).join(", ")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:q(k.timestamp)}),k.attachments&&k.attachments.length>0&&e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),w&&e.jsx("button",{onClick:Y=>{Y.stopPropagation(),m(k.id)},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),w&&e.jsxs("div",{className:"message-content",children:[e.jsx("div",{className:"message-details",children:e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"From:"})," ",k.from.name||k.from.email," <",k.from.email,">"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"To:"})," ",k.to.map(Y=>`${Y.name||Y.email} <${Y.email}>`).join(", ")]}),k.cc&&k.cc.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Cc:"})," ",k.cc.map(Y=>`${Y.name||Y.email} <${Y.email}>`).join(", ")]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Date:"})," ",K(k.timestamp)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Subject:"})," ",k.subject]})]})}),e.jsxs("div",{className:"message-body",children:[e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:z||k.bodyHtml||((ye=k.bodyText)==null?void 0:ye.replace(/\n/g,"<br>"))||""}}),X&&e.jsx("div",{className:"quoted-content",children:Re?e.jsxs("div",{children:[e.jsx("button",{onClick:()=>N(k.id),className:"text-blue-600 hover:text-blue-800 text-sm mb-2",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Hide quoted text"]})}),e.jsx("div",{className:"text-gray-600 text-sm border-l-2 border-gray-300 pl-4",dangerouslySetInnerHTML:{__html:X.replace(/\n/g,"<br>")}})]}):e.jsx("button",{onClick:()=>N(k.id),className:"text-blue-600 hover:text-blue-800 text-sm",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Show quoted text"]})})})]}),k.attachments&&k.attachments.length>0&&e.jsxs("div",{className:"message-attachments",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:[k.attachments.length," Attachment",k.attachments.length!==1?"s":""]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:k.attachments.map(Y=>e.jsx("div",{className:"attachment-item",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Y.filename}),e.jsx("p",{className:"text-xs text-gray-500",children:E(Y.size)})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})},Y.id))})]}),e.jsx("div",{className:"message-actions",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>{b(k.id),p("reply")},className:"inline-flex items-center px-3 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]}),e.jsxs("button",{onClick:()=>{b(k.id),p("reply-all")},className:"inline-flex items-center px-3 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply all"]}),e.jsxs("button",{onClick:()=>{b(k.id),p("forward")},className:"inline-flex items-center px-3 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Forward"]})]})})]})]},k.id)})})}),f&&e.jsx("div",{className:"border-t border-gray-200 bg-white",children:e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f==="reply"?"Reply":f==="reply-all"?"Reply to all":"Forward"}),e.jsx("button",{onClick:()=>{p(null),b(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500",children:[e.jsx("textarea",{value:d,onChange:k=>u(k.target.value),placeholder:`Type your ${f}...`,className:"w-full h-32 px-4 py-3 border-0 resize-none focus:outline-none rounded-lg"}),e.jsxs("div",{className:"flex items-center justify-between p-3 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{p(null),b(null),u("")},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded",children:"Discard"}),e.jsx("button",{onClick:()=>F(f),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})]})]})]})})})]}):e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"text-center text-gray-500",children:"Thread not found"})})}function Vl(){const[t]=ma(),s=rt(),[r,a]=v.useState(!1),[n,i]=v.useState(!1),[l,o]=v.useState([]),[c,x]=v.useState(""),[g,b]=v.useState(0),[f,p]=v.useState({from:t.get("from")||"",to:t.get("to")||"",subject:t.get("subject")||"",hasWords:t.get("q")||"",doesntHave:"",hasAttachment:!1,dateWithin:"",olderThan:"",newerThan:"",size:"",sizeComparison:"greater",folder:"all",isRead:"all",isStarred:"all"});v.useEffect(()=>{const m=t.get("q");m&&d(m)},[t]);const d=async m=>{i(!0),x("");try{const N=m||u(),F=await V.search(N,{folder:f.folder==="all"?void 0:f.folder});o(F.emails||[]),b(F.total||0)}catch(N){x(N instanceof Error?N.message:"Search failed")}finally{i(!1)}},u=()=>{const m=[];return f.hasWords&&m.push(f.hasWords),f.from&&m.push(`from:${f.from}`),f.to&&m.push(`to:${f.to}`),f.subject&&m.push(`subject:${f.subject}`),f.doesntHave&&m.push(`-${f.doesntHave}`),f.hasAttachment&&m.push("has:attachment"),f.isStarred==="starred"&&m.push("is:starred"),f.isRead==="read"&&m.push("is:read"),f.isRead==="unread"&&m.push("is:unread"),m.join(" ")},h=()=>{const m=u();s(`/search?q=${encodeURIComponent(m)}`),d(m)},L=()=>{h(),a(!1)},C=m=>{const N=new Date(m),R=new Date().getTime()-N.getTime(),M=Math.floor(R/(1e3*60*60*24));return M===0?N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):M<7?N.toLocaleDateString([],{weekday:"short"}):N.toLocaleDateString([],{month:"short",day:"numeric"})};return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>s("/inbox"),className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",title:"Back to inbox",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:f.hasWords,onChange:m=>p(N=>({...N,hasWords:m.target.value})),onKeyPress:m=>m.key==="Enter"&&h(),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search BhaMail..."})]}),e.jsx("button",{onClick:()=>a(!r),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Advanced"}),e.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Search"})]})]})})}),r&&e.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Search"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),e.jsx("input",{type:"email",value:f.from,onChange:m=>p(N=>({...N,from:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"From email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),e.jsx("input",{type:"email",value:f.to,onChange:m=>p(N=>({...N,to:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"To email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsx("input",{type:"text",value:f.subject,onChange:m=>p(N=>({...N,subject:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Subject contains"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Doesn't have"}),e.jsx("input",{type:"text",value:f.doesntHave,onChange:m=>p(N=>({...N,doesntHave:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Words to exclude"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder"}),e.jsxs("select",{value:f.folder,onChange:m=>p(N=>({...N,folder:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Mail"}),e.jsx("option",{value:"inbox",children:"Inbox"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"drafts",children:"Drafts"}),e.jsx("option",{value:"spam",children:"Spam"}),e.jsx("option",{value:"trash",children:"Trash"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Read Status"}),e.jsxs("select",{value:f.isRead,onChange:m=>p(N=>({...N,isRead:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"read",children:"Read"}),e.jsx("option",{value:"unread",children:"Unread"})]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:f.hasAttachment,onChange:m=>p(N=>({...N,hasAttachment:m.target.checked})),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Has attachment"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Starred:"}),e.jsxs("select",{value:f.isStarred,onChange:m=>p(N=>({...N,isStarred:m.target.value})),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"starred",children:"Starred"}),e.jsx("option",{value:"unstarred",children:"Not starred"})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:L,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Search"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c?e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c})}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.length>0&&e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[g.toLocaleString(),' results for "',f.hasWords||"advanced search",'"']})}),l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("p",{className:"text-lg font-medium",children:"No results found"}),e.jsx("p",{className:"text-sm",children:"Try different search terms or check your spelling"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:l.map(m=>e.jsxs("div",{className:`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${m.isRead?"":"bg-blue-50"}`,onClick:()=>s(`/thread/${m.threadId}`),children:[e.jsx("button",{className:`mr-4 p-1 ${m.isStarred?"text-yellow-400":"text-gray-300 hover:text-yellow-400"}`,title:m.isStarred?"Remove star":"Add star",children:e.jsx("svg",{className:"w-5 h-5",fill:m.isStarred?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-sm ${m.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:m.from.name||m.from.email}),m.hasAttachments&&e.jsx("svg",{className:"w-4 h-4 ml-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),e.jsx("span",{className:"ml-auto text-xs text-gray-500 px-2 py-1 bg-gray-100 rounded",children:m.folder})]}),e.jsx("div",{className:`text-sm ${m.isRead?"text-gray-600":"font-medium text-gray-900"} truncate`,children:m.subject||"(no subject)"}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:m.bodyText||""})]}),e.jsx("div",{className:"text-sm text-gray-500 ml-4",children:C(m.timestamp)})]},m.id))})]})})]})}const ar=["#1a73e8","#d93025","#ea4335","#fbbc04","#34a853","#9aa0a6","#f9ab00","#ff6d01","#c5221f","#33b679","#673ab7","#03dac6","#8e24aa","#e91e63","#ff9800","#795548"];function Kl(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState(null),[l,o]=v.useState(""),[c,x]=v.useState(new Set),[g,b]=v.useState(!1),[f,p]=v.useState(!1),[d,u]=v.useState(null),[h,L]=v.useState(new Set),[C,m]=v.useState({name:"",color:"#1a73e8",description:"",parentId:"",showInMessageList:!0,showInLabelList:!0}),N=[{name:"Inbox",icon:"📥",messageCount:12,color:"#1a73e8",description:"Messages in your inbox"},{name:"Starred",icon:"⭐",messageCount:3,color:"#fbbc04",description:"Starred messages"},{name:"Snoozed",icon:"💤",messageCount:1,color:"#9aa0a6",description:"Snoozed messages"},{name:"Important",icon:"🔔",messageCount:5,color:"#ea4335",description:"Important messages"},{name:"Sent",icon:"📤",messageCount:45,color:"#34a853",description:"Sent messages"},{name:"Drafts",icon:"📝",messageCount:2,color:"#9aa0a6",description:"Draft messages"},{name:"All Mail",icon:"📨",messageCount:156,color:"#1a73e8",description:"All messages"},{name:"Spam",icon:"🚫",messageCount:8,color:"#ea4335",description:"Spam messages"},{name:"Trash",icon:"🗑️",messageCount:23,color:"#9aa0a6",description:"Deleted messages"}];v.useEffect(()=>{F()},[]);const F=async()=>{a(!0);try{const E=[{id:"1",name:"Work",color:"#1a73e8",type:"user",messageCount:25,isVisible:!0,showInMessageList:!0,showInLabelList:!0,description:"Work-related emails",createdAt:new Date().toISOString()},{id:"2",name:"Personal",color:"#34a853",type:"user",messageCount:18,isVisible:!0,showInMessageList:!0,showInLabelList:!0,description:"Personal emails",createdAt:new Date().toISOString()},{id:"3",name:"Finance",color:"#ea4335",type:"user",messageCount:8,isVisible:!0,showInMessageList:!0,showInLabelList:!0,description:"Financial documents and statements",parentId:"2",createdAt:new Date().toISOString()},{id:"4",name:"Travel",color:"#fbbc04",type:"user",messageCount:12,isVisible:!1,showInMessageList:!1,showInLabelList:!0,description:"Travel bookings and itineraries",createdAt:new Date().toISOString()}];s(E)}catch{i("Failed to load labels")}finally{a(!1)}},R=async()=>{if(C.name.trim())try{const E={id:Date.now().toString(),name:C.name,color:C.color,type:"user",messageCount:0,isVisible:!0,showInMessageList:C.showInMessageList,showInLabelList:C.showInLabelList,description:C.description,parentId:C.parentId||void 0,createdAt:new Date().toISOString()};s([...t,E]),b(!1),m({name:"",color:"#1a73e8",description:"",parentId:"",showInMessageList:!0,showInLabelList:!0})}catch{i("Failed to create label")}},M=async(E,y)=>{try{s(t.map(T=>T.id===E?{...T,...y}:T))}catch{i("Failed to update label")}},I=async E=>{if(confirm("Are you sure you want to delete this label? This action cannot be undone."))try{s(t.filter(y=>y.id!==E))}catch{i("Failed to delete label")}},P=t.filter(E=>E.name.toLowerCase().includes(l.toLowerCase())),_=()=>{const E=P.filter(T=>!T.parentId),y=new Map;return P.forEach(T=>{T.parentId&&(y.has(T.parentId)||y.set(T.parentId,[]),y.get(T.parentId).push(T))}),{topLevel:E,nested:y}},{topLevel:q,nested:K}=_();return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(_e,{className:"h-6 w-6 text-blue-600"}),"Labels"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Organize your emails with labels. Create custom labels and manage their appearance."})]}),e.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Create Label"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search labels...",value:l,onChange:E=>o(E.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.size>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[c.size," selected"]}),e.jsx("button",{onClick:()=>x(new Set),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm",children:"Clear"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Custom Labels"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:t.filter(E=>E.isVisible).length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Visible"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-500",children:t.filter(E=>!E.isVisible).length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Hidden"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-orange-600",children:t.reduce((E,y)=>E+y.messageCount,0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Messages"})]})]})]}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:n}),e.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5 text-gray-600"}),"System Labels"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These labels are automatically created by BhaMail and cannot be deleted."}),e.jsx("div",{className:"space-y-2",children:N.map(E=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-lg",children:E.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:E.name}),e.jsx("div",{className:"text-xs text-gray-500",children:E.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[E.messageCount," ",E.messageCount===1?"message":"messages"]}),e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}})]})]},E.name))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5 text-gray-600"}),"Custom Labels"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," labels"]})]}),q.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_e,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No custom labels"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create your first label to organize your emails. Labels help you categorize and find your messages quickly."}),e.jsx("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium",children:"Create First Label"})]}):e.jsx("div",{className:"space-y-2",children:q.map(E=>e.jsx(oa,{label:E,nested:K.get(E.id)||[],selectedLabels:c,setSelectedLabels:x,expandedLabels:h,setExpandedLabels:L,onEdit:y=>{u(y),m({name:y.name,color:y.color,description:y.description||"",parentId:y.parentId||"",showInMessageList:y.showInMessageList||!0,showInLabelList:y.showInLabelList||!0}),p(!0)},onDelete:I,onUpdate:M},E.id))})]})]}),g&&e.jsx(nr,{newLabel:C,setNewLabel:m,onSave:R,onCancel:()=>{b(!1),m({name:"",color:"#1a73e8",description:"",parentId:"",showInMessageList:!0,showInLabelList:!0})},labels:t,colors:ar}),f&&d&&e.jsx(nr,{newLabel:C,setNewLabel:m,onSave:async()=>{await M(d.id,{name:C.name,color:C.color,description:C.description,parentId:C.parentId||void 0,showInMessageList:C.showInMessageList,showInLabelList:C.showInLabelList}),p(!1),u(null)},onCancel:()=>{p(!1),u(null)},labels:t.filter(E=>E.id!==d.id),colors:ar,isEditing:!0})]})}function oa({label:t,nested:s,selectedLabels:r,setSelectedLabels:a,expandedLabels:n,setExpandedLabels:i,onEdit:l,onDelete:o,onUpdate:c}){const x=n.has(t.id),g=s.length>0,b=()=>{const p=new Set(n);x?p.delete(t.id):p.add(t.id),i(p)},f=()=>{const p=new Set(r);r.has(t.id)?p.delete(t.id):p.add(t.id),a(p)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("input",{type:"checkbox",checked:r.has(t.id),onChange:f,className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),g&&e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",children:x?e.jsx(Lt,{className:"h-4 w-4"}):e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:t.color}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 truncate",children:t.name}),!t.isVisible&&e.jsx(es,{className:"h-4 w-4 text-gray-400"})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[t.messageCount," ",t.messageCount===1?"message":"messages"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[t.showInMessageList&&e.jsx("span",{children:"Message list"}),t.showInLabelList&&e.jsx("span",{children:"Label list"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>c(t.id,{isVisible:!t.isVisible}),className:`text-xs px-2 py-1 rounded ${t.isVisible?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t.isVisible?"Visible":"Hidden"}),e.jsx("button",{onClick:()=>l(t),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit label",children:e.jsx(Ba,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>o(t.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete label",children:e.jsx(he,{className:"h-4 w-4"})})]})]}),g&&x&&e.jsx("div",{className:"ml-8 mt-2 space-y-2",children:s.map(p=>e.jsx(oa,{label:p,nested:[],selectedLabels:r,setSelectedLabels:a,expandedLabels:n,setExpandedLabels:i,onEdit:l,onDelete:o,onUpdate:c},p.id))})]})}function nr({newLabel:t,setNewLabel:s,onSave:r,onCancel:a,labels:n,colors:i,isEditing:l=!1}){return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:l?"Edit Label":"Create New Label"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:o=>s({...t,name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter label name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),e.jsx("div",{className:"grid grid-cols-8 gap-2",children:i.map(o=>e.jsx("button",{onClick:()=>s({...t,color:o}),className:`w-8 h-8 rounded-full border-2 ${t.color===o?"border-gray-900 ring-2 ring-blue-500":"border-gray-300"}`,style:{backgroundColor:o}},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),e.jsx("textarea",{value:t.description,onChange:o=>s({...t,description:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Enter description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Label (optional)"}),e.jsxs("select",{value:t.parentId,onChange:o=>s({...t,parentId:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"No parent (top-level)"}),n.filter(o=>!o.parentId).map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Visibility Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showInMessageList,onChange:o=>s({...t,showInMessageList:o.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Show in message list"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showInLabelList,onChange:o=>s({...t,showInLabelList:o.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Show in label list"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:r,disabled:!t.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l?"Save":"Create"," Label"]})]})]})})}function Gl(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState(new Set),[l,o]=v.useState("");v.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0);const f=await V.search("is:starred");s(f.emails||[])}catch(f){o(f instanceof Error?f.message:"Failed to load starred emails")}finally{a(!1)}},x=f=>{const p=new Set(n);p.has(f)?p.delete(f):p.add(f),i(p)},g=async(f,p)=>{try{await V.starMessage(f,!p),p&&s(d=>d.filter(u=>u.id!==f))}catch(d){console.error("Failed to toggle star:",d)}},b=f=>{const p=new Date(f),u=new Date().getTime()-p.getTime(),h=Math.floor(u/(1e3*60*60*24));return h===0?p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):h<7?p.toLocaleDateString([],{weekday:"short"}):p.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-gray-200 p-4 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Starred"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"email":"emails"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:c,className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",title:"Refresh",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx($,{to:"/compose",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium",children:"Compose"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx("svg",{className:"w-16 h-16 mb-4 text-yellow-300",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),e.jsx("p",{className:"text-lg font-medium",children:"No starred emails"}),e.jsx("p",{className:"text-sm",children:"Star important emails to find them easily later"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(f=>e.jsxs("div",{className:`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${f.isRead?"":"bg-blue-50"}`,children:[e.jsx("div",{className:"flex items-center mr-4",children:e.jsx("input",{type:"checkbox",checked:n.has(f.id),onChange:()=>x(f.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300",title:`Select email from ${f.from.name||f.from.email}`})}),e.jsx("button",{onClick:()=>g(f.id,f.isStarred),className:"mr-4 p-1 text-yellow-400",title:"Remove star",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsxs($,{to:`/thread/${f.threadId}`,className:"flex-1 flex items-center min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-sm ${f.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:f.from.name||f.from.email}),f.hasAttachments&&e.jsx("svg",{className:"w-4 h-4 ml-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})]}),e.jsx("div",{className:`text-sm ${f.isRead?"text-gray-600":"font-medium text-gray-900"} truncate`,children:f.subject||"(no subject)"}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:f.bodyText||""})]}),e.jsx("div",{className:"text-sm text-gray-500 ml-4",children:b(f.timestamp)})]})]},f.id))})})]})}function Jl(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState(new Set),[l,o]=v.useState(""),[c,x]=v.useState(1),[g,b]=v.useState(0),f=50;v.useEffect(()=>{p()},[c]);const p=async()=>{try{a(!0);const m=await V.search("*",{page:c,limit:f});s(m.emails||[]),b(m.total||0)}catch(m){o(m instanceof Error?m.message:"Failed to load emails")}finally{a(!1)}},d=m=>{const N=new Set(n);N.has(m)?N.delete(m):N.add(m),i(N)},u=async(m,N)=>{try{await V.starMessage(m,!N),s(F=>F.map(R=>R.id===m?{...R,isStarred:!N}:R))}catch(F){console.error("Failed to toggle star:",F)}},h=m=>{const N=new Date(m),R=new Date().getTime()-N.getTime(),M=Math.floor(R/(1e3*60*60*24));return M===0?N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):M<7?N.toLocaleDateString([],{weekday:"short"}):N.toLocaleDateString([],{month:"short",day:"numeric"})},L=m=>{switch(m){case"inbox":return"📥";case"sent":return"📤";case"drafts":return"📝";case"spam":return"🚫";case"trash":return"🗑️";default:return"📨"}},C=Math.ceil(g/f);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-gray-200 p-4 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"All Mail"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[g.toLocaleString()," ",g===1?"email":"emails"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:p,className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",title:"Refresh",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx($,{to:"/compose",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium",children:"Compose"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("p",{className:"text-lg font-medium",children:"No emails found"}),e.jsx("p",{className:"text-sm",children:"All your emails from every folder will appear here"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(m=>e.jsxs("div",{className:`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${m.isRead?"":"bg-blue-50"}`,children:[e.jsx("div",{className:"flex items-center mr-4",children:e.jsx("input",{type:"checkbox",checked:n.has(m.id),onChange:()=>d(m.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300",title:`Select email from ${m.from.name||m.from.email}`})}),e.jsx("button",{onClick:()=>u(m.id,m.isStarred),className:`mr-4 p-1 ${m.isStarred?"text-yellow-400":"text-gray-300 hover:text-yellow-400"}`,title:m.isStarred?"Remove star":"Add star",children:e.jsx("svg",{className:"w-5 h-5",fill:m.isStarred?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsxs($,{to:`/thread/${m.threadId}`,className:"flex-1 flex items-center min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-sm ${m.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:m.from.name||m.from.email}),m.hasAttachments&&e.jsx("svg",{className:"w-4 h-4 ml-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500 px-2 py-1 bg-gray-100 rounded flex items-center",children:[e.jsx("span",{className:"mr-1",children:L(m.folder)}),m.folder]})]}),e.jsx("div",{className:`text-sm ${m.isRead?"text-gray-600":"font-medium text-gray-900"} truncate`,children:m.subject||"(no subject)"}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:m.bodyText||""})]}),e.jsx("div",{className:"text-sm text-gray-500 ml-4",children:h(m.timestamp)})]})]},m.id))})}),C>1&&e.jsx("div",{className:"border-t border-gray-200 px-4 py-3 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(c-1)*f+1," to ",Math.min(c*f,g)," of ",g.toLocaleString()," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>x(m=>Math.max(1,m-1)),disabled:c===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",c," of ",C]}),e.jsx("button",{onClick:()=>x(m=>Math.min(C,m+1)),disabled:c===C,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})}function Yl(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState(new Set),[l,o]=v.useState("");v.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0);const p=await V.search("is:snoozed");s(p.emails||[])}catch(p){o(p instanceof Error?p.message:"Failed to load snoozed emails")}finally{a(!1)}},x=p=>{const d=new Set(n);d.has(p)?d.delete(p):d.add(p),i(d)},g=async p=>{try{console.log("Unsnoozing email:",p),s(d=>d.filter(u=>u.id!==p))}catch(d){console.error("Failed to unsnooze email:",d)}},b=p=>{const d=new Date(p),u=new Date;if(d<=u)return"Ready to show";const h=d.getTime()-u.getTime(),L=Math.floor(h/(1e3*60*60*24)),C=Math.floor(h%(1e3*60*60*24)/(1e3*60*60));if(L>0)return`${L} day${L>1?"s":""}`;if(C>0)return`${C} hour${C>1?"s":""}`;{const m=Math.floor(h%36e5/6e4);return`${m} minute${m>1?"s":""}`}},f=p=>{const d=new Date(p),h=new Date().getTime()-d.getTime(),L=Math.floor(h/(1e3*60*60*24));return L===0?d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):L<7?d.toLocaleDateString([],{weekday:"short"}):d.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-gray-200 p-4 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Snoozed"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"email":"emails"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:c,className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",title:"Refresh",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx($,{to:"/compose",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium",children:"Compose"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx("svg",{className:"w-16 h-16 mb-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-lg font-medium",children:"No snoozed emails"}),e.jsx("p",{className:"text-sm",children:"Snooze emails to deal with them later"}),e.jsx("div",{className:"mt-4 text-xs text-gray-400 max-w-md text-center",children:e.jsx("p",{children:"💡 Tip: Use snooze to temporarily hide emails and have them reappear in your inbox at the right time"})})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(p=>e.jsxs("div",{className:`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${p.isRead?"":"bg-blue-50"}`,children:[e.jsx("div",{className:"flex items-center mr-4",children:e.jsx("input",{type:"checkbox",checked:n.has(p.id),onChange:()=>x(p.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300",title:`Select email from ${p.from.name||p.from.email}`})}),e.jsx("button",{onClick:()=>g(p.id),className:"mr-4 p-1 text-purple-500 hover:text-purple-700",title:"Unsnooze email",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs($,{to:`/thread/${p.threadId}`,className:"flex-1 flex items-center min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-sm ${p.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:p.from.name||p.from.email}),p.hasAttachments&&e.jsx("svg",{className:"w-4 h-4 ml-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),p.snoozeUntil&&e.jsx("span",{className:"ml-2 text-xs text-purple-600 px-2 py-1 bg-purple-100 rounded",children:b(p.snoozeUntil)})]}),e.jsx("div",{className:`text-sm ${p.isRead?"text-gray-600":"font-medium text-gray-900"} truncate`,children:p.subject||"(no subject)"}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:p.bodyText||""})]}),e.jsx("div",{className:"text-sm text-gray-500 ml-4",children:f(p.timestamp)})]})]},p.id))})}),e.jsx("div",{className:"border-t border-gray-200 bg-purple-50 p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"text-sm text-purple-800",children:[e.jsx("p",{className:"font-medium",children:"About Snoozed Emails"}),e.jsx("p",{className:"mt-1",children:"Snoozed emails are temporarily hidden from your inbox and will reappear automatically at the scheduled time. You can unsnooze them manually at any time by clicking the clock icon."})]})]})})]})}function Xl(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState(new Set),[l,o]=v.useState("");v.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0),o("");const h=await V.getInbox({folder:"important"});s(h.emails||[])}catch(h){o("Failed to load important emails"),console.error("Error loading important emails:",h)}finally{a(!1)}},x=h=>{const L=new Set(n);L.has(h)?L.delete(h):L.add(h),i(L)},g=()=>{n.size===t.length?i(new Set):i(new Set(t.map(h=>h.id)))},b=async()=>{try{i(new Set)}catch(h){console.error("Error marking emails as read:",h)}},f=async()=>{try{i(new Set)}catch(h){console.error("Error archiving emails:",h)}},p=async()=>{try{i(new Set)}catch(h){console.error("Error deleting emails:",h)}},d=async h=>{try{await V.starMessage(h,!0),await c()}catch(L){console.error("Error toggling important status:",L)}},u=h=>{const L=new Date(h),m=Math.floor((new Date().getTime()-L.getTime())/(1e3*60*60*24));return m===0?L.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):m<7?L.toLocaleDateString([],{weekday:"short"}):L.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"text-center text-red-600 p-4",children:l}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Important"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"email":"emails"]})]})}),n.size>0&&e.jsx("div",{className:"border-b border-gray-200 p-4 bg-blue-50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:[n.size," selected"]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-1 text-sm text-gray-700 hover:text-gray-900",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("span",{children:"Mark as read"})]}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-1 text-sm text-gray-700 hover:text-gray-900",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Archive"})]}),e.jsxs("button",{onClick:p,className:"flex items-center space-x-1 text-sm text-red-600 hover:text-red-800",children:[e.jsx(za,{className:"h-4 w-4"}),e.jsx("span",{children:"Delete"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(le,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No important emails"}),e.jsx("p",{className:"text-gray-600",children:"Messages you mark as important will appear here."})]}):e.jsxs("div",{className:"divide-y divide-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:n.size===t.length&&t.length>0,onChange:g,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Select all"})]})}),t.map(h=>e.jsx("div",{className:`p-4 hover:bg-gray-50 ${n.has(h.id)?"bg-blue-50":""} ${h.isRead?"text-gray-600":"text-gray-900 font-medium"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.has(h.id),onChange:()=>x(h.id),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("button",{onClick:()=>d(h.id),className:`mt-1 ${h.isImportant?"text-yellow-500":"text-gray-300 hover:text-yellow-500"}`,children:e.jsx(le,{className:`h-4 w-4 ${h.isImportant?"fill-current":""}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm",children:h.from.name||h.from.email}),!h.isRead&&e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:u(h.timestamp)})]}),e.jsxs($,{to:`/email/${h.id}`,className:"block hover:underline",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:h.subject||"(No subject)"}),h.bodyText&&e.jsxs("p",{className:"text-sm text-gray-600 truncate mt-1",children:[h.bodyText.substring(0,100),"..."]})]})]})]})},h.id))]})})]})}function Zl(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState("");v.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0),i("");const c=await V.getInbox({folder:"sent"});s(c.emails||[])}catch(c){i("Failed to load sent emails"),console.error("Error loading sent emails:",c)}finally{a(!1)}},o=c=>{const x=new Date(c),b=Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24));return b===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):b<7?x.toLocaleDateString([],{weekday:"short"}):x.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ft,{className:"animate-spin h-8 w-8 text-blue-600"})}):n?e.jsx("div",{className:"text-center text-red-600 p-4",children:n}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Sent"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"email":"emails"]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(fs,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sent emails"}),e.jsx("p",{className:"text-gray-600",children:"Emails you send will appear here."})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(c=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsx("div",{className:"flex items-start space-x-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm",children:["To: ",c.to.map(x=>x.name||x.email).join(", ")]})}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:o(c.timestamp)})]}),e.jsxs($,{to:`/email/${c.id}`,className:"block hover:underline",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:c.subject||"(No subject)"}),c.bodyText&&e.jsxs("p",{className:"text-sm text-gray-600 truncate mt-1",children:[c.bodyText.substring(0,100),"..."]})]})]})})},c.id))})})]})}function eo(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState("");v.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0),i("");const c=await V.getInbox({folder:"drafts"});s(c.emails||[])}catch(c){i("Failed to load draft emails"),console.error("Error loading draft emails:",c)}finally{a(!1)}},o=c=>{const x=new Date(c),b=Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24));return b===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):b<7?x.toLocaleDateString([],{weekday:"short"}):x.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ft,{className:"animate-spin h-8 w-8 text-blue-600"})}):n?e.jsx("div",{className:"text-center text-red-600 p-4",children:n}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Drafts"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"draft":"drafts"]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx($a,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drafts"}),e.jsx("p",{className:"text-gray-600",children:"Draft emails will appear here."})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(c=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsx("div",{className:"flex items-start space-x-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["To: ",c.to.length>0?c.to.map(x=>x.name||x.email).join(", "):"(Recipients)"]}),e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Draft"})]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:o(c.timestamp)})]}),e.jsxs($,{to:`/compose?draft=${c.id}`,className:"block hover:underline",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:c.subject||"(No subject)"}),c.bodyText&&e.jsxs("p",{className:"text-sm text-gray-600 truncate mt-1",children:[c.bodyText.substring(0,100),"..."]})]})]})})},c.id))})})]})}function to(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState("");v.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0),i("");const c=await V.getInbox({folder:"spam"});s(c.emails||[])}catch(c){i("Failed to load spam emails"),console.error("Error loading spam emails:",c)}finally{a(!1)}},o=c=>{const x=new Date(c),b=Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24));return b===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):b<7?x.toLocaleDateString([],{weekday:"short"}):x.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ft,{className:"animate-spin h-8 w-8 text-blue-600"})}):n?e.jsx("div",{className:"text-center text-red-600 p-4",children:n}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Spam"}),e.jsx(St,{className:"h-5 w-5 text-orange-500"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"email":"emails"]})]})}),e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(mt,{className:"h-5 w-5 text-orange-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-orange-700",children:"Messages in Spam are automatically deleted after 30 days. Be careful when opening these emails."})})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(St,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No spam emails"}),e.jsx("p",{className:"text-gray-600",children:"Spam emails will appear here. They are automatically deleted after 30 days."})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(c=>e.jsx("div",{className:"p-4 hover:bg-gray-50 border-l-4 border-orange-200",children:e.jsx("div",{className:"flex items-start space-x-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm",children:c.from.name||c.from.email}),e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:"Spam"})]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:o(c.timestamp)})]}),e.jsxs($,{to:`/email/${c.id}`,className:"block hover:underline",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:c.subject||"(No subject)"}),c.bodyText&&e.jsxs("p",{className:"text-sm text-gray-600 truncate mt-1",children:[c.bodyText.substring(0,100),"..."]})]})]})})},c.id))})})]})}function so(){const[t,s]=v.useState([]),[r,a]=v.useState(!0),[n,i]=v.useState("");v.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0),i("");const c=await V.getInbox({folder:"trash"});s(c.emails||[])}catch(c){i("Failed to load deleted emails"),console.error("Error loading deleted emails:",c)}finally{a(!1)}},o=c=>{const x=new Date(c),b=Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24));return b===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):b<7?x.toLocaleDateString([],{weekday:"short"}):x.toLocaleDateString([],{month:"short",day:"numeric"})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ft,{className:"animate-spin h-8 w-8 text-blue-600"})}):n?e.jsx("div",{className:"text-center text-red-600 p-4",children:n}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trash"}),e.jsx(he,{className:"h-5 w-5 text-red-500"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," ",t.length===1?"email":"emails"]})]})}),e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(jr,{className:"h-5 w-5 text-red-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:"Messages in Trash are permanently deleted after 30 days. You can restore them before then."})})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(he,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Trash is empty"}),e.jsx("p",{className:"text-gray-600",children:"Deleted emails will appear here. They are permanently deleted after 30 days."})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(c=>e.jsx("div",{className:"p-4 hover:bg-gray-50 border-l-4 border-red-200",children:e.jsx("div",{className:"flex items-start space-x-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:c.from.name||c.from.email}),e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Deleted"})]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:o(c.timestamp)})]}),e.jsxs($,{to:`/email/${c.id}`,className:"block hover:underline",children:[e.jsx("p",{className:"text-sm font-medium truncate text-gray-600",children:c.subject||"(No subject)"}),c.bodyText&&e.jsxs("p",{className:"text-sm text-gray-500 truncate mt-1",children:[c.bodyText.substring(0,100),"..."]})]})]})})},c.id))})})]})}function ro({onToggleSidebar:t,showSidebarToggle:s=!0}){const r=rt(),{user:a,logout:n}=De(),[i,l]=v.useState(!1),[o,c]=v.useState(!1),[x,g]=v.useState(""),b=[{name:"BhaMail",icon:Te,path:"/inbox",color:"text-red-500",external:!1},{name:"Calendar",icon:Tt,path:"/calendar",color:"text-blue-500",external:!1},{name:"Contacts",icon:Ze,path:"/contacts",color:"text-green-500",external:!1},{name:"Drive",icon:wr,path:"/drive",color:"text-yellow-500",external:!1},{name:"Meet",icon:Pt,path:"https://meet.google.com",color:"text-orange-500",external:!0},{name:"Photos",icon:Mt,path:"https://photos.google.com",color:"text-purple-500",external:!0},{name:"Search",icon:gs,path:"https://google.com",color:"text-blue-600",external:!0}],f=u=>{u.preventDefault(),x.trim()&&r(`/search?q=${encodeURIComponent(x.trim())}`)},p=()=>{n(),r("/login")},d=({app:u})=>{const h=e.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg hover:bg-gray-100 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-2 group-hover:bg-white transition-colors",children:e.jsx(u.icon,{className:`h-6 w-6 ${u.color}`})}),e.jsx("span",{className:"text-xs text-gray-700 font-medium",children:u.name})]});return u.external?e.jsx("a",{href:u.path,target:"_blank",rel:"noopener noreferrer",className:"block",children:h}):e.jsx($,{to:u.path,className:"block",onClick:()=>l(!1),children:h})};return e.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center px-4 relative z-50",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[s&&e.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors mr-3",title:"Toggle sidebar",children:e.jsx(Ua,{className:"h-5 w-5"})}),e.jsx($,{to:"/inbox",className:"flex items-center mr-6",children:e.jsx(st,{size:"md",showText:!0})}),e.jsx("div",{className:"flex-1 max-w-2xl",children:e.jsx("form",{onSubmit:f,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search mail",value:x,onChange:u=>g(u.target.value),className:`\r
                  w-full pl-10 pr-4 py-2 \r
                  bg-gray-100 hover:bg-white hover:shadow-md\r
                  border border-transparent hover:border-gray-300\r
                  rounded-full transition-all duration-200\r
                  focus:outline-none focus:bg-white focus:shadow-md focus:border-blue-500\r
                  text-sm\r
                `})]})})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Help",children:e.jsx(_a,{className:"h-5 w-5"})}),e.jsx($,{to:"/settings",className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Settings",children:e.jsx(ue,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>l(!i),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Google apps",children:e.jsx(ps,{className:"h-5 w-5"})}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-50",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Google Apps"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(u=>e.jsx(d,{app:u},u.name))})]}),e.jsx("div",{className:"border-t border-gray-100 pt-3",children:e.jsx($,{to:"/settings",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>l(!1),children:"More from BhaMail →"})})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!o),className:"flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:a!=null&&a.firstName?e.jsx("span",{className:"text-white text-sm font-medium",children:a.firstName[0].toUpperCase()}):e.jsx(Et,{className:"h-4 w-4 text-white"})}),e.jsx(Lt,{className:"h-4 w-4 text-gray-500"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:a!=null&&a.firstName?e.jsx("span",{className:"text-white text-lg font-medium",children:a.firstName[0].toUpperCase()}):e.jsx(Et,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}),e.jsx("div",{className:"text-sm text-gray-500",children:a==null?void 0:a.email})]})]})}),e.jsxs("div",{className:"p-2",children:[e.jsxs($,{to:"/settings",className:"flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>c(!1),children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{children:"Account Settings"})]}),e.jsxs("button",{onClick:p,className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qa,{className:"h-4 w-4"}),e.jsx("span",{children:"Sign out"})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Privacy Policy • Terms of Service"})})]})]})]})]})]})}function ao({isCollapsed:t=!1}){const s=ha(),[r,a]=v.useState(!1),[n,i]=v.useState(!0),l=[{icon:Nr,label:"Inbox",path:"/inbox",count:12},{icon:le,label:"Starred",path:"/starred"},{icon:kt,label:"Snoozed",path:"/snoozed"},{icon:fs,label:"Sent",path:"/sent"},{icon:Ae,label:"Drafts",path:"/drafts",count:3},{icon:Te,label:"All Mail",path:"/all"},{icon:mt,label:"Spam",path:"/spam"},{icon:he,label:"Trash",path:"/trash"}],o=[{icon:Tt,label:"Calendar",path:"/calendar",external:!1},{icon:Ze,label:"Contacts",path:"/contacts",external:!1},{icon:wr,label:"Drive",path:"/drive",external:!1},{icon:Pt,label:"Meet",path:"https://meet.google.com",external:!0},{icon:gs,label:"Search",path:"https://google.com",external:!0},{icon:Mt,label:"Photos",path:"https://photos.google.com",external:!0}],c=[{name:"Work",color:"bg-red-500",count:5},{name:"Personal",color:"bg-blue-500",count:8},{name:"Finance",color:"bg-green-500",count:2},{name:"Travel",color:"bg-purple-500",count:1}],x=b=>s.pathname===b,g=({icon:b,label:f,path:p,count:d,external:u=!1})=>{const h=e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"h-4 w-4 min-w-4"}),!t&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1 text-left",children:f}),d&&d>0&&e.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:d})]})]}),L=`
      flex items-center gap-3 px-3 py-2 mx-2 rounded-lg text-sm font-medium
      transition-all duration-200 group
      ${x(p)?"bg-red-50 text-red-700 border-l-4 border-red-500":"text-gray-700 hover:bg-gray-100"}
      ${t?"justify-center":""}
    `;return u?e.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:L,title:t?f:void 0,children:h}):e.jsx($,{to:p,className:L,title:t?f:void 0,children:h})};return e.jsx("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 ${t?"w-16":"w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center p-4 border-b border-gray-100",children:t?e.jsx(st,{size:"sm",showText:!1}):e.jsx(st,{size:"md",showText:!0})}),e.jsx("div",{className:"p-4",children:e.jsxs($,{to:"/compose",className:`
              flex items-center justify-center gap-2 
              bg-gradient-to-r from-blue-600 to-blue-700 
              text-white font-medium rounded-full
              transition-all duration-200 hover:shadow-lg
              ${t?"w-12 h-12":"w-full py-3 px-6"}
            `,children:[e.jsx(Xe,{className:"h-5 w-5"}),!t&&e.jsx("span",{children:"Compose"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx("nav",{className:"space-y-1",children:l.map(b=>e.jsx(g,{...b},b.path))}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("button",{onClick:()=>a(!r),className:`
                flex items-center gap-2 px-3 py-2 mx-2 text-sm font-medium text-gray-600
                hover:bg-gray-100 rounded-lg transition-colors w-full
                ${t?"justify-center":""}
              `,children:[r?e.jsx(Lt,{className:"h-4 w-4"}):e.jsx(Ye,{className:"h-4 w-4"}),!t&&e.jsx("span",{children:"Google Services"})]}),r&&e.jsx("div",{className:"mt-1 space-y-1",children:o.map(b=>e.jsx(g,{...b},b.path))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("button",{onClick:()=>i(!n),className:`
                flex items-center gap-2 px-3 py-2 mx-2 text-sm font-medium text-gray-600
                hover:bg-gray-100 rounded-lg transition-colors w-full
                ${t?"justify-center":""}
              `,children:[n?e.jsx(Lt,{className:"h-4 w-4"}):e.jsx(Ye,{className:"h-4 w-4"}),!t&&e.jsx("span",{children:"Labels"})]}),n&&!t&&e.jsxs("div",{className:"mt-1 space-y-1",children:[c.map(b=>e.jsxs($,{to:`/label/${b.name.toLowerCase()}`,className:"flex items-center gap-3 px-3 py-2 mx-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${b.color}`}),e.jsx("span",{className:"flex-1",children:b.name}),b.count>0&&e.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:b.count})]},b.name)),e.jsxs($,{to:"/labels",className:"flex items-center gap-3 px-3 py-2 mx-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Xe,{className:"h-3 w-3"}),e.jsx("span",{children:"Create label"})]}),e.jsxs($,{to:"/labels",className:"flex items-center gap-3 px-3 py-2 mx-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(ue,{className:"h-3 w-3"}),e.jsx("span",{children:"Manage labels"})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-100 p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:t?e.jsx($,{to:"/settings",className:"text-gray-400 hover:text-gray-600 transition-colors mx-auto",title:"Settings",children:e.jsx(ue,{className:"h-4 w-4"})}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"15 GB of 15 GB used"}),e.jsx($,{to:"/settings",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ue,{className:"h-4 w-4"})})]})}),!t&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:"75%"}})})})]})]})})}function ee({children:t,showSidebar:s=!0}){const[r,a]=v.useState(!1),n=()=>{a(!r)};return e.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[e.jsx(ro,{onToggleSidebar:n,showSidebarToggle:s}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s&&e.jsx(ao,{isCollapsed:r}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-white",children:t})]})]})}function no({isOpen:t,onClose:s,onEventCreate:r,onEventEdit:a,onEventDelete:n}){const[i,l]=v.useState(new Date),[o,c]=v.useState("month"),[x,g]=v.useState(!1),[b,f]=v.useState(null),[p,d]=v.useState([{id:"1",title:"Team Meeting",start:new Date(2024,2,15,10,0),end:new Date(2024,2,15,11,0),allDay:!1,description:"Weekly team sync meeting",location:"Conference Room A",attendees:["john@example.com","jane@example.com"],meetingLink:"https://meet.bhamail.com/abc-defg-hij",color:"blue",reminder:15,repeat:"weekly"},{id:"2",title:"Project Deadline",start:new Date(2024,2,20,0,0),end:new Date(2024,2,20,23,59),allDay:!0,description:"Final submission for Q1 project",color:"red",reminder:1440,repeat:"none"},{id:"3",title:"Client Presentation",start:new Date(2024,2,18,14,0),end:new Date(2024,2,18,15,30),allDay:!1,description:"Quarterly business review with key client",location:"Executive Conference Room",attendees:["client@example.com","sales@example.com"],meetingLink:"https://meet.bhamail.com/xyz-uvwx-rst",color:"green",reminder:30,repeat:"none"}]),[u,h]=v.useState({title:"",start:new Date,end:new Date(Date.now()+60*60*1e3),allDay:!1,description:"",location:"",attendees:[],color:"blue",reminder:15,repeat:"none"}),L=["January","February","March","April","May","June","July","August","September","October","November","December"],C=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=()=>{const E=i.getFullYear(),y=i.getMonth(),T=new Date(E,y,1),k=new Date(T);k.setDate(k.getDate()-T.getDay());const A=[],w=new Date(k);for(let D=0;D<42;D++)A.push(new Date(w)),w.setDate(w.getDate()+1);return A},N=E=>p.filter(y=>new Date(y.start).toDateString()===E.toDateString()),F=E=>{h(y=>({...y,start:new Date(E.getFullYear(),E.getMonth(),E.getDate(),9,0),end:new Date(E.getFullYear(),E.getMonth(),E.getDate(),10,0)})),g(!0)},R=()=>{if(!u.title||!u.start||!u.end)return;const E={id:Date.now().toString(),title:u.title,start:u.start,end:u.end,allDay:u.allDay||!1,description:u.description||"",location:u.location||"",attendees:u.attendees||[],meetingLink:u.meetingLink,color:u.color||"blue",reminder:u.reminder||15,repeat:u.repeat||"none"};d(y=>[...y,E]),r==null||r(E),g(!1),h({title:"",start:new Date,end:new Date(Date.now()+60*60*1e3),allDay:!1,description:"",location:"",attendees:[],color:"blue",reminder:15,repeat:"none"})},M=E=>{f(E),h(E),g(!0)},I=()=>{if(!b||!u.title||!u.start||!u.end)return;const E={...b,title:u.title,start:u.start,end:u.end,allDay:u.allDay||!1,description:u.description||"",location:u.location||"",attendees:u.attendees||[],meetingLink:u.meetingLink,color:u.color||"blue",reminder:u.reminder||15,repeat:u.repeat||"none"};d(y=>y.map(T=>T.id===b.id?E:T)),a==null||a(E),g(!1),f(null),h({title:"",start:new Date,end:new Date(Date.now()+60*60*1e3),allDay:!1,description:"",location:"",attendees:[],color:"blue",reminder:15,repeat:"none"})},P=E=>{d(y=>y.filter(T=>T.id!==E)),n==null||n(E)},_=E=>{l(y=>{const T=new Date(y);return T.setMonth(T.getMonth()+(E==="next"?1:-1)),T})},q=E=>E.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),K=E=>{const y={blue:"bg-blue-500 text-white",red:"bg-red-500 text-white",green:"bg-green-500 text-white",yellow:"bg-yellow-500 text-black",purple:"bg-purple-500 text-white",orange:"bg-orange-500 text-white"};return y[E]||y.blue};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Tt,{className:"h-6 w-6 text-blue-600"}),"BhaCalendar"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_("prev"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(br,{className:"h-4 w-4"})}),e.jsxs("h3",{className:"text-lg font-medium min-w-48 text-center",children:[L[i.getMonth()]," ",i.getFullYear()]}),e.jsx("button",{onClick:()=>_("next"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(Ye,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(new Date),className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:"Today"}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>c("month"),className:`px-3 py-2 text-sm ${o==="month"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:"Month"}),e.jsx("button",{onClick:()=>c("week"),className:`px-3 py-2 text-sm ${o==="week"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:"Week"}),e.jsx("button",{onClick:()=>c("day"),className:`px-3 py-2 text-sm ${o==="day"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:"Day"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Create"]}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(ht,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(ue,{className:"h-4 w-4"})}),e.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx($e,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[o==="month"&&e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"grid grid-cols-7 border-b bg-gray-50",children:C.map(E=>e.jsx("div",{className:"p-3 text-sm font-medium text-gray-600 text-center",children:E},E))}),e.jsx("div",{className:"flex-1 grid grid-cols-7 gap-0",children:m().map((E,y)=>{const T=E.getMonth()===i.getMonth(),k=E.toDateString()===new Date().toDateString(),A=N(E);return e.jsxs("div",{className:`min-h-32 border-r border-b border-gray-200 p-1 cursor-pointer hover:bg-gray-50 ${T?"":"bg-gray-50 text-gray-400"}`,onClick:()=>F(E),children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${k?"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:E.getDate()}),e.jsxs("div",{className:"space-y-1",children:[A.slice(0,3).map(w=>e.jsx("div",{className:`text-xs p-1 rounded truncate cursor-pointer ${K(w.color)}`,onClick:D=>{D.stopPropagation(),M(w)},children:w.allDay?w.title:`${q(w.start)} ${w.title}`},w.id)),A.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",A.length-3," more"]})]})]},y)})})]}),(o==="week"||o==="day")&&e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsxs("p",{className:"text-lg font-medium",children:[o==="week"?"Week":"Day"," view coming soon"]}),e.jsx("p",{className:"text-sm",children:"Switch to Month view to see events"})]})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:b?"Edit Event":"Create Event"}),e.jsx("button",{onClick:()=>{g(!1),f(null)},className:"text-gray-500 hover:text-gray-700",children:e.jsx($e,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx("input",{type:"text",value:u.title||"",onChange:E=>h(y=>({...y,title:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter event title"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"allDay",checked:u.allDay||!1,onChange:E=>h(y=>({...y,allDay:E.target.checked})),className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("label",{htmlFor:"allDay",className:"text-sm font-medium text-gray-700",children:"All day"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start"}),e.jsx("input",{type:u.allDay?"date":"datetime-local",value:u.start?u.allDay?u.start.toISOString().split("T")[0]:u.start.toISOString().slice(0,16):"",onChange:E=>h(y=>({...y,start:new Date(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End"}),e.jsx("input",{type:u.allDay?"date":"datetime-local",value:u.end?u.allDay?u.end.toISOString().split("T")[0]:u.end.toISOString().slice(0,16):"",onChange:E=>h(y=>({...y,end:new Date(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:u.description||"",onChange:E=>h(y=>({...y,description:E.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Add description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:u.location||"",onChange:E=>h(y=>({...y,location:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Add location"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Pt,{className:"inline h-4 w-4 mr-1"}),"Meeting Link"]}),e.jsx("input",{type:"url",value:u.meetingLink||"",onChange:E=>h(y=>({...y,meetingLink:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://meet.google.com/..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ze,{className:"inline h-4 w-4 mr-1"}),"Attendees"]}),e.jsx("input",{type:"text",placeholder:"Enter email addresses separated by commas",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onChange:E=>{const y=E.target.value.split(",").map(T=>T.trim()).filter(Boolean);h(T=>({...T,attendees:y}))}})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),e.jsxs("select",{value:u.color||"blue",onChange:E=>h(y=>({...y,color:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"blue",children:"Blue"}),e.jsx("option",{value:"red",children:"Red"}),e.jsx("option",{value:"green",children:"Green"}),e.jsx("option",{value:"yellow",children:"Yellow"}),e.jsx("option",{value:"purple",children:"Purple"}),e.jsx("option",{value:"orange",children:"Orange"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ts,{className:"inline h-4 w-4 mr-1"}),"Reminder"]}),e.jsxs("select",{value:u.reminder||15,onChange:E=>h(y=>({...y,reminder:parseInt(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"None"}),e.jsx("option",{value:5,children:"5 minutes"}),e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:1440,children:"1 day"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Repeat"}),e.jsxs("select",{value:u.repeat||"none",onChange:E=>h(y=>({...y,repeat:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"none",children:"Does not repeat"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50",children:[e.jsx("div",{children:b&&e.jsxs("button",{onClick:()=>{P(b.id),g(!1),f(null)},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-100 rounded-lg",children:[e.jsx(he,{className:"h-4 w-4"}),"Delete"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{g(!1),f(null)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:b?I:R,disabled:!u.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:b?"Update":"Create"})]})]})]})})]})}):null}function io(){return e.jsx(ee,{children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Qt,{title:"Calendar"}),e.jsx("div",{className:"flex-1",children:e.jsx(no,{isOpen:!0,onClose:()=>{}})})]})})}function lo({isOpen:t,onClose:s,onContactSelect:r,selectionMode:a=!1}){const[n,i]=v.useState([{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"+1 (555) 123-4567",company:"Tech Corp",jobTitle:"Software Engineer",address:"123 Main St, New York, NY 10001",birthday:"1990-05-15",notes:"Met at tech conference 2024",labels:["work","tech"],starred:!0,groups:["colleagues"],lastContacted:new Date("2024-03-10")},{id:"2",firstName:"Jane",lastName:"Smith",email:"jane.smith@example.com",phone:"+1 (555) 987-6543",company:"Design Studio",jobTitle:"UX Designer",labels:["work","design"],starred:!1,groups:["colleagues","friends"],lastContacted:new Date("2024-03-08")},{id:"3",firstName:"Mike",lastName:"Johnson",email:"mike.johnson@example.com",phone:"+1 (555) 456-7890",company:"Marketing Inc",jobTitle:"Marketing Manager",labels:["work"],starred:!0,groups:["colleagues"],lastContacted:new Date("2024-03-05")},{id:"4",firstName:"Sarah",lastName:"Wilson",email:"sarah.wilson@example.com",phone:"+1 (555) 234-5678",labels:["personal","family"],starred:!1,groups:["family"],lastContacted:new Date("2024-03-12")}]),[l]=v.useState([{id:"1",name:"Colleagues",contactCount:3,color:"blue"},{id:"2",name:"Friends",contactCount:1,color:"green"},{id:"3",name:"Family",contactCount:1,color:"purple"},{id:"4",name:"Clients",contactCount:0,color:"orange"}]),[o,c]=v.useState(""),[x,g]=v.useState("all"),[b,f]=v.useState("list"),[p,d]=v.useState([]),[u,h]=v.useState(!1),[L,C]=v.useState(null),[m,N]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:"",address:"",birthday:"",notes:"",labels:[],starred:!1,groups:[]}),F=n.filter(y=>{var A;const T=o===""||`${y.firstName} ${y.lastName}`.toLowerCase().includes(o.toLowerCase())||y.email.toLowerCase().includes(o.toLowerCase())||((A=y.company)==null?void 0:A.toLowerCase().includes(o.toLowerCase())),k=x==="all"||x==="starred"&&y.starred||y.groups.includes(x);return T&&k}),R=y=>{if(a&&r){r(y);return}C(y),N(y),h(!0)},M=()=>{if(!m.firstName||!m.email)return;const y={id:Date.now().toString(),firstName:m.firstName,lastName:m.lastName||"",email:m.email,phone:m.phone||"",company:m.company||"",jobTitle:m.jobTitle||"",address:m.address||"",birthday:m.birthday||"",notes:m.notes||"",labels:m.labels||[],starred:m.starred||!1,groups:m.groups||[]};i(T=>[...T,y]),h(!1),q()},I=()=>{if(!L||!m.firstName||!m.email)return;const y={...L,firstName:m.firstName,lastName:m.lastName||"",email:m.email,phone:m.phone||"",company:m.company||"",jobTitle:m.jobTitle||"",address:m.address||"",birthday:m.birthday||"",notes:m.notes||"",labels:m.labels||[],starred:m.starred||!1,groups:m.groups||[]};i(T=>T.map(k=>k.id===L.id?y:k)),h(!1),C(null),q()},P=y=>{i(T=>T.filter(k=>k.id!==y)),(L==null?void 0:L.id)===y&&(h(!1),C(null))},_=y=>{i(T=>T.map(k=>k.id===y?{...k,starred:!k.starred}:k))},q=()=>{N({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:"",address:"",birthday:"",notes:"",labels:[],starred:!1,groups:[]})},K=y=>`${y.firstName.charAt(0)}${y.lastName.charAt(0)}`.toUpperCase(),E=y=>{const T={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500",red:"bg-red-500",yellow:"bg-yellow-500"};return T[y]||T.blue};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex",children:[e.jsx("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5 text-blue-600"}),"BhaContacts"]}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:e.jsx($e,{className:"h-5 w-5"})})]}),e.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 mb-4",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Create contact"]}),e.jsxs("nav",{className:"space-y-1",children:[e.jsx("button",{onClick:()=>g("all"),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${x==="all"?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"All contacts"}),e.jsx("span",{className:"text-gray-500",children:n.length})]})}),e.jsx("button",{onClick:()=>g("starred"),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${x==="starred"?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"Starred"]}),e.jsx("span",{className:"text-gray-500",children:n.filter(y=>y.starred).length})]})}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Groups"}),e.jsx("button",{onClick:()=>{},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"h-3 w-3"})})]}),l.map(y=>e.jsx("button",{onClick:()=>g(y.id),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${x===y.id?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${E(y.color)}`}),y.name]}),e.jsx("span",{className:"text-gray-500",children:y.contactCount})]})},y.id))]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search contacts",value:o,onChange:y=>c(y.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 w-80"})]}),a&&e.jsx("span",{className:"text-sm text-gray-600 bg-blue-100 px-3 py-1 rounded-full",children:"Select contacts to add"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>f("list"),className:`p-2 ${b==="list"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e.jsx(xs,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>f("grid"),className:`p-2 ${b==="grid"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e.jsx(ps,{className:"h-4 w-4"})})]}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(Ha,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(hs,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[b==="list"?e.jsx("div",{className:"divide-y divide-gray-200",children:F.map(y=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>R(y),children:[e.jsx("input",{type:"checkbox",checked:p.includes(y.id),onChange:T=>{T.stopPropagation(),d(k=>T.target.checked?[...k,y.id]:k.filter(A=>A!==y.id))},className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-sm font-medium text-gray-600",children:y.avatar?e.jsx("img",{src:y.avatar,alt:"",className:"w-10 h-10 rounded-full"}):K(y)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[y.firstName," ",y.lastName]}),y.starred&&e.jsx(le,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:y.email}),y.company&&e.jsx("p",{className:"text-xs text-gray-500 truncate",children:y.company})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[y.phone&&e.jsx("button",{onClick:T=>{T.stopPropagation(),window.location.href=`tel:${y.phone}`},className:"p-1 hover:text-green-600",children:e.jsx(Es,{className:"h-4 w-4"})}),e.jsx("button",{onClick:T=>{T.stopPropagation(),window.location.href=`mailto:${y.email}`},className:"p-1 hover:text-blue-600",children:e.jsx(Te,{className:"h-4 w-4"})}),e.jsx("button",{onClick:T=>{T.stopPropagation(),_(y.id)},className:"p-1 hover:text-yellow-500",children:e.jsx(le,{className:`h-4 w-4 ${y.starred?"text-yellow-500 fill-current":""}`})}),e.jsx("button",{onClick:T=>T.stopPropagation(),className:"p-1 hover:text-gray-600",children:e.jsx(Sr,{className:"h-4 w-4"})})]})]},y.id))}):e.jsx("div",{className:"p-4 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4",children:F.map(y=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md cursor-pointer text-center",onClick:()=>R(y),children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("input",{type:"checkbox",checked:p.includes(y.id),onChange:T=>{T.stopPropagation(),d(k=>T.target.checked?[...k,y.id]:k.filter(A=>A!==y.id))},className:"absolute top-0 right-0 h-4 w-4 text-blue-600 rounded"}),e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center text-lg font-medium text-gray-600 mx-auto",children:y.avatar?e.jsx("img",{src:y.avatar,alt:"",className:"w-16 h-16 rounded-full"}):K(y)}),y.starred&&e.jsx(le,{className:"absolute -top-1 -right-1 h-4 w-4 text-yellow-500 fill-current"})]}),e.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[y.firstName," ",y.lastName]}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:y.email}),y.company&&e.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:y.company}),e.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[y.phone&&e.jsx("button",{onClick:T=>{T.stopPropagation(),window.location.href=`tel:${y.phone}`},className:"p-1 text-gray-400 hover:text-green-600",children:e.jsx(Es,{className:"h-3 w-3"})}),e.jsx("button",{onClick:T=>{T.stopPropagation(),window.location.href=`mailto:${y.email}`},className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Te,{className:"h-3 w-3"})})]})]},y.id))}),F.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(Et,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No contacts found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]}),p.length>0&&e.jsx("div",{className:"border-t bg-gray-50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[p.length," contact",p.length!==1?"s":""," selected"]}),e.jsx("div",{className:"flex items-center gap-2",children:a?e.jsx("button",{onClick:()=>{n.filter(T=>p.includes(T.id)).forEach(T=>r==null?void 0:r(T))},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Selected"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(Te,{className:"h-4 w-4"}),"Email"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(_e,{className:"h-4 w-4"}),"Label"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(Ze,{className:"h-4 w-4"}),"Group"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-100 rounded",children:[e.jsx(he,{className:"h-4 w-4"}),"Delete"]})]})})]})})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:L?"Edit Contact":"Create Contact"}),e.jsx("button",{onClick:()=>{h(!1),C(null),q()},className:"text-gray-500 hover:text-gray-700",children:e.jsx($e,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:m.firstName||"",onChange:y=>N(T=>({...T,firstName:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:m.lastName||"",onChange:y=>N(T=>({...T,lastName:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:m.email||"",onChange:y=>N(T=>({...T,email:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:m.phone||"",onChange:y=>N(T=>({...T,phone:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsx("input",{type:"text",value:m.company||"",onChange:y=>N(T=>({...T,company:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),e.jsx("input",{type:"text",value:m.jobTitle||"",onChange:y=>N(T=>({...T,jobTitle:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:m.address||"",onChange:y=>N(T=>({...T,address:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birthday"}),e.jsx("input",{type:"date",value:m.birthday||"",onChange:y=>N(T=>({...T,birthday:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:m.notes||"",onChange:y=>N(T=>({...T,notes:y.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"starred",checked:m.starred||!1,onChange:y=>N(T=>({...T,starred:y.target.checked})),className:"h-4 w-4 text-blue-600 rounded"}),e.jsxs("label",{htmlFor:"starred",className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[e.jsx(le,{className:"h-4 w-4"}),"Star this contact"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50",children:[e.jsx("div",{children:L&&e.jsxs("button",{onClick:()=>{P(L.id),h(!1),C(null)},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-100 rounded-lg",children:[e.jsx(he,{className:"h-4 w-4"}),"Delete"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{h(!1),C(null),q()},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:L?I:M,disabled:!m.firstName||!m.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:L?"Update":"Create"})]})]})]})})]})}):null}function oo(){return e.jsx(ee,{children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Qt,{title:"Contacts"}),e.jsx("div",{className:"flex-1",children:e.jsx(lo,{isOpen:!0,onClose:()=>{}})})]})})}function co({isOpen:t,onClose:s,onFileSelect:r,selectionMode:a=!1}){const[n,i]=v.useState([{id:"1",name:"Business Proposal 2024",type:"document",size:2485760,modified:new Date("2024-03-15"),owner:"john.doe@example.com",shared:!0,starred:!1,permissions:"edit"},{id:"2",name:"Marketing Assets",type:"folder",modified:new Date("2024-03-14"),owner:"jane.smith@example.com",shared:!0,starred:!0,permissions:"edit"},{id:"3",name:"Q1 Financial Report",type:"spreadsheet",size:1024e3,modified:new Date("2024-03-13"),owner:"finance@example.com",shared:!1,starred:!0,permissions:"view"},{id:"4",name:"Product Presentation",type:"presentation",size:5242880,modified:new Date("2024-03-12"),owner:"product@example.com",shared:!0,starred:!1,permissions:"edit"},{id:"5",name:"Team Photo 2024",type:"image",size:3145728,modified:new Date("2024-03-11"),owner:"hr@example.com",shared:!1,starred:!1,permissions:"view"}]),[l,o]=v.useState(""),[c,x]=v.useState("list"),[g,b]=v.useState(""),[f,p]=v.useState([]),[d,u]=v.useState("modified"),[h,L]=v.useState("all"),[C,m]=v.useState(!1),[N,F]=v.useState(null),[R,M]=v.useState(!1),I=v.useRef(null),P=w=>{switch(w){case"folder":return e.jsx(Ka,{className:"h-5 w-5 text-blue-600"});case"document":return e.jsx(Ae,{className:"h-5 w-5 text-blue-600"});case"spreadsheet":return e.jsx(Ae,{className:"h-5 w-5 text-green-600"});case"presentation":return e.jsx(Ae,{className:"h-5 w-5 text-orange-600"});case"image":return e.jsx(Mt,{className:"h-5 w-5 text-purple-600"});case"video":return e.jsx(Pt,{className:"h-5 w-5 text-red-600"});case"audio":return e.jsx(Va,{className:"h-5 w-5 text-pink-600"});case"pdf":return e.jsx(Rs,{className:"h-5 w-5 text-red-600"});default:return e.jsx(Rs,{className:"h-5 w-5 text-gray-600"})}},_=w=>{if(!w)return"";const D=["Bytes","KB","MB","GB"],z=Math.floor(Math.log(w)/Math.log(1024));return Math.round(w/Math.pow(1024,z)*100)/100+" "+D[z]},q=w=>{const z=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60*24));return z===0?"Today":z===1?"Yesterday":z<7?`${z} days ago`:w.toLocaleDateString()},K=n.filter(w=>!(h!=="all"&&w.type!==h||g&&!w.name.toLowerCase().includes(g.toLowerCase()))).sort((w,D)=>{switch(d){case"name":return w.name.localeCompare(D.name);case"size":return(D.size||0)-(w.size||0);case"modified":return D.modified.getTime()-w.modified.getTime();default:return 0}}),E=w=>{m(!0),Array.from(w).forEach(D=>{const z={id:Date.now().toString(),name:D.name,type:D.type.startsWith("image/")?"image":D.type.startsWith("video/")?"video":D.type.startsWith("audio/")?"audio":D.type==="application/pdf"?"pdf":"other",size:D.size,modified:new Date,owner:"you@example.com",shared:!1,starred:!1,permissions:"owner"};i(X=>[...X,z])}),setTimeout(()=>m(!1),2e3)},y=w=>{if(a&&r){r(w);return}w.type==="folder"?o(w.id):console.log("Opening file:",w.name)},T=(w,D)=>{D.stopPropagation(),p(z=>z.includes(w)?z.filter(X=>X!==w):[...z,w])},k=w=>{F(w)},A=w=>{i(D=>D.map(z=>z.id===w?{...z,starred:!z.starred}:z))};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-green-500 rounded"}),"BhaDrive"]}),a&&e.jsx("span",{className:"text-sm text-gray-600 bg-blue-100 px-2 py-1 rounded",children:"Select files to attach"})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100",children:e.jsx($e,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>M(!R),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(Xe,{className:"h-4 w-4"}),"New"]}),R&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 w-48",children:e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded",children:[e.jsx(Wa,{className:"h-4 w-4"}),"Folder"]}),e.jsx("hr",{className:"my-1"}),e.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded",children:[e.jsx(Ae,{className:"h-4 w-4 text-blue-600"}),"BhaDocs"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded",children:[e.jsx(Ae,{className:"h-4 w-4 text-green-600"}),"BhaSheets"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded",children:[e.jsx(Ae,{className:"h-4 w-4 text-orange-600"}),"BhaSlides"]}),e.jsx("hr",{className:"my-1"}),e.jsxs("button",{onClick:()=>{var w;return(w=I.current)==null?void 0:w.click()},className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded",children:[e.jsx(Ls,{className:"h-4 w-4"}),"File upload"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded",children:[e.jsx(Ls,{className:"h-4 w-4"}),"Folder upload"]})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search in BhaDrive",value:g,onChange:w=>b(w.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-80"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:h,onChange:w=>L(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All files"}),e.jsx("option",{value:"folder",children:"Folders"}),e.jsx("option",{value:"document",children:"Documents"}),e.jsx("option",{value:"spreadsheet",children:"Spreadsheets"}),e.jsx("option",{value:"presentation",children:"Presentations"}),e.jsx("option",{value:"image",children:"Images"}),e.jsx("option",{value:"video",children:"Videos"})]}),e.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"modified",children:"Last modified"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"size",children:"Size"})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>x("list"),className:`p-2 ${c==="list"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e.jsx(xs,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>x("grid"),className:`p-2 ${c==="grid"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e.jsx(ps,{className:"h-4 w-4"})})]}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(vr,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded",children:e.jsx(ue,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"px-4 py-2 border-b",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("button",{onClick:()=>o(""),className:"text-blue-600 hover:underline",children:"My BhaDrive"}),l&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-600",children:"Current Folder"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[C&&e.jsx("div",{className:"p-4 bg-blue-50 border-b border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(gr,{className:"h-4 w-4 animate-spin"}),"Uploading files..."]})}),c==="list"?e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:e.jsx("input",{type:"checkbox",className:"rounded",onChange:w=>{w.target.checked?p(K.map(D=>D.id)):p([])}})}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Owner"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Last modified"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"File size"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600"})]})}),e.jsx("tbody",{children:K.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer border-b border-gray-100",onClick:()=>y(w),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"checkbox",checked:f.includes(w.id),onChange:D=>T(w.id,D),className:"rounded",onClick:D=>D.stopPropagation()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[P(w.type),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.name}),w.shared&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Ze,{className:"h-3 w-3"}),"Shared"]})]}),w.starred&&e.jsx(le,{className:"h-4 w-4 text-yellow-500 fill-current"})]})}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:w.owner}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:q(w.modified)}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:_(w.size)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:D=>{D.stopPropagation(),A(w.id)},className:"p-1 text-gray-400 hover:text-yellow-500 rounded",children:e.jsx(le,{className:`h-4 w-4 ${w.starred?"text-yellow-500 fill-current":""}`})}),e.jsx("button",{onClick:D=>{D.stopPropagation(),k(w.id)},className:"p-1 text-gray-400 hover:text-blue-600 rounded",children:e.jsx(Ts,{className:"h-4 w-4"})}),e.jsx("button",{onClick:D=>D.stopPropagation(),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(Sr,{className:"h-4 w-4"})})]})})]},w.id))})]})}):e.jsx("div",{className:"p-4 grid grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:K.map(w=>e.jsx("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md cursor-pointer",onClick:()=>y(w),children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:f.includes(w.id),onChange:D=>T(w.id,D),className:"absolute top-0 right-0 z-10 rounded",onClick:D=>D.stopPropagation()}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"mb-2",children:w.thumbnail?e.jsx("img",{src:w.thumbnail,alt:w.name,className:"w-12 h-12 object-cover rounded"}):e.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:P(w.type)})}),e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate w-full",title:w.name,children:w.name}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:q(w.modified)}),w.starred&&e.jsx(le,{className:"absolute top-8 right-8 h-3 w-3 text-yellow-500 fill-current"})]})]})},w.id))})]}),f.length>0&&e.jsx("div",{className:"border-t bg-gray-50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[f.length," item",f.length!==1?"s":""," selected"]}),e.jsx("div",{className:"flex items-center gap-2",children:a?e.jsx("button",{onClick:()=>{n.filter(D=>f.includes(D.id)).forEach(D=>r==null?void 0:r(D))},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Attach Selected"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Share"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(hs,{className:"h-4 w-4"}),"Download"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Copy"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded",children:[e.jsx(Qa,{className:"h-4 w-4"}),"Move"]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-100 rounded",children:[e.jsx(he,{className:"h-4 w-4"}),"Delete"]})]})})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Share file"}),e.jsx("button",{onClick:()=>F(null),className:"text-gray-500 hover:text-gray-700",children:e.jsx($e,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add people and groups"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",placeholder:"Enter email addresses",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Send"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Get link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:"https://bhadrive.bhamail.com/file/d/abc123",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Copy"]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t",children:[e.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Done"})]})]})}),e.jsx("input",{ref:I,type:"file",multiple:!0,className:"hidden",onChange:w=>{w.target.files&&E(w.target.files)}})]})}):null}function uo(){return e.jsx(ee,{children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Qt,{title:"Drive"}),e.jsx("div",{className:"flex-1",children:e.jsx(co,{isOpen:!0,onClose:()=>{}})})]})})}function mo(){const{isAuthenticated:t}=De();return e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsxs(xa,{children:[e.jsx(G,{path:"/login",element:t?e.jsx(H,{to:"/inbox"}):e.jsx(oi,{})}),e.jsx(G,{path:"/register",element:t?e.jsx(H,{to:"/inbox"}):e.jsx($l,{})}),e.jsx(G,{path:"/",element:t?e.jsx(H,{to:"/inbox"}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/dashboard",element:t?e.jsx(H,{to:"/inbox"}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/inbox",element:t?e.jsx(ee,{children:e.jsx(ql,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/compose",element:t?e.jsx(ee,{children:e.jsx(Hl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/thread/:threadId",element:t?e.jsx(ee,{children:e.jsx(Ql,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/settings",element:t?e.jsx(ee,{children:e.jsx(Wl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/search",element:t?e.jsx(ee,{children:e.jsx(Vl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/labels",element:t?e.jsx(ee,{children:e.jsx(Kl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/starred",element:t?e.jsx(ee,{children:e.jsx(Gl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/all",element:t?e.jsx(ee,{children:e.jsx(Jl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/snoozed",element:t?e.jsx(ee,{children:e.jsx(Yl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/important",element:t?e.jsx(ee,{children:e.jsx(Xl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/sent",element:t?e.jsx(ee,{children:e.jsx(Zl,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/drafts",element:t?e.jsx(ee,{children:e.jsx(eo,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/spam",element:t?e.jsx(ee,{children:e.jsx(to,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/trash",element:t?e.jsx(ee,{children:e.jsx(so,{})}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/calendar",element:t?e.jsx(io,{}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/contacts",element:t?e.jsx(oo,{}):e.jsx(H,{to:"/login"})}),e.jsx(G,{path:"/drive",element:t?e.jsx(uo,{}):e.jsx(H,{to:"/login"})})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const ho=new En({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});ss.createRoot(document.getElementById("root")).render(e.jsx(fr.StrictMode,{children:e.jsxs(Tn,{client:ho,children:[e.jsx(fa,{children:e.jsx(mo,{})}),e.jsx(Dn,{initialIsOpen:!1})]})}));
//# sourceMappingURL=index-f73d7138.js.map
