{"version":3,"file":"index-f73d7138.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/timeoutManager.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../node_modules/@tanstack/react-query-devtools/build/modern/index.js","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/stores/auth.ts","../../src/pages/Login.tsx","../../node_modules/axios/lib/helpers/bind.js","../../node_modules/axios/lib/utils.js","../../node_modules/axios/lib/core/AxiosError.js","../../node_modules/axios/lib/helpers/null.js","../../node_modules/axios/lib/helpers/toFormData.js","../../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/axios/lib/helpers/buildURL.js","../../node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/axios/lib/defaults/transitional.js","../../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/axios/lib/platform/browser/index.js","../../node_modules/axios/lib/platform/common/utils.js","../../node_modules/axios/lib/platform/index.js","../../node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/axios/lib/defaults/index.js","../../node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/axios/lib/core/transformData.js","../../node_modules/axios/lib/cancel/isCancel.js","../../node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/axios/lib/core/settle.js","../../node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/axios/lib/helpers/speedometer.js","../../node_modules/axios/lib/helpers/throttle.js","../../node_modules/axios/lib/helpers/progressEventReducer.js","../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/axios/lib/helpers/cookies.js","../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/axios/lib/core/buildFullPath.js","../../node_modules/axios/lib/core/mergeConfig.js","../../node_modules/axios/lib/helpers/resolveConfig.js","../../node_modules/axios/lib/adapters/xhr.js","../../node_modules/axios/lib/helpers/composeSignals.js","../../node_modules/axios/lib/helpers/trackStream.js","../../node_modules/axios/lib/adapters/fetch.js","../../node_modules/axios/lib/adapters/adapters.js","../../node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/axios/lib/env/data.js","../../node_modules/axios/lib/helpers/validator.js","../../node_modules/axios/lib/core/Axios.js","../../node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/axios/lib/helpers/spread.js","../../node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/axios/lib/axios.js","../../src/services/api.ts","../../src/components/BhaMailLogo.tsx","../../src/pages/Register.tsx","../../src/components/BhaMailLoading.tsx","../../src/components/BhaMailErrorPage.tsx","../../src/components/BhaMailTitle.tsx","../../src/pages/Inbox.tsx","../../src/pages/Compose.tsx","../../src/pages/Settings.tsx","../../src/pages/Thread.tsx","../../src/pages/Search.tsx","../../src/pages/Labels.tsx","../../src/pages/Starred.tsx","../../src/pages/AllMail.tsx","../../src/pages/Snoozed.tsx","../../src/pages/Important.tsx","../../src/pages/Sent.tsx","../../src/pages/Drafts.tsx","../../src/pages/Spam.tsx","../../src/pages/Trash.tsx","../../src/components/BhaMailHeader.tsx","../../src/components/BhaMailSidebar.tsx","../../src/components/DashboardLayout.tsx","../../src/components/GoogleCalendar.tsx","../../src/pages/Calendar.tsx","../../src/components/GoogleContacts.tsx","../../src/pages/Contacts.tsx","../../src/components/GoogleDrive.tsx","../../src/pages/Drive.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/timeoutManager.ts\nvar defaultTimeoutProvider = {\n  // We need the wrapper function syntax below instead of direct references to\n  // global setTimeout etc.\n  //\n  // BAD: `setTimeout: setTimeout`\n  // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n  //\n  // If we use direct references here, then anything that wants to spy on or\n  // replace the global setTimeout (like tests) won't work since we'll already\n  // have a hard reference to the original implementation at the time when this\n  // file was imported.\n  setTimeout: (callback, delay) => setTimeout(callback, delay),\n  clearTimeout: (timeoutId) => clearTimeout(timeoutId),\n  setInterval: (callback, delay) => setInterval(callback, delay),\n  clearInterval: (intervalId) => clearInterval(intervalId)\n};\nvar TimeoutManager = class {\n  // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n  // type at app boot; and if we leave that type, then any new timer provider\n  // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n  //\n  // We settle for type safety for the TimeoutProvider type, and accept that\n  // this class is unsafe internally to allow for extension.\n  #provider = defaultTimeoutProvider;\n  #providerCalled = false;\n  setTimeoutProvider(provider) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (this.#providerCalled && provider !== this.#provider) {\n        console.error(\n          `[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`,\n          { previous: this.#provider, provider }\n        );\n      }\n    }\n    this.#provider = provider;\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = false;\n    }\n  }\n  setTimeout(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setTimeout(callback, delay);\n  }\n  clearTimeout(timeoutId) {\n    this.#provider.clearTimeout(timeoutId);\n  }\n  setInterval(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setInterval(callback, delay);\n  }\n  clearInterval(intervalId) {\n    this.#provider.clearInterval(intervalId);\n  }\n};\nvar timeoutManager = new TimeoutManager();\nfunction systemSetTimeoutZero(callback) {\n  setTimeout(callback, 0);\n}\nexport {\n  TimeoutManager,\n  defaultTimeoutProvider,\n  systemSetTimeoutZero,\n  timeoutManager\n};\n//# sourceMappingURL=timeoutManager.js.map","// src/utils.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nvar hasOwn = Object.prototype.hasOwnProperty;\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (!array && !(isPlainObject(a) && isPlainObject(b))) return b;\n  const aItems = array ? a : Object.keys(a);\n  const aSize = aItems.length;\n  const bItems = array ? b : Object.keys(b);\n  const bSize = bItems.length;\n  const copy = array ? new Array(bSize) : {};\n  let equalItems = 0;\n  for (let i = 0; i < bSize; i++) {\n    const key = array ? i : bItems[i];\n    const aItem = a[key];\n    const bItem = b[key];\n    if (aItem === bItem) {\n      copy[key] = aItem;\n      if (array ? i < aSize : hasOwn.call(a, key)) equalItems++;\n      continue;\n    }\n    if (aItem === null || bItem === null || typeof aItem !== \"object\" || typeof bItem !== \"object\") {\n      copy[key] = bItem;\n      continue;\n    }\n    const v = replaceEqualDeep(aItem, bItem);\n    copy[key] = v;\n    if (v === aItem) equalItems++;\n  }\n  return aSize === bSize && equalItems === aSize ? a : copy;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    timeoutManager.setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/notifyManager.ts\nimport { systemSetTimeoutZero } from \"./timeoutManager.js\";\nvar defaultScheduler = systemSetTimeoutZero;\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/removable.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = timeoutManager.setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      timeoutManager.clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n    if (this.state && this.state.data === void 0) {\n      const defaultState = getDefaultState(this.options);\n      if (defaultState.data !== void 0) {\n        this.setData(defaultState.data, {\n          updatedAt: defaultState.dataUpdatedAt,\n          manual: true\n        });\n        this.#initialState = defaultState;\n      }\n    }\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n        }\n        abortController.abort();\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","\"use client\";\n\n// src/index.ts\nimport * as Devtools from \"./ReactQueryDevtools.js\";\nimport * as DevtoolsPanel from \"./ReactQueryDevtoolsPanel.js\";\nvar ReactQueryDevtools2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : Devtools.ReactQueryDevtools;\nvar ReactQueryDevtoolsPanel2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : DevtoolsPanel.ReactQueryDevtoolsPanel;\nexport {\n  ReactQueryDevtools2 as ReactQueryDevtools,\n  ReactQueryDevtoolsPanel2 as ReactQueryDevtoolsPanel\n};\n//# sourceMappingURL=index.js.map","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\n\r\nexport interface User {\r\n  id: string\r\n  email: string\r\n  firstName: string\r\n  lastName: string\r\n  role: string\r\n  twoFactorEnabled: boolean\r\n  avatarUrl?: string\r\n  quotaBytes: number\r\n  usedBytes: number\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null\r\n  token: string | null\r\n  refreshToken: string | null\r\n  isAuthenticated: boolean\r\n  isLoading: boolean\r\n  \r\n  // Actions\r\n  login: (user: User, token: string, refreshToken: string) => void\r\n  logout: () => void\r\n  setUser: (user: User) => void\r\n  setLoading: (loading: boolean) => void\r\n  updateToken: (token: string) => void\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n  persist(\r\n    (set) => ({\r\n      user: null,\r\n      token: null,\r\n      refreshToken: null,\r\n      isAuthenticated: !!localStorage.getItem('isAuthenticated'),\r\n      isLoading: false,\r\n\r\n      login: (user, token, refreshToken) => {\r\n        localStorage.setItem('isAuthenticated', 'true');\r\n        localStorage.setItem('userEmail', user.email);\r\n        set({\r\n          user,\r\n          token,\r\n          refreshToken,\r\n          isAuthenticated: true,\r\n          isLoading: false,\r\n        })\r\n      },\r\n\r\n      logout: () => {\r\n        localStorage.removeItem('isAuthenticated');\r\n        localStorage.removeItem('userEmail');\r\n        set({\r\n          user: null,\r\n          token: null,\r\n          refreshToken: null,\r\n          isAuthenticated: false,\r\n          isLoading: false,\r\n        })\r\n      },\r\n\r\n      setUser: (user) => {\r\n        set({ user })\r\n      },\r\n\r\n      setLoading: (isLoading) => {\r\n        set({ isLoading })\r\n      },\r\n\r\n      updateToken: (token) => {\r\n        set({ token })\r\n      },\r\n    }),\r\n    {\r\n      name: 'bhamail-auth',\r\n      partialize: (state) => ({\r\n        user: state.user,\r\n        token: state.token,\r\n        refreshToken: state.refreshToken,\r\n        isAuthenticated: state.isAuthenticated,\r\n      }),\r\n    }\r\n  )\r\n)","import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuthStore } from '../stores/auth';\r\n\r\nexport default function Login() {\r\n  const [step, setStep] = useState<'email' | 'password'>('email');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showCreateOptions, setShowCreateOptions] = useState(false);\r\n  const [selectedLanguage, setSelectedLanguage] = useState('English (United Kingdom)');\r\n  const login = useAuthStore((state) => state.login);\r\n  const navigate = useNavigate();\r\n\r\n  const handleEmailSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (email) {\r\n      setStep('password');\r\n    }\r\n  };\r\n\r\n  const handlePasswordSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Create a demo user object for login\r\n    const demoUser = {\r\n      id: '1',\r\n      email: email,\r\n      firstName: 'Demo',\r\n      lastName: 'User',\r\n      role: 'user',\r\n      twoFactorEnabled: false,\r\n      quotaBytes: 15000000000, // 15GB\r\n      usedBytes: 1000000000, // 1GB used\r\n    };\r\n    \r\n    login(demoUser, 'demo-token', 'demo-refresh-token');\r\n    navigate('/inbox');\r\n  };\r\n\r\n  const handleCreateAccount = (type: string) => {\r\n    navigate('/register', { state: { accountType: type } });\r\n  };\r\n\r\n  if (step === 'password') {\r\n    return (\r\n      <div className=\"google-signin-container\">\r\n        <div className=\"google-signin-card\">\r\n          {/* Google Logo */}\r\n          <div className=\"google-logo\">\r\n            <svg width=\"74\" height=\"24\" viewBox=\"0 0 74 24\">\r\n              <path fill=\"#4285F4\" d=\"M9.24 8.19v2.46h5.88c-.18 1.38-.64 2.39-1.34 3.1-.86.86-2.2 1.8-4.54 1.8-3.62 0-6.45-2.92-6.45-6.54s2.83-6.54 6.45-6.54c1.95 0 3.38.77 4.43 1.76L15.4 2.5C13.94 1.08 11.98.44 9.24.44c-5.48 0-9.94 4.28-9.94 9.56S3.76 19.56 9.24 19.56c2.69 0 4.72-.88 6.31-2.52 1.64-1.64 2.15-3.95 2.15-5.81 0-.57-.05-1.1-.14-1.54H9.24z\"/>\r\n              <path fill=\"#34A853\" d=\"M25 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z\"/>\r\n              <path fill=\"#FBBC05\" d=\"M53.58 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z\"/>\r\n              <path fill=\"#EA4335\" d=\"M38 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z\"/>\r\n              <path fill=\"#4285F4\" d=\"M64.96 6.2c-1.57 0-2.86.61-3.66 1.76l1.97 1.54c.66-.99 1.69-1.32 2.69-1.32 1.28 0 2.54.9 2.54 2.45v.27c-.59-.32-1.47-.68-2.88-.68-2.13 0-4.27 1.16-4.27 3.34 0 2.06 1.82 3.44 3.88 3.44.93 0 2.23-.48 2.88-1.05v.61h2.42V9.95c0-3.17-2.33-3.75-4.57-3.75zm-.25 9.13c-.73 0-1.75-.37-1.75-1.18 0-1.07 1.18-1.48 2.2-1.48.73 0 1.06.16 1.81.48-.32 1.15-1.53 2.18-2.26 2.18z\"/>\r\n            </svg>\r\n          </div>\r\n\r\n          {/* Welcome Back Section */}\r\n          <div className=\"welcome-section\">\r\n            <h1>Welcome</h1>\r\n            <div className=\"user-info\">\r\n              <div className=\"user-avatar\">\r\n                <div className=\"avatar-circle\">{email.charAt(0).toUpperCase()}</div>\r\n              </div>\r\n              <div className=\"user-email\">{email}</div>\r\n              <button className=\"switch-account\" onClick={() => setStep('email')}>\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M7 14l5-5 5 5z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Password Form */}\r\n          <form onSubmit={handlePasswordSubmit} className=\"signin-form\">\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"Enter your password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className=\"google-input\"\r\n                required\r\n                autoFocus\r\n              />\r\n              <label className=\"google-label\">Enter your password</label>\r\n            </div>\r\n\r\n            <div className=\"form-links\">\r\n              <Link to=\"/forgot-password\" className=\"forgot-link\">Forgot password?</Link>\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n              <button type=\"button\" onClick={() => setStep('email')} className=\"secondary-btn\">\r\n                Back\r\n              </button>\r\n              <button type=\"submit\" className=\"primary-btn\">Next</button>\r\n            </div>\r\n          </form>\r\n\r\n          {/* Guest Mode */}\r\n          <div className=\"guest-mode\">\r\n            <p>Not your computer? Use Guest mode to sign in privately.</p>\r\n            <Link to=\"/guest\" className=\"guest-link\">Learn more about using Guest mode</Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <footer className=\"google-footer\">\r\n          <div className=\"footer-left\">\r\n            <select \r\n              value={selectedLanguage} \r\n              onChange={(e) => setSelectedLanguage(e.target.value)}\r\n              className=\"language-select\"\r\n            >\r\n              <option>English (United Kingdom)</option>\r\n              <option>English (United States)</option>\r\n              <option>Español</option>\r\n              <option>Français</option>\r\n              <option>Deutsch</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"footer-right\">\r\n            <Link to=\"/help\">Help</Link>\r\n            <Link to=\"/privacy\">Privacy</Link>\r\n            <Link to=\"/terms\">Terms</Link>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"google-signin-container\">\r\n      <div className=\"google-signin-card\">\r\n        {/* Google Logo */}\r\n        <div className=\"google-logo\">\r\n          <svg width=\"74\" height=\"24\" viewBox=\"0 0 74 24\">\r\n            <path fill=\"#4285F4\" d=\"M9.24 8.19v2.46h5.88c-.18 1.38-.64 2.39-1.34 3.1-.86.86-2.2 1.8-4.54 1.8-3.62 0-6.45-2.92-6.45-6.54s2.83-6.54 6.45-6.54c1.95 0 3.38.77 4.43 1.76L15.4 2.5C13.94 1.08 11.98.44 9.24.44c-5.48 0-9.94 4.28-9.94 9.56S3.76 19.56 9.24 19.56c2.69 0 4.72-.88 6.31-2.52 1.64-1.64 2.15-3.95 2.15-5.81 0-.57-.05-1.1-.14-1.54H9.24z\"/>\r\n            <path fill=\"#34A853\" d=\"M25 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z\"/>\r\n            <path fill=\"#FBBC05\" d=\"M53.58 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z\"/>\r\n            <path fill=\"#EA4335\" d=\"M38 6.19c-3.21 0-5.83 2.44-5.83 5.81 0 3.34 2.62 5.81 5.83 5.81s5.83-2.47 5.83-5.81c0-3.37-2.62-5.81-5.83-5.81zm0 9.33c-1.76 0-3.28-1.45-3.28-3.52 0-2.09 1.52-3.52 3.28-3.52s3.28 1.43 3.28 3.52c0 2.07-1.52 3.52-3.28 3.52z\"/>\r\n            <path fill=\"#4285F4\" d=\"M64.96 6.2c-1.57 0-2.86.61-3.66 1.76l1.97 1.54c.66-.99 1.69-1.32 2.69-1.32 1.28 0 2.54.9 2.54 2.45v.27c-.59-.32-1.47-.68-2.88-.68-2.13 0-4.27 1.16-4.27 3.34 0 2.06 1.82 3.44 3.88 3.44.93 0 2.23-.48 2.88-1.05v.61h2.42V9.95c0-3.17-2.33-3.75-4.57-3.75zm-.25 9.13c-.73 0-1.75-.37-1.75-1.18 0-1.07 1.18-1.48 2.2-1.48.73 0 1.06.16 1.81.48-.32 1.15-1.53 2.18-2.26 2.18z\"/>\r\n          </svg>\r\n        </div>\r\n\r\n        {/* Sign In Section */}\r\n        <div className=\"signin-section\">\r\n          <h1>Sign in</h1>\r\n          <p>to continue to Gmail</p>\r\n        </div>\r\n\r\n        {/* Email Form */}\r\n        <form onSubmit={handleEmailSubmit} className=\"signin-form\">\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email or phone\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"google-input\"\r\n              required\r\n              autoFocus\r\n            />\r\n            <label className=\"google-label\">Email or phone</label>\r\n          </div>\r\n\r\n          <div className=\"form-links\">\r\n            <Link to=\"/forgot-email\" className=\"forgot-link\">Forgot email?</Link>\r\n          </div>\r\n\r\n          {/* Guest Mode */}\r\n          <div className=\"guest-mode\">\r\n            <p>Not your computer? Use Guest mode to sign in privately.</p>\r\n            <Link to=\"/guest\" className=\"guest-link\">Learn more about using Guest mode</Link>\r\n          </div>\r\n\r\n          <div className=\"form-actions\">\r\n            <div className=\"create-account-section\">\r\n              <button \r\n                type=\"button\" \r\n                onClick={() => setShowCreateOptions(!showCreateOptions)}\r\n                className=\"create-account-btn\"\r\n              >\r\n                Create account\r\n              </button>\r\n              \r\n              {showCreateOptions && (\r\n                <div className=\"create-options-dropdown\">\r\n                  <button onClick={() => handleCreateAccount('personal')}>\r\n                    For my personal use\r\n                  </button>\r\n                  <button onClick={() => handleCreateAccount('child')}>\r\n                    For my child\r\n                  </button>\r\n                  <button onClick={() => handleCreateAccount('business')}>\r\n                    For work or my business\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <button type=\"submit\" className=\"primary-btn\">Next</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"google-footer\">\r\n        <div className=\"footer-left\">\r\n          <select \r\n            value={selectedLanguage} \r\n            onChange={(e) => setSelectedLanguage(e.target.value)}\r\n            className=\"language-select\"\r\n          >\r\n            <option>English (United Kingdom)</option>\r\n            <option>English (United States)</option>\r\n            <option>Español</option>\r\n            <option>Français</option>\r\n            <option>Deutsch</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"footer-right\">\r\n          <Link to=\"/help\">Help</Link>\r\n          <Link to=\"/privacy\">Privacy</Link>\r\n          <Link to=\"/terms\">Terms</Link>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      if (!skipUndefined || !isUndefined(val)) {\n        result[targetKey] = val;\n      }\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  const msg = error && error.message ? error.message : 'Error';\n\n  // Prefer explicit code; otherwise copy the low-level error's code (e.g. ECONNREFUSED)\n  const errCode = code == null && error ? error.code : code;\n  AxiosError.call(axiosError, msg, errCode, config, request, response);\n\n  // Chain the original error on the standard field; non-enumerable to avoid JSON noise\n  if (error && axiosError.cause == null) {\n    Object.defineProperty(axiosError, 'cause', { value: error, configurable: true });\n  }\n\n  axiosError.name = (error && error.name) || 'Error';\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data, this.parseReviver);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let { data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth } = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // browser handles it\n    } else if (utils.isFunction(data.getHeaders)) {\n      // Node.js FormData (like form-data package)\n      const formHeaders = data.getHeaders();\n      // Only set safe headers to avoid overwriting security headers\n      const allowedHeaders = ['content-type', 'content-length'];\n      Object.entries(formHeaders).forEach(([key, val]) => {\n        if (allowedHeaders.includes(key.toLowerCase())) {\n          headers.set(key, val);\n        }\n      });\n    }\n  }  \n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n  request.onerror = function handleError(event) {\n       // Browsers deliver a ProgressEvent in XHR onerror\n       // (message may be empty; when present, surface it)\n       // See https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/error_event\n       const msg = event && event.message ? event.message : 'Network Error';\n       const err = new AxiosError(msg, AxiosError.ERR_NETWORK, config, request);\n       // attach the underlying event for consumers who want details\n       err.event = event || null;\n       reject(err);\n       request = null;\n    };\n    \n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst {isFunction} = utils;\n\nconst globalFetchAPI = (({fetch, Request, Response}) => ({\n    fetch, Request, Response\n  }))(utils.global);\n\nconst {\n  ReadableStream, TextEncoder\n} = utils.global;\n\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst factory = (env) => {\n  const {fetch, Request, Response} = Object.assign({}, globalFetchAPI, env);\n  const isFetchSupported = isFunction(fetch);\n  const isRequestSupported = isFunction(Request);\n  const isResponseSupported = isFunction(Response);\n\n  if (!isFetchSupported) {\n    return false;\n  }\n\n  const isReadableStreamSupported = isFetchSupported && isFunction(ReadableStream);\n\n  const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n      ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n      async (str) => new Uint8Array(await new Request(str).arrayBuffer())\n  );\n\n  const supportsRequestStream = isRequestSupported && isReadableStreamSupported && test(() => {\n    let duplexAccessed = false;\n\n    const hasContentType = new Request(platform.origin, {\n      body: new ReadableStream(),\n      method: 'POST',\n      get duplex() {\n        duplexAccessed = true;\n        return 'half';\n      },\n    }).headers.has('Content-Type');\n\n    return duplexAccessed && !hasContentType;\n  });\n\n  const supportsResponseStream = isResponseSupported && isReadableStreamSupported &&\n    test(() => utils.isReadableStream(new Response('').body));\n\n  const resolvers = {\n    stream: supportsResponseStream && ((res) => res.body)\n  };\n\n  isFetchSupported && ((() => {\n    ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n      !resolvers[type] && (resolvers[type] = (res, config) => {\n        let method = res && res[type];\n\n        if (method) {\n          return method.call(res);\n        }\n\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n    });\n  })());\n\n  const getBodyLength = async (body) => {\n    if (body == null) {\n      return 0;\n    }\n\n    if (utils.isBlob(body)) {\n      return body.size;\n    }\n\n    if (utils.isSpecCompliantForm(body)) {\n      const _request = new Request(platform.origin, {\n        method: 'POST',\n        body,\n      });\n      return (await _request.arrayBuffer()).byteLength;\n    }\n\n    if (utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n      return body.byteLength;\n    }\n\n    if (utils.isURLSearchParams(body)) {\n      body = body + '';\n    }\n\n    if (utils.isString(body)) {\n      return (await encodeText(body)).byteLength;\n    }\n  }\n\n  const resolveBodyLength = async (headers, body) => {\n    const length = utils.toFiniteNumber(headers.getContentLength());\n\n    return length == null ? getBodyLength(body) : length;\n  }\n\n  return async (config) => {\n    let {\n      url,\n      method,\n      data,\n      signal,\n      cancelToken,\n      timeout,\n      onDownloadProgress,\n      onUploadProgress,\n      responseType,\n      headers,\n      withCredentials = 'same-origin',\n      fetchOptions\n    } = resolveConfig(config);\n\n    responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n    let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n    let request = null;\n\n    const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n    });\n\n    let requestContentLength;\n\n    try {\n      if (\n        onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n        (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n      ) {\n        let _request = new Request(url, {\n          method: 'POST',\n          body: data,\n          duplex: \"half\"\n        });\n\n        let contentTypeHeader;\n\n        if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n          headers.setContentType(contentTypeHeader)\n        }\n\n        if (_request.body) {\n          const [onProgress, flush] = progressEventDecorator(\n            requestContentLength,\n            progressEventReducer(asyncDecorator(onUploadProgress))\n          );\n\n          data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n        }\n      }\n\n      if (!utils.isString(withCredentials)) {\n        withCredentials = withCredentials ? 'include' : 'omit';\n      }\n\n      // Cloudflare Workers throws when credentials are defined\n      // see https://github.com/cloudflare/workerd/issues/902\n      const isCredentialsSupported = isRequestSupported && \"credentials\" in Request.prototype;\n\n      const resolvedOptions = {\n        ...fetchOptions,\n        signal: composedSignal,\n        method: method.toUpperCase(),\n        headers: headers.normalize().toJSON(),\n        body: data,\n        duplex: \"half\",\n        credentials: isCredentialsSupported ? withCredentials : undefined\n      };\n\n      request = isRequestSupported && new Request(url, resolvedOptions);\n\n      let response = await (isRequestSupported ? fetch(request, fetchOptions) : fetch(url, resolvedOptions));\n\n      const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n      if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n        const options = {};\n\n        ['status', 'statusText', 'headers'].forEach(prop => {\n          options[prop] = response[prop];\n        });\n\n        const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n        const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n          responseContentLength,\n          progressEventReducer(asyncDecorator(onDownloadProgress), true)\n        ) || [];\n\n        response = new Response(\n          trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n            flush && flush();\n            unsubscribe && unsubscribe();\n          }),\n          options\n        );\n      }\n\n      responseType = responseType || 'text';\n\n      let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n      !isStreamResponse && unsubscribe && unsubscribe();\n\n      return await new Promise((resolve, reject) => {\n        settle(resolve, reject, {\n          data: responseData,\n          headers: AxiosHeaders.from(response.headers),\n          status: response.status,\n          statusText: response.statusText,\n          config,\n          request\n        })\n      })\n    } catch (err) {\n      unsubscribe && unsubscribe();\n\n      if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n        throw Object.assign(\n          new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n          {\n            cause: err.cause || err\n          }\n        )\n      }\n\n      throw AxiosError.from(err, err && err.code, config, request);\n    }\n  }\n}\n\nconst seedCache = new Map();\n\nexport const getFetch = (config) => {\n  let env = utils.merge.call({\n    skipUndefined: true\n  }, globalFetchAPI, config ? config.env : null);\n\n  const {fetch, Request, Response} = env;\n\n  const seeds = [\n    Request, Response, fetch\n  ];\n\n  let len = seeds.length, i = len,\n    seed, target, map = seedCache;\n\n  while (i--) {\n    seed = seeds[i];\n    target = map.get(seed);\n\n    target === undefined && map.set(seed, target = (i ? new Map() : factory(env)))\n\n    map = target;\n  }\n\n  return target;\n};\n\nconst adapter = getFetch();\n\nexport default adapter;\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport * as fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: {\n    get: fetchAdapter.getFetch,\n  }\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters, config) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter && (utils.isFunction(adapter) || (adapter = adapter.get(config)))) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter, config);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.12.1\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from 'axios'\r\nimport { useAuthStore } from '../stores/auth'\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: (import.meta as any).env?.VITE_API_BASE_URL || '/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = useAuthStore.getState().token\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config\r\n\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true\r\n\r\n      try {\r\n        const { refreshToken } = useAuthStore.getState()\r\n        if (refreshToken) {\r\n          const response = await axios.post('/api/auth/refresh', {\r\n            refreshToken,\r\n          })\r\n          \r\n          const { token: newToken } = response.data\r\n          useAuthStore.getState().updateToken(newToken)\r\n          \r\n          originalRequest.headers.Authorization = `Bearer ${newToken}`\r\n          return api(originalRequest)\r\n        }\r\n      } catch (refreshError) {\r\n        useAuthStore.getState().logout()\r\n        window.location.href = '/login'\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Auth API\r\nexport const authApi = {\r\n  login: async (email: string, password: string, totpCode?: string) => {\r\n    const response = await api.post('/auth/login', { email, password, totpCode })\r\n    return response.data\r\n  },\r\n\r\n  register: async (data: {\r\n    email: string\r\n    password: string\r\n    firstName: string\r\n    lastName: string\r\n  }) => {\r\n    const response = await api.post('/auth/signup', data)\r\n    return response.data\r\n  },\r\n\r\n  logout: async (refreshToken?: string) => {\r\n    const response = await api.post('/auth/logout', { refreshToken })\r\n    return response.data\r\n  },\r\n\r\n  me: async () => {\r\n    const response = await api.get('/auth/me')\r\n    return response.data\r\n  },\r\n\r\n  forgotPassword: async (email: string) => {\r\n    const response = await api.post('/auth/forgot-password', { email })\r\n    return response.data\r\n  },\r\n\r\n  resetPassword: async (token: string, password: string) => {\r\n    const response = await api.post('/auth/reset-password', { token, password })\r\n    return response.data\r\n  },\r\n\r\n  setup2FA: async () => {\r\n    const response = await api.post('/auth/setup-2fa')\r\n    return response.data\r\n  },\r\n\r\n  verify2FA: async (totpCode: string) => {\r\n    const response = await api.post('/auth/verify-2fa', { totpCode })\r\n    return response.data\r\n  },\r\n\r\n  disable2FA: async (password: string, totpCode: string) => {\r\n    const response = await api.post('/auth/disable-2fa', { password, totpCode })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Mail API\r\nexport const mailApi = {\r\n  getInbox: async (params: {\r\n    page?: number\r\n    limit?: number\r\n    folder?: string\r\n  } = {}) => {\r\n    const response = await api.get('/mail/inbox', { params })\r\n    return response.data\r\n  },\r\n\r\n  getThread: async (threadId: string) => {\r\n    const response = await api.get(`/mail/thread/${threadId}`)\r\n    return response.data\r\n  },\r\n\r\n  sendEmail: async (data: {\r\n    to: Array<{ email: string; name?: string }>\r\n    cc?: Array<{ email: string; name?: string }>\r\n    bcc?: Array<{ email: string; name?: string }>\r\n    subject: string\r\n    bodyText?: string\r\n    bodyHtml?: string\r\n    scheduleAt?: string\r\n    threadId?: string\r\n    replyToMessageId?: string\r\n  }) => {\r\n    const response = await api.post('/mail/send', data)\r\n    return response.data\r\n  },\r\n\r\n  starMessage: async (messageId: string, starred: boolean) => {\r\n    const response = await api.patch(`/mail/message/${messageId}/star`, { starred })\r\n    return response.data\r\n  },\r\n\r\n  moveMessage: async (messageId: string, folder: string) => {\r\n    const response = await api.patch(`/mail/message/${messageId}/move`, { folder })\r\n    return response.data\r\n  },\r\n\r\n  archiveThread: async (threadId: string) => {\r\n    const response = await api.patch(`/mail/thread/${threadId}/archive`)\r\n    return response.data\r\n  },\r\n\r\n  deleteThread: async (threadId: string) => {\r\n    const response = await api.delete(`/mail/thread/${threadId}`)\r\n    return response.data\r\n  },\r\n\r\n  markThreadAsSpam: async (threadId: string) => {\r\n    const response = await api.patch(`/mail/thread/${threadId}/spam`)\r\n    return response.data\r\n  },\r\n\r\n  toggleThreadStar: async (threadId: string) => {\r\n    const response = await api.patch(`/mail/thread/${threadId}/star`)\r\n    return response.data\r\n  },\r\n\r\n  toggleThreadImportant: async (threadId: string) => {\r\n    const response = await api.patch(`/mail/thread/${threadId}/important`)\r\n    return response.data\r\n  },\r\n\r\n  search: async (query: string, params: {\r\n    page?: number\r\n    limit?: number\r\n    folder?: string\r\n  } = {}) => {\r\n    const response = await api.get('/search', { \r\n      params: { q: query, ...params }\r\n    })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// User API\r\nexport const userApi = {\r\n  updateProfile: async (data: {\r\n    firstName?: string\r\n    lastName?: string\r\n    phone?: string\r\n    timezone?: string\r\n    language?: string\r\n  }) => {\r\n    const response = await api.patch('/users/profile', data)\r\n    return response.data\r\n  },\r\n\r\n  changePassword: async (data: {\r\n    currentPassword: string\r\n    newPassword: string\r\n  }) => {\r\n    const response = await api.patch('/users/password', data)\r\n    return response.data\r\n  },\r\n\r\n  getQuotaUsage: async () => {\r\n    const response = await api.get('/users/quota')\r\n    return response.data\r\n  },\r\n\r\n  uploadAvatar: async (file: File) => {\r\n    const formData = new FormData()\r\n    formData.append('avatar', file)\r\n    const response = await api.post('/users/avatar', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    })\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Labels API\r\nexport const labelsApi = {\r\n  getLabels: async () => {\r\n    const response = await api.get('/labels')\r\n    return response.data\r\n  },\r\n\r\n  createLabel: async (data: { name: string; color: string }) => {\r\n    const response = await api.post('/labels', data)\r\n    return response.data\r\n  },\r\n\r\n  updateLabel: async (labelId: string, data: { name?: string; color?: string }) => {\r\n    const response = await api.patch(`/labels/${labelId}`, data)\r\n    return response.data\r\n  },\r\n\r\n  deleteLabel: async (labelId: string) => {\r\n    const response = await api.delete(`/labels/${labelId}`)\r\n    return response.data\r\n  },\r\n\r\n  assignLabel: async (messageId: string, labelId: string) => {\r\n    const response = await api.post(`/labels/${labelId}/messages`, { messageId })\r\n    return response.data\r\n  },\r\n\r\n  removeLabel: async (messageId: string, labelId: string) => {\r\n    const response = await api.delete(`/labels/${labelId}/messages/${messageId}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Attachments API\r\nexport const attachmentsApi = {\r\n  upload: async (file: File, messageId?: string) => {\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n    if (messageId) {\r\n      formData.append('messageId', messageId)\r\n    }\r\n    \r\n    const response = await api.post('/attachments/upload', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    })\r\n    return response.data\r\n  },\r\n\r\n  download: async (attachmentId: string) => {\r\n    const response = await api.get(`/attachments/${attachmentId}/download`, {\r\n      responseType: 'blob',\r\n    })\r\n    return response.data\r\n  },\r\n\r\n  getAttachments: async (messageId: string) => {\r\n    const response = await api.get(`/attachments/message/${messageId}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\nexport default api","import { Mail } from 'lucide-react';\r\n\r\ninterface BhaMailLogoProps {\r\n  size?: 'sm' | 'md' | 'lg';\r\n  showText?: boolean;\r\n}\r\n\r\nexport function BhaMailLogo({ size = 'md', showText = true }: BhaMailLogoProps) {\r\n  const sizeClasses = {\r\n    sm: 'w-6 h-6',\r\n    md: 'w-8 h-8', \r\n    lg: 'w-16 h-16'\r\n  };\r\n\r\n  const iconSizeClasses = {\r\n    sm: 'w-3 h-3',\r\n    md: 'w-5 h-5',\r\n    lg: 'w-8 h-8'\r\n  };\r\n\r\n  const textSizeClasses = {\r\n    sm: 'text-lg',\r\n    md: 'text-xl',\r\n    lg: 'text-3xl'\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center\">\r\n      <div className={`${sizeClasses[size]} bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 rounded-full flex items-center justify-center shadow-lg`}>\r\n        <Mail className={`${iconSizeClasses[size]} text-white`} />\r\n      </div>\r\n      \r\n      {showText && (\r\n        <span className={`ml-3 font-medium text-gray-900 ${textSizeClasses[size]}`}>\r\n          <span className=\"font-semibold text-gmail-blue\">Bha</span>\r\n          <span className=\"font-normal text-gray-700\">Mail</span>\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useAuthStore } from '../stores/auth';\r\nimport { authApi } from '../services/api';\r\nimport { BhaMailLogo } from '../components/BhaMailLogo';\r\nimport { Shield, Check } from 'lucide-react';\r\n\r\nexport function RegisterPage() {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    firstName: '',\r\n    lastName: '',\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  const navigate = useNavigate();\r\n  const { login } = useAuthStore();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Passwords do not match');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (formData.password.length < 6) {\r\n      setError('Password must be at least 6 characters long');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await authApi.register({\r\n        email: formData.email,\r\n        password: formData.password,\r\n        firstName: formData.firstName,\r\n        lastName: formData.lastName,\r\n      });\r\n      login(response.user, response.token, response.refreshToken);\r\n      navigate('/inbox');\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Registration failed');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const passwordStrength = formData.password.length >= 8 ? 'Strong' : \r\n                          formData.password.length >= 6 ? 'Medium' : \r\n                          formData.password.length > 0 ? 'Weak' : '';\r\n\r\n  return (\r\n    <div className=\"gmail-auth-container\">\r\n      <div className=\"gmail-auth-card\" style={{ maxWidth: '500px' }}>\r\n        <div className=\"gmail-auth-logo\">\r\n          <div className=\"flex items-center justify-center mb-8\">\r\n            <BhaMailLogo size=\"lg\" showText={true} />\r\n          </div>\r\n        </div>\r\n        \r\n        <h1 className=\"gmail-auth-title\">Create your account</h1>\r\n        <p className=\"gmail-auth-subtitle\">to continue to BhaMail</p>\r\n        \r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-6 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"gmail-form-group\">\r\n              <label htmlFor=\"firstName\" className=\"gmail-label\">\r\n                First name\r\n              </label>\r\n              <input\r\n                id=\"firstName\"\r\n                name=\"firstName\"\r\n                type=\"text\"\r\n                required\r\n                value={formData.firstName}\r\n                onChange={handleChange}\r\n                className=\"gmail-input\"\r\n                autoComplete=\"given-name\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"gmail-form-group\">\r\n              <label htmlFor=\"lastName\" className=\"gmail-label\">\r\n                Last name\r\n              </label>\r\n              <input\r\n                id=\"lastName\"\r\n                name=\"lastName\"\r\n                type=\"text\"\r\n                required\r\n                value={formData.lastName}\r\n                onChange={handleChange}\r\n                className=\"gmail-input\"\r\n                autoComplete=\"family-name\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"gmail-form-group\">\r\n            <label htmlFor=\"email\" className=\"gmail-label\">\r\n              Choose your email address\r\n            </label>\r\n            <input\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              required\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className=\"gmail-input\"\r\n              placeholder=\"your-email@example.com\"\r\n              autoComplete=\"email\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              You can use letters, numbers & periods\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"gmail-form-group\">\r\n              <label htmlFor=\"password\" className=\"gmail-label\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                className=\"gmail-input\"\r\n                placeholder=\"Create password\"\r\n                autoComplete=\"new-password\"\r\n              />\r\n              {passwordStrength && (\r\n                <div className=\"mt-1\">\r\n                  <span className={`text-xs px-2 py-1 rounded ${\r\n                    passwordStrength === 'Strong' ? 'bg-green-100 text-green-800' :\r\n                    passwordStrength === 'Medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                    'bg-red-100 text-red-800'\r\n                  }`}>\r\n                    {passwordStrength}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"gmail-form-group\">\r\n              <label htmlFor=\"confirmPassword\" className=\"gmail-label\">\r\n                Confirm\r\n              </label>\r\n              <input\r\n                id=\"confirmPassword\"\r\n                name=\"confirmPassword\"\r\n                type=\"password\"\r\n                required\r\n                value={formData.confirmPassword}\r\n                onChange={handleChange}\r\n                className=\"gmail-input\"\r\n                placeholder=\"Confirm password\"\r\n                autoComplete=\"new-password\"\r\n              />\r\n              {formData.confirmPassword && (\r\n                <div className=\"mt-1\">\r\n                  {formData.password === formData.confirmPassword ? (\r\n                    <div className=\"flex items-center text-green-600 text-xs\">\r\n                      <Check className=\"w-3 h-3 mr-1\" />\r\n                      Passwords match\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-red-600 text-xs\">\r\n                      Passwords don't match\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-gray-50 border border-gray-200 p-4 rounded-lg mb-6\">\r\n            <div className=\"flex items-start\">\r\n              <Shield className=\"w-5 h-5 text-blue-600 mr-3 mt-0.5\" />\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-900 mb-1\">\r\n                  Use a strong password\r\n                </h4>\r\n                <ul className=\"text-xs text-gray-600 space-y-1\">\r\n                  <li className=\"flex items-center\">\r\n                    <span className={`w-2 h-2 rounded-full mr-2 ${\r\n                      formData.password.length >= 8 ? 'bg-green-500' : 'bg-gray-300'\r\n                    }`}></span>\r\n                    At least 8 characters\r\n                  </li>\r\n                  <li className=\"flex items-center\">\r\n                    <span className={`w-2 h-2 rounded-full mr-2 ${\r\n                      /[A-Z]/.test(formData.password) ? 'bg-green-500' : 'bg-gray-300'\r\n                    }`}></span>\r\n                    One uppercase letter\r\n                  </li>\r\n                  <li className=\"flex items-center\">\r\n                    <span className={`w-2 h-2 rounded-full mr-2 ${\r\n                      /[0-9]/.test(formData.password) ? 'bg-green-500' : 'bg-gray-300'\r\n                    }`}></span>\r\n                    One number\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <Link to=\"/login\" className=\"gmail-btn gmail-btn-text\">\r\n              Sign in instead\r\n            </Link>\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"gmail-btn gmail-btn-primary\"\r\n            >\r\n              {isLoading ? 'Creating...' : 'Create account'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"text-center\">\r\n            <p className=\"text-xs text-gray-500\">\r\n              By creating an account, you agree to BhaMail's{' '}\r\n              <a href=\"#\" className=\"gmail-link\">Terms of Service</a>\r\n              {' '}and{' '}\r\n              <a href=\"#\" className=\"gmail-link\">Privacy Policy</a>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { BhaMailLogo } from './BhaMailLogo';\r\n\r\ninterface BhaMailLoadingProps {\r\n  message?: string;\r\n  fullPage?: boolean;\r\n}\r\n\r\nexport function BhaMailLoading({ message = \"Loading...\", fullPage = false }: BhaMailLoadingProps) {\r\n  const containerClass = fullPage \r\n    ? \"min-h-screen bg-gray-50 flex flex-col justify-center items-center\"\r\n    : \"flex flex-col items-center justify-center py-8\";\r\n\r\n  return (\r\n    <div className={containerClass}>\r\n      <div className=\"text-center\">\r\n        <BhaMailLogo size=\"lg\" showText={true} />\r\n        \r\n        <div className=\"mt-8\">\r\n          <div className=\"relative\">\r\n            <div className=\"w-12 h-12 border-4 border-gray-200 rounded-full animate-spin border-t-gmail-blue mx-auto\"></div>\r\n          </div>\r\n          \r\n          <p className=\"mt-4 text-sm text-gray-600 font-medium\">{message}</p>\r\n          \r\n          {fullPage && (\r\n            <p className=\"mt-2 text-xs text-gray-500\">\r\n              Powered by <span className=\"font-medium text-gmail-blue\">BhaMail</span>\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { BhaMailLogo } from './BhaMailLogo';\r\nimport { AlertTriangle, Home, RefreshCw } from 'lucide-react';\r\n\r\ninterface BhaMailErrorPageProps {\r\n  title?: string;\r\n  message?: string;\r\n  showHome?: boolean;\r\n  showRefresh?: boolean;\r\n  onRefresh?: () => void;\r\n}\r\n\r\nexport function BhaMailErrorPage({ \r\n  title = \"Something went wrong\",\r\n  message = \"We're having trouble loading this page. Please try again.\",\r\n  showHome = true,\r\n  showRefresh = true,\r\n  onRefresh\r\n}: BhaMailErrorPageProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"text-center\">\r\n          <BhaMailLogo size=\"lg\" showText={true} />\r\n          <div className=\"mt-8 mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\r\n            <AlertTriangle className=\"h-6 w-6 text-red-600\" />\r\n          </div>\r\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">{title}</h2>\r\n          <p className=\"mt-2 text-sm text-gray-600\">{message}</p>\r\n        </div>\r\n\r\n        <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n          <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n            <div className=\"space-y-4\">\r\n              {showRefresh && (\r\n                <button\r\n                  onClick={onRefresh}\r\n                  className=\"gmail-btn gmail-btn-primary w-full flex items-center justify-center\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                  Try Again\r\n                </button>\r\n              )}\r\n              \r\n              {showHome && (\r\n                <a\r\n                  href=\"/\"\r\n                  className=\"gmail-btn gmail-btn-secondary w-full flex items-center justify-center\"\r\n                >\r\n                  <Home className=\"w-4 h-4 mr-2\" />\r\n                  Go to Inbox\r\n                </a>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"mt-6 text-center\">\r\n              <p className=\"text-xs text-gray-500\">\r\n                Need help? Contact{' '}\r\n                <span className=\"font-medium text-gmail-blue\">BhaMail Support</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useEffect } from 'react';\r\n\r\ninterface BhaMailTitleProps {\r\n  title?: string;\r\n  unreadCount?: number;\r\n}\r\n\r\nexport function BhaMailTitle({ title = \"Inbox\", unreadCount }: BhaMailTitleProps) {\r\n  useEffect(() => {\r\n    const baseTitle = \"BhaMail\";\r\n    let fullTitle = baseTitle;\r\n    \r\n    if (title && title !== \"Inbox\") {\r\n      fullTitle = `${title} - ${baseTitle}`;\r\n    }\r\n    \r\n    if (unreadCount && unreadCount > 0) {\r\n      fullTitle = `(${unreadCount}) ${fullTitle}`;\r\n    }\r\n    \r\n    document.title = fullTitle;\r\n    \r\n    return () => {\r\n      document.title = baseTitle;\r\n    };\r\n  }, [title, unreadCount]);\r\n\r\n  return null;\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport { BhaMailLoading } from '../components/BhaMailLoading';\r\nimport { BhaMailErrorPage } from '../components/BhaMailErrorPage';\r\nimport { BhaMailTitle } from '../components/BhaMailTitle';\r\nimport {\r\n  Archive,\r\n  Trash2,\r\n  AlertTriangle,\r\n  Tag,\r\n  MoreHorizontal,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  RotateCcw,\r\n  Star,\r\n  Circle,\r\n  Paperclip,\r\n  Clock,\r\n  Eye,\r\n  EyeOff,\r\n  Download,\r\n  Printer,\r\n  Filter\r\n} from 'lucide-react';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  isImportant: boolean;\r\n  isSnoozed: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n  labels: Array<{ name: string; color: string }>;\r\n  category: 'primary' | 'social' | 'promotions' | 'updates' | 'forums';\r\n}\r\n\r\nexport function InboxPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedEmails, setSelectedEmails] = useState<Set<string>>(new Set());\r\n  const [selectAll, setSelectAll] = useState(false);\r\n  const [showMoreActions, setShowMoreActions] = useState(false);\r\n  // const [inboxType, setInboxType] = useState<'default' | 'important' | 'unread' | 'starred'>('default');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages] = useState(1);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadEmails();\r\n  }, []);\r\n\r\n  const loadEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await mailApi.getInbox({ folder: 'inbox' });\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to load emails');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleEmailSelection = (emailId: string) => {\r\n    const newSelected = new Set(selectedEmails);\r\n    if (newSelected.has(emailId)) {\r\n      newSelected.delete(emailId);\r\n    } else {\r\n      newSelected.add(emailId);\r\n    }\r\n    setSelectedEmails(newSelected);\r\n    setSelectAll(newSelected.size === emails.length);\r\n  };\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedEmails.size === emails.length) {\r\n      setSelectedEmails(new Set());\r\n      setSelectAll(false);\r\n    } else {\r\n      setSelectedEmails(new Set(emails.map(email => email.id)));\r\n      setSelectAll(true);\r\n    }\r\n  };\r\n\r\n  const handleBulkAction = async (action: string) => {\r\n    const emailIds = Array.from(selectedEmails);\r\n    if (emailIds.length === 0) return;\r\n\r\n    try {\r\n      switch (action) {\r\n        case 'archive':\r\n          // Implement archive\r\n          console.log('Archiving emails:', emailIds);\r\n          break;\r\n        case 'delete':\r\n          // Implement delete\r\n          console.log('Deleting emails:', emailIds);\r\n          break;\r\n        case 'markAsRead':\r\n          // Implement mark as read\r\n          console.log('Marking as read:', emailIds);\r\n          break;\r\n        case 'markAsUnread':\r\n          // Implement mark as unread\r\n          console.log('Marking as unread:', emailIds);\r\n          break;\r\n        case 'spam':\r\n          // Implement mark as spam\r\n          console.log('Marking as spam:', emailIds);\r\n          break;\r\n        case 'snooze':\r\n          // Implement snooze\r\n          console.log('Snoozing emails:', emailIds);\r\n          break;\r\n      }\r\n      setSelectedEmails(new Set());\r\n      setSelectAll(false);\r\n    } catch (err) {\r\n      console.error('Bulk action failed:', err);\r\n    }\r\n  };\r\n\r\n  const toggleStar = async (emailId: string, isStarred: boolean) => {\r\n    try {\r\n      await mailApi.starMessage(emailId, !isStarred);\r\n      setEmails(prev => prev.map(email => \r\n        email.id === emailId ? { ...email, isStarred: !isStarred } : email\r\n      ));\r\n    } catch (err) {\r\n      console.error('Failed to toggle star:', err);\r\n    }\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffTime = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  const unreadCount = emails.filter(email => !email.isRead).length;\r\n\r\n  if (isLoading) {\r\n    return <BhaMailLoading message=\"Loading your emails...\" />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <BhaMailErrorPage \r\n        title=\"Unable to load emails\"\r\n        message={error}\r\n        onRefresh={loadEmails}\r\n        showHome={false}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"gmail-content\">\r\n      <BhaMailTitle title=\"Inbox\" unreadCount={unreadCount} />\r\n      {/* Gmail Toolbar */}\r\n      <div className=\"gmail-toolbar\">\r\n        <div className=\"gmail-toolbar-left\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={selectAll}\r\n            onChange={toggleSelectAll}\r\n            className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\r\n            title=\"Select all\"\r\n          />\r\n          \r\n          {selectedEmails.size > 0 && (\r\n            <>\r\n              <button\r\n                onClick={() => handleBulkAction('archive')}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Archive\"\r\n              >\r\n                <Archive className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => handleBulkAction('spam')}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Report spam\"\r\n              >\r\n                <AlertTriangle className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => handleBulkAction('delete')}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Delete\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => handleBulkAction('markAsRead')}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Mark as read\"\r\n              >\r\n                <Eye className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => handleBulkAction('markAsUnread')}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Mark as unread\"\r\n              >\r\n                <EyeOff className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => handleBulkAction('snooze')}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Snooze\"\r\n              >\r\n                <Clock className=\"w-4 h-4\" />\r\n              </button>\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setShowMoreActions(!showMoreActions)}\r\n                  className=\"gmail-toolbar-btn\"\r\n                  title=\"More\"\r\n                >\r\n                  <MoreHorizontal className=\"w-4 h-4\" />\r\n                </button>\r\n                {showMoreActions && (\r\n                  <div className=\"absolute top-8 left-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 min-w-48\">\r\n                    <button className=\"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center\">\r\n                      <Tag className=\"w-4 h-4 mr-2\" />\r\n                      Add to Tasks\r\n                    </button>\r\n                    <button className=\"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center\">\r\n                      <Tag className=\"w-4 h-4 mr-2\" />\r\n                      Label as\r\n                    </button>\r\n                    <button className=\"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center\">\r\n                      <Download className=\"w-4 h-4 mr-2\" />\r\n                      Download\r\n                    </button>\r\n                    <button className=\"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center\">\r\n                      <Printer className=\"w-4 h-4 mr-2\" />\r\n                      Print\r\n                    </button>\r\n                    <button className=\"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center\">\r\n                      <Filter className=\"w-4 h-4 mr-2\" />\r\n                      Filter messages like these\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n          \r\n          <button\r\n            onClick={loadEmails}\r\n            className=\"gmail-toolbar-btn ml-4\"\r\n            title=\"Refresh\"\r\n          >\r\n            <RotateCcw className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"gmail-toolbar-right\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span className=\"text-sm text-gray-600\">\r\n              {selectedEmails.size > 0 \r\n                ? `${selectedEmails.size} selected` \r\n                : `1-${emails.length} of ${emails.length}`\r\n              }\r\n            </span>\r\n            <div className=\"flex items-center space-x-1\">\r\n              <button\r\n                onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\r\n                disabled={currentPage === 1}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Older\"\r\n              >\r\n                <ChevronLeft className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\r\n                disabled={currentPage === totalPages}\r\n                className=\"gmail-toolbar-btn\"\r\n                title=\"Newer\"\r\n              >\r\n                <ChevronRight className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Gmail Email List */}\r\n      <div className=\"gmail-email-list\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-500 p-16\">\r\n            <svg className=\"w-16 h-16 mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n            </svg>\r\n            <p className=\"text-lg font-medium mb-2\">Your BhaMail inbox is empty</p>\r\n            <p className=\"text-sm mb-4\">When you receive emails, they'll appear here</p>\r\n            <Link \r\n              to=\"/compose\" \r\n              className=\"gmail-btn gmail-btn-primary\"\r\n            >\r\n              Send your first email\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className={`gmail-email-item ${!email.isRead ? 'unread' : ''} ${\r\n                  selectedEmails.has(email.id) ? 'selected' : ''\r\n                }`}\r\n              >\r\n                <div className=\"gmail-email-checkbox\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEmails.has(email.id)}\r\n                    onChange={() => toggleEmailSelection(email.id)}\r\n                    className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\r\n                    aria-label={`Select email from ${email.from.name || email.from.email}`}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  onClick={() => toggleStar(email.id, email.isStarred)}\r\n                  className={`gmail-email-star ${email.isStarred ? 'starred' : ''}`}\r\n                  title={email.isStarred ? 'Remove star' : 'Add star'}\r\n                  aria-label={email.isStarred ? 'Remove star' : 'Add star'}\r\n                >\r\n                  <Star className={`w-5 h-5 ${email.isStarred ? 'fill-current' : ''}`} />\r\n                </button>\r\n\r\n                {email.isImportant && (\r\n                  <button\r\n                    className=\"gmail-email-important text-yellow-400\"\r\n                    title=\"Important\"\r\n                    aria-label=\"Important email\"\r\n                  >\r\n                    <Circle className=\"w-4 h-4 fill-current\" />\r\n                  </button>\r\n                )}\r\n\r\n                <Link \r\n                  to={`/thread/${email.threadId}`}\r\n                  className=\"gmail-email-sender\"\r\n                >\r\n                  {email.from.name || email.from.email}\r\n                </Link>\r\n\r\n                <Link \r\n                  to={`/thread/${email.threadId}`}\r\n                  className=\"gmail-email-subject\"\r\n                >\r\n                  <span className={!email.isRead ? 'font-bold' : ''}>\r\n                    {email.subject || '(no subject)'}\r\n                  </span>\r\n                  {email.hasAttachments && (\r\n                    <Paperclip className=\"w-4 h-4 inline-block ml-1 text-gray-400\" />\r\n                  )}\r\n                  <span className=\"gmail-email-snippet\">\r\n                    {' - ' + (email.bodyText || '').substring(0, 100)}\r\n                  </span>\r\n                </Link>\r\n\r\n                <div className=\"gmail-email-labels\">\r\n                  {email.labels?.map((label) => (\r\n                    <span\r\n                      key={label.name}\r\n                      className={`gmail-label ${label.color}`}\r\n                    >\r\n                      {label.name}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"gmail-email-actions opacity-0 group-hover:opacity-100\">\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      console.log('Archive email:', email.id);\r\n                    }}\r\n                    className=\"gmail-toolbar-btn\"\r\n                    title=\"Archive\"\r\n                  >\r\n                    <Archive className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      console.log('Delete email:', email.id);\r\n                    }}\r\n                    className=\"gmail-toolbar-btn\"\r\n                    title=\"Delete\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      console.log('Mark as read/unread:', email.id);\r\n                    }}\r\n                    className=\"gmail-toolbar-btn\"\r\n                    title={email.isRead ? 'Mark as unread' : 'Mark as read'}\r\n                  >\r\n                    {email.isRead ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                  </button>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      console.log('Snooze email:', email.id);\r\n                    }}\r\n                    className=\"gmail-toolbar-btn\"\r\n                    title=\"Snooze\"\r\n                  >\r\n                    <Clock className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"gmail-email-date\">\r\n                  {formatDate(email.timestamp)}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport {\r\n  Paperclip,\r\n  Image,\r\n  Link,\r\n  Smile,\r\n  MoreHorizontal,\r\n  Minimize2,\r\n  Maximize2,\r\n  X,\r\n  Send,\r\n  Clock,\r\n  Eye,\r\n  AlertTriangle,\r\n  Bold,\r\n  Italic,\r\n  Underline,\r\n  AlignLeft,\r\n  AlignCenter,\r\n  AlignRight,\r\n  List,\r\n  ListOrdered,\r\n  Trash2\r\n} from 'lucide-react';\r\n\r\ninterface Recipient {\r\n  email: string;\r\n  name?: string;\r\n}\r\n\r\nexport function ComposePage() {\r\n  const [to, setTo] = useState<string>('');\r\n  const [cc, setCc] = useState<string>('');\r\n  const [bcc, setBcc] = useState<string>('');\r\n  const [subject, setSubject] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showCcBcc, setShowCcBcc] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [showSchedule, setShowSchedule] = useState(false);\r\n  const [showConfidential, setShowConfidential] = useState(false);\r\n  const [isConfidential, setIsConfidential] = useState(false);\r\n  const [formatting, setFormatting] = useState({\r\n    bold: false,\r\n    italic: false,\r\n    underline: false,\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const bodyRef = useRef<HTMLDivElement>(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const parseRecipients = (recipientString: string): Recipient[] => {\r\n    if (!recipientString.trim()) return [];\r\n    \r\n    return recipientString.split(',').map(email => ({\r\n      email: email.trim(),\r\n    }));\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    setIsLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      const recipients = parseRecipients(to);\r\n      const ccRecipients = parseRecipients(cc);\r\n      const bccRecipients = parseRecipients(bcc);\r\n\r\n      if (recipients.length === 0) {\r\n        setError('Please enter at least one recipient');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      await mailApi.sendEmail({\r\n        to: recipients,\r\n        cc: ccRecipients.length > 0 ? ccRecipients : undefined,\r\n        bcc: bccRecipients.length > 0 ? bccRecipients : undefined,\r\n        subject,\r\n        bodyText: body,\r\n        bodyHtml: body.replace(/\\n/g, '<br>'),\r\n      });\r\n\r\n      setSuccess('Email sent successfully!');\r\n      setTimeout(() => {\r\n        navigate('/inbox');\r\n      }, 1500);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to send email');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveDraft = async () => {\r\n    // TODO: Implement save draft functionality\r\n    console.log('Save draft functionality to be implemented');\r\n  };\r\n\r\n  return (\r\n    <div className={`gmail-compose-window ${isFullscreen ? 'fullscreen' : ''} ${isMinimized ? 'minimized' : ''}`}>\r\n      {/* Compose Header */}\r\n      <div className=\"gmail-compose-header\">\r\n        <span className=\"font-medium text-gray-900\">New Message</span>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <button\r\n            onClick={() => setIsMinimized(!isMinimized)}\r\n            className=\"p-1 hover:bg-gray-200 rounded\"\r\n            title=\"Minimize\"\r\n          >\r\n            <Minimize2 className=\"w-4 h-4\" />\r\n          </button>\r\n          <button\r\n            onClick={() => setIsFullscreen(!isFullscreen)}\r\n            className=\"p-1 hover:bg-gray-200 rounded\"\r\n            title={isFullscreen ? 'Default view' : 'Full screen'}\r\n          >\r\n            <Maximize2 className=\"w-4 h-4\" />\r\n          </button>\r\n          <button\r\n            onClick={() => navigate('/inbox')}\r\n            className=\"p-1 hover:bg-gray-200 rounded\"\r\n            title=\"Close\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {!isMinimized && (\r\n        <div className=\"gmail-compose-body\">\r\n          {/* Status Messages */}\r\n          {error && (\r\n            <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-4\">\r\n              <div className=\"flex\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <AlertTriangle className=\"h-5 w-5 text-red-400\" />\r\n                </div>\r\n                <div className=\"ml-3\">\r\n                  <p className=\"text-sm text-red-700\">{error}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {success && (\r\n            <div className=\"bg-green-50 border-l-4 border-green-400 p-4 mb-4\">\r\n              <div className=\"flex\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </div>\r\n                <div className=\"ml-3\">\r\n                  <p className=\"text-sm text-green-700\">{success}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Recipients */}\r\n          <div className=\"space-y-2 mb-4\">\r\n            {/* To Field */}\r\n            <div className=\"flex items-center border-b border-gray-200 pb-2\">\r\n              <span className=\"w-12 text-sm text-gray-600\">To</span>\r\n              <input\r\n                type=\"text\"\r\n                value={to}\r\n                onChange={(e) => setTo(e.target.value)}\r\n                placeholder=\"Recipients\"\r\n                className=\"flex-1 px-2 py-1 text-sm border-none outline-none\"\r\n              />\r\n              <div className=\"flex items-center space-x-2\">\r\n                <button\r\n                  onClick={() => setShowCcBcc(!showCcBcc)}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-700\"\r\n                >\r\n                  Cc\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowCcBcc(!showCcBcc)}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-700\"\r\n                >\r\n                  Bcc\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Cc Field */}\r\n            {showCcBcc && (\r\n              <div className=\"flex items-center border-b border-gray-200 pb-2\">\r\n                <span className=\"w-12 text-sm text-gray-600\">Cc</span>\r\n                <input\r\n                  type=\"text\"\r\n                  value={cc}\r\n                  onChange={(e) => setCc(e.target.value)}\r\n                  placeholder=\"Carbon copy\"\r\n                  className=\"flex-1 px-2 py-1 text-sm border-none outline-none\"\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Bcc Field */}\r\n            {showCcBcc && (\r\n              <div className=\"flex items-center border-b border-gray-200 pb-2\">\r\n                <span className=\"w-12 text-sm text-gray-600\">Bcc</span>\r\n                <input\r\n                  type=\"text\"\r\n                  value={bcc}\r\n                  onChange={(e) => setBcc(e.target.value)}\r\n                  placeholder=\"Blind carbon copy\"\r\n                  className=\"flex-1 px-2 py-1 text-sm border-none outline-none\"\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Subject Field */}\r\n            <div className=\"flex items-center border-b border-gray-200 pb-2\">\r\n              <span className=\"w-12 text-sm text-gray-600\">Subject</span>\r\n              <input\r\n                type=\"text\"\r\n                value={subject}\r\n                onChange={(e) => setSubject(e.target.value)}\r\n                placeholder=\"Subject\"\r\n                className=\"flex-1 px-2 py-1 text-sm border-none outline-none\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Formatting Toolbar */}\r\n          <div className=\"flex items-center space-x-1 mb-2 pb-2 border-b border-gray-200\">\r\n            <button\r\n              onClick={() => setFormatting(prev => ({ ...prev, bold: !prev.bold }))}\r\n              className={`p-2 rounded hover:bg-gray-100 ${formatting.bold ? 'bg-gray-200' : ''}`}\r\n              title=\"Bold\"\r\n            >\r\n              <Bold className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setFormatting(prev => ({ ...prev, italic: !prev.italic }))}\r\n              className={`p-2 rounded hover:bg-gray-100 ${formatting.italic ? 'bg-gray-200' : ''}`}\r\n              title=\"Italic\"\r\n            >\r\n              <Italic className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setFormatting(prev => ({ ...prev, underline: !prev.underline }))}\r\n              className={`p-2 rounded hover:bg-gray-100 ${formatting.underline ? 'bg-gray-200' : ''}`}\r\n              title=\"Underline\"\r\n            >\r\n              <Underline className=\"w-4 h-4\" />\r\n            </button>\r\n            <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Align left\">\r\n              <AlignLeft className=\"w-4 h-4\" />\r\n            </button>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Align center\">\r\n              <AlignCenter className=\"w-4 h-4\" />\r\n            </button>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Align right\">\r\n              <AlignRight className=\"w-4 h-4\" />\r\n            </button>\r\n            <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Bulleted list\">\r\n              <List className=\"w-4 h-4\" />\r\n            </button>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Numbered list\">\r\n              <ListOrdered className=\"w-4 h-4\" />\r\n            </button>\r\n            <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Insert link\">\r\n              <Link className=\"w-4 h-4\" />\r\n            </button>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Insert emoji\">\r\n              <Smile className=\"w-4 h-4\" />\r\n            </button>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Attach files\">\r\n              <Paperclip className=\"w-4 h-4\" />\r\n            </button>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"Insert photo\">\r\n              <Image className=\"w-4 h-4\" />\r\n            </button>\r\n            <div className=\"flex-1\"></div>\r\n            <button className=\"p-2 rounded hover:bg-gray-100\" title=\"More options\">\r\n              <MoreHorizontal className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Message Body */}\r\n          <div className=\"flex-1 min-h-96\">\r\n            <div\r\n              ref={bodyRef}\r\n              contentEditable\r\n              className=\"w-full h-full p-3 text-sm leading-relaxed outline-none\"\r\n              style={{\r\n                minHeight: '240px',\r\n                fontFamily: 'arial, sans-serif',\r\n              }}\r\n              onInput={(e) => setBody(e.currentTarget.textContent || '')}\r\n              suppressContentEditableWarning={true}\r\n            />\r\n          </div>\r\n\r\n          {/* Bottom Toolbar */}\r\n          <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={handleSend}\r\n                disabled={isLoading || !to.trim()}\r\n                className=\"gmail-btn gmail-btn-primary flex items-center space-x-2\"\r\n              >\r\n                <Send className=\"w-4 h-4\" />\r\n                <span>{isLoading ? 'Sending...' : 'Send'}</span>\r\n              </button>\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setShowSchedule(!showSchedule)}\r\n                  className=\"p-2 rounded hover:bg-gray-100\"\r\n                  title=\"Schedule send\"\r\n                >\r\n                  <Clock className=\"w-4 h-4\" />\r\n                </button>\r\n                {showSchedule && (\r\n                  <div className=\"absolute bottom-10 left-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 p-3 min-w-48\">\r\n                    <p className=\"text-sm font-medium mb-2\">Schedule send</p>\r\n                    <div className=\"space-y-2\">\r\n                      <button className=\"w-full text-left text-sm hover:bg-gray-100 p-2 rounded\">Tomorrow 8:00 AM</button>\r\n                      <button className=\"w-full text-left text-sm hover:bg-gray-100 p-2 rounded\">Monday 9:00 AM</button>\r\n                      <button className=\"w-full text-left text-sm hover:bg-gray-100 p-2 rounded\">Pick date & time</button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setShowConfidential(!showConfidential)}\r\n                  className={`p-2 rounded hover:bg-gray-100 ${isConfidential ? 'bg-red-50 text-red-600' : ''}`}\r\n                  title=\"Confidential mode\"\r\n                >\r\n                  <Eye className=\"w-4 h-4\" />\r\n                </button>\r\n                {showConfidential && (\r\n                  <div className=\"absolute bottom-10 left-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 p-3 min-w-64\">\r\n                    <p className=\"text-sm font-medium mb-2\">Confidential mode</p>\r\n                    <p className=\"text-xs text-gray-600 mb-3\">Recipients won't have the option to forward, copy, print, or download this email.</p>\r\n                    <div className=\"flex items-center space-x-2 mb-3\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={isConfidential}\r\n                        onChange={(e) => setIsConfidential(e.target.checked)}\r\n                        className=\"h-4 w-4 text-red-600 rounded border-gray-300\"\r\n                      />\r\n                      <span className=\"text-sm\">Turn on confidential mode</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={handleSaveDraft}\r\n                className=\"text-sm text-gray-600 hover:text-gray-800\"\r\n              >\r\n                Save draft\r\n              </button>\r\n              <button\r\n                onClick={() => navigate('/inbox')}\r\n                className=\"p-2 rounded hover:bg-gray-100\"\r\n                title=\"Discard draft\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { \r\n  Settings, User, Mail, Inbox, Shield, Filter, Ban, \r\n  Globe, Palette, Monitor, Bell, Forward, Key,\r\n  Save, ChevronRight, Info, AlertCircle, CheckCircle\r\n} from 'lucide-react';\r\n\r\ninterface GmailSettings {\r\n  // General Settings\r\n  language: string;\r\n  displayDensity: 'comfortable' | 'cozy' | 'compact';\r\n  conversationView: boolean;\r\n  smartCompose: boolean;\r\n  smartReply: boolean;\r\n  rightToLeft: boolean;\r\n  theme: 'light' | 'dark' | 'auto';\r\n  \r\n  // Inbox Settings\r\n  inboxType: 'default' | 'important' | 'unread' | 'starred' | 'priority';\r\n  inboxSections: string[];\r\n  maxPageSize: number;\r\n  markAsRead: 'immediately' | 'never' | 'after_3_seconds';\r\n  \r\n  // Account Settings\r\n  signature: string;\r\n  autoReply: {\r\n    enabled: boolean;\r\n    message: string;\r\n    startDate: string;\r\n    endDate: string;\r\n    sendToKnownContacts: boolean;\r\n  };\r\n  forwarding: {\r\n    enabled: boolean;\r\n    forwardTo: string;\r\n    keepCopy: boolean;\r\n  };\r\n  \r\n  // Security Settings\r\n  twoFactorAuth: boolean;\r\n  sessionTimeout: number;\r\n  allowLessSecureApps: boolean;\r\n  \r\n  // Filters and Labels\r\n  filters: any[];\r\n  blockedAddresses: string[];\r\n  \r\n  // Notifications\r\n  desktopNotifications: boolean;\r\n  emailNotifications: boolean;\r\n  soundNotifications: boolean;\r\n}\r\n\r\nexport default function SettingsPage() {\r\n  const [activeTab, setActiveTab] = useState('general');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const [settings, setSettings] = useState<GmailSettings>({\r\n    language: 'en',\r\n    displayDensity: 'comfortable',\r\n    conversationView: true,\r\n    smartCompose: true,\r\n    smartReply: true,\r\n    rightToLeft: false,\r\n    theme: 'light',\r\n    inboxType: 'default',\r\n    inboxSections: ['Primary', 'Social', 'Promotions'],\r\n    maxPageSize: 50,\r\n    markAsRead: 'immediately',\r\n    signature: '',\r\n    autoReply: {\r\n      enabled: false,\r\n      message: '',\r\n      startDate: '',\r\n      endDate: '',\r\n      sendToKnownContacts: false,\r\n    },\r\n    forwarding: {\r\n      enabled: false,\r\n      forwardTo: '',\r\n      keepCopy: true,\r\n    },\r\n    twoFactorAuth: false,\r\n    sessionTimeout: 30,\r\n    allowLessSecureApps: false,\r\n    filters: [],\r\n    blockedAddresses: [],\r\n    desktopNotifications: true,\r\n    emailNotifications: true,\r\n    soundNotifications: false,\r\n  });\r\n\r\n  const tabs = [\r\n    { id: 'general', label: 'General', icon: Settings, description: 'Language, conversation view, and display preferences' },\r\n    { id: 'inbox', label: 'Inbox', icon: Inbox, description: 'Inbox type, categories, and reading preferences' },\r\n    { id: 'accounts', label: 'Accounts and Import', icon: User, description: 'Account settings, signatures, and email forwarding' },\r\n    { id: 'filters', label: 'Filters and Blocked Addresses', icon: Filter, description: 'Create filters and block unwanted emails' },\r\n    { id: 'security', label: 'Security', icon: Shield, description: 'Two-factor authentication and security settings' },\r\n    { id: 'notifications', label: 'Notifications', icon: Bell, description: 'Desktop and email notification preferences' },\r\n  ];\r\n\r\n  const handleSaveSettings = async () => {\r\n    setIsLoading(true);\r\n    setErrorMessage('');\r\n    setSuccessMessage('');\r\n\r\n    try {\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      setSuccessMessage('Settings saved successfully!');\r\n    } catch (error) {\r\n      setErrorMessage('Failed to save settings. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n      setTimeout(() => {\r\n        setSuccessMessage('');\r\n        setErrorMessage('');\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const updateSettings = (key: keyof GmailSettings, value: any) => {\r\n    setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const updateNestedSettings = (parent: keyof GmailSettings, key: string, value: any) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [parent]: {\r\n        ...(prev[parent] as any),\r\n        [key]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 p-6 bg-white\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold text-gray-900 flex items-center gap-2\">\r\n              <Settings className=\"h-6 w-6 text-blue-600\" />\r\n              Settings\r\n            </h1>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              Manage your BhaMail preferences and account settings\r\n            </p>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={handleSaveSettings}\r\n            disabled={isLoading}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2\"\r\n          >\r\n            <Save className=\"h-4 w-4\" />\r\n            {isLoading ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Status Messages */}\r\n        {successMessage && (\r\n          <div className=\"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded flex items-center gap-2\">\r\n            <CheckCircle className=\"h-4 w-4\" />\r\n            {successMessage}\r\n          </div>\r\n        )}\r\n        \r\n        {errorMessage && (\r\n          <div className=\"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center gap-2\">\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            {errorMessage}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        {/* Sidebar Navigation */}\r\n        <div className=\"w-80 border-r border-gray-200 bg-gray-50\">\r\n          <div className=\"p-4\">\r\n            <nav className=\"space-y-1\">\r\n              {tabs.map((tab) => {\r\n                const Icon = tab.icon;\r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`w-full text-left p-3 rounded-lg transition-colors ${\r\n                      activeTab === tab.id\r\n                        ? 'bg-blue-100 text-blue-700 border border-blue-200'\r\n                        : 'text-gray-700 hover:bg-white hover:shadow-sm'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <Icon className=\"h-5 w-5\" />\r\n                        <div>\r\n                          <div className=\"font-medium\">{tab.label}</div>\r\n                          <div className=\"text-xs text-gray-500 mt-1\">{tab.description}</div>\r\n                        </div>\r\n                      </div>\r\n                      <ChevronRight className=\"h-4 w-4 text-gray-400\" />\r\n                    </div>\r\n                  </button>\r\n                );\r\n              })}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div className=\"flex-1 overflow-auto\">\r\n          {/* General Settings */}\r\n          {activeTab === 'general' && (\r\n            <div className=\"p-6\">\r\n              <div className=\"max-w-4xl\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">General Settings</h2>\r\n                \r\n                <div className=\"space-y-8\">\r\n                  {/* Language and Display */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Globe className=\"h-5 w-5 text-blue-600\" />\r\n                      Language and Display\r\n                    </h3>\r\n                    \r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Display Language\r\n                        </label>\r\n                        <select\r\n                          value={settings.language}\r\n                          onChange={(e) => updateSettings('language', e.target.value)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                          <option value=\"en\">English (US)</option>\r\n                          <option value=\"es\">Español</option>\r\n                          <option value=\"fr\">Français</option>\r\n                          <option value=\"de\">Deutsch</option>\r\n                          <option value=\"it\">Italiano</option>\r\n                          <option value=\"pt\">Português</option>\r\n                          <option value=\"zh\">中文</option>\r\n                          <option value=\"ja\">日本語</option>\r\n                        </select>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Display Density\r\n                        </label>\r\n                        <select\r\n                          value={settings.displayDensity}\r\n                          onChange={(e) => updateSettings('displayDensity', e.target.value as any)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                          <option value=\"comfortable\">Comfortable</option>\r\n                          <option value=\"cozy\">Cozy</option>\r\n                          <option value=\"compact\">Compact</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Conversation View */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Mail className=\"h-5 w-5 text-blue-600\" />\r\n                      Email Display\r\n                    </h3>\r\n                    \r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">Conversation view</div>\r\n                          <div className=\"text-sm text-gray-600\">Group emails with their replies</div>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={settings.conversationView}\r\n                            onChange={(e) => updateSettings('conversationView', e.target.checked)}\r\n                            className=\"sr-only peer\"\r\n                          />\r\n                          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                        </label>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">Smart Compose</div>\r\n                          <div className=\"text-sm text-gray-600\">Get writing suggestions as you type</div>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={settings.smartCompose}\r\n                            onChange={(e) => updateSettings('smartCompose', e.target.checked)}\r\n                            className=\"sr-only peer\"\r\n                          />\r\n                          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                        </label>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">Smart Reply</div>\r\n                          <div className=\"text-sm text-gray-600\">Show suggested quick responses</div>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={settings.smartReply}\r\n                            onChange={(e) => updateSettings('smartReply', e.target.checked)}\r\n                            className=\"sr-only peer\"\r\n                          />\r\n                          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Theme Settings */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Palette className=\"h-5 w-5 text-blue-600\" />\r\n                      Theme\r\n                    </h3>\r\n                    \r\n                    <div className=\"grid grid-cols-3 gap-4\">\r\n                      {[\r\n                        { value: 'light', label: 'Light', description: 'Clean white theme' },\r\n                        { value: 'dark', label: 'Dark', description: 'Dark theme for low light' },\r\n                        { value: 'auto', label: 'Auto', description: 'Match system theme' },\r\n                      ].map((theme) => (\r\n                        <div\r\n                          key={theme.value}\r\n                          onClick={() => updateSettings('theme', theme.value as any)}\r\n                          className={`border-2 rounded-lg p-4 cursor-pointer transition-colors ${\r\n                            settings.theme === theme.value\r\n                              ? 'border-blue-500 bg-blue-50'\r\n                              : 'border-gray-200 hover:border-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className=\"font-medium text-gray-900\">{theme.label}</div>\r\n                          <div className=\"text-sm text-gray-600 mt-1\">{theme.description}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Inbox Settings */}\r\n          {activeTab === 'inbox' && (\r\n            <div className=\"p-6\">\r\n              <div className=\"max-w-4xl\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Inbox Settings</h2>\r\n                \r\n                <div className=\"space-y-8\">\r\n                  {/* Inbox Type */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Inbox Type</h3>\r\n                    \r\n                    <div className=\"space-y-3\">\r\n                      {[\r\n                        { value: 'default', label: 'Default', description: 'Important messages appear in a yellow marker' },\r\n                        { value: 'important', label: 'Important markers', description: 'No sections, but messages marked important are highlighted' },\r\n                        { value: 'unread', label: 'Unread first', description: 'Unread messages appear first in your inbox' },\r\n                        { value: 'starred', label: 'Starred first', description: 'Starred messages appear first in your inbox' },\r\n                        { value: 'priority', label: 'Priority Inbox', description: 'Split inbox into sections like important, starred, etc.' },\r\n                      ].map((type) => (\r\n                        <label key={type.value} className=\"flex items-start gap-3 cursor-pointer\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            name=\"inboxType\"\r\n                            value={type.value}\r\n                            checked={settings.inboxType === type.value}\r\n                            onChange={(e) => updateSettings('inboxType', e.target.value as any)}\r\n                            className=\"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500\"\r\n                          />\r\n                          <div>\r\n                            <div className=\"font-medium text-gray-900\">{type.label}</div>\r\n                            <div className=\"text-sm text-gray-600\">{type.description}</div>\r\n                          </div>\r\n                        </label>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Reading Settings */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Reading Settings</h3>\r\n                    \r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Maximum page size\r\n                        </label>\r\n                        <select\r\n                          value={settings.maxPageSize}\r\n                          onChange={(e) => updateSettings('maxPageSize', parseInt(e.target.value))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                          <option value={25}>25 conversations per page</option>\r\n                          <option value={50}>50 conversations per page</option>\r\n                          <option value={100}>100 conversations per page</option>\r\n                        </select>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Mark as read\r\n                        </label>\r\n                        <select\r\n                          value={settings.markAsRead}\r\n                          onChange={(e) => updateSettings('markAsRead', e.target.value as any)}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                          <option value=\"immediately\">Immediately when opened</option>\r\n                          <option value=\"after_3_seconds\">After 3 seconds</option>\r\n                          <option value=\"never\">Never automatically</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Account Settings */}\r\n          {activeTab === 'accounts' && (\r\n            <div className=\"p-6\">\r\n              <div className=\"max-w-4xl\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Accounts and Import</h2>\r\n                \r\n                <div className=\"space-y-8\">\r\n                  {/* Signature */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Signature</h3>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Email signature\r\n                      </label>\r\n                      <textarea\r\n                        value={settings.signature}\r\n                        onChange={(e) => updateSettings('signature', e.target.value)}\r\n                        rows={4}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        placeholder=\"Enter your email signature...\"\r\n                      />\r\n                      <p className=\"text-sm text-gray-600 mt-2\">\r\n                        This signature will be added to all outgoing emails.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Auto-Reply */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Vacation responder</h3>\r\n                    \r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.autoReply.enabled}\r\n                          onChange={(e) => updateNestedSettings('autoReply', 'enabled', e.target.checked)}\r\n                          className=\"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500\"\r\n                        />\r\n                        <label className=\"text-sm font-medium text-gray-700\">\r\n                          Vacation responder on\r\n                        </label>\r\n                      </div>\r\n                      \r\n                      {settings.autoReply.enabled && (\r\n                        <div className=\"space-y-4 pl-7\">\r\n                          <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                First day\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={settings.autoReply.startDate}\r\n                                onChange={(e) => updateNestedSettings('autoReply', 'startDate', e.target.value)}\r\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                Last day\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={settings.autoReply.endDate}\r\n                                onChange={(e) => updateNestedSettings('autoReply', 'endDate', e.target.value)}\r\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          <div>\r\n                            <label className=\"block text.sm font-medium text-gray-700 mb-2\">\r\n                              Message\r\n                            </label>\r\n                            <textarea\r\n                              value={settings.autoReply.message}\r\n                              onChange={(e) => updateNestedSettings('autoReply', 'message', e.target.value)}\r\n                              rows={4}\r\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                              placeholder=\"Enter your vacation message...\"\r\n                            />\r\n                          </div>\r\n                          \r\n                          <div className=\"flex items-center gap-3\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={settings.autoReply.sendToKnownContacts}\r\n                              onChange={(e) => updateNestedSettings('autoReply', 'sendToKnownContacts', e.target.checked)}\r\n                              className=\"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500\"\r\n                            />\r\n                            <label className=\"text-sm text-gray-700\">\r\n                              Only send to people in my contacts\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Forwarding */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Forward className=\"h-5 w-5 text-blue-600\" />\r\n                      Forwarding and POP/IMAP\r\n                    </h3>\r\n                    \r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.forwarding.enabled}\r\n                          onChange={(e) => updateNestedSettings('forwarding', 'enabled', e.target.checked)}\r\n                          className=\"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500\"\r\n                        />\r\n                        <label className=\"text-sm font-medium text-gray-700\">\r\n                          Enable forwarding\r\n                        </label>\r\n                      </div>\r\n                      \r\n                      {settings.forwarding.enabled && (\r\n                        <div className=\"space-y-4 pl-7\">\r\n                          <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                              Forward a copy of incoming mail to\r\n                            </label>\r\n                            <input\r\n                              type=\"email\"\r\n                              value={settings.forwarding.forwardTo}\r\n                              onChange={(e) => updateNestedSettings('forwarding', 'forwardTo', e.target.value)}\r\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                              placeholder=\"forwarding@example.com\"\r\n                            />\r\n                          </div>\r\n                          \r\n                          <div className=\"flex items-center gap-3\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={settings.forwarding.keepCopy}\r\n                              onChange={(e) => updateNestedSettings('forwarding', 'keepCopy', e.target.checked)}\r\n                              className=\"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500\"\r\n                            />\r\n                            <label className=\"text-sm text-gray-700\">\r\n                              Keep BhaMail's copy in the Inbox\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Filters and Blocked Addresses */}\r\n          {activeTab === 'filters' && (\r\n            <div className=\"p-6\">\r\n              <div className=\"max-w-4xl\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Filters and Blocked Addresses</h2>\r\n                \r\n                <div className=\"space-y-8\">\r\n                  {/* Filters */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <h3 className=\"text-lg font-medium text-gray-900\">Filters</h3>\r\n                      <button className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm\">\r\n                        Create a new filter\r\n                      </button>\r\n                    </div>\r\n                    \r\n                    <div className=\"text-center py-8 text-gray-500\">\r\n                      <Filter className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\r\n                      <p>No filters created yet</p>\r\n                      <p className=\"text-sm\">Create filters to automatically organize your email</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Blocked Addresses */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <h3 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\r\n                        <Ban className=\"h-5 w-5 text-red-600\" />\r\n                        Blocked Addresses\r\n                      </h3>\r\n                      <button className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm\">\r\n                        Block an address\r\n                      </button>\r\n                    </div>\r\n                    \r\n                    <div className=\"text-center py-8 text-gray-500\">\r\n                      <Ban className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\r\n                      <p>No blocked addresses</p>\r\n                      <p className=\"text-sm\">Block email addresses to send them directly to spam</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Security Settings */}\r\n          {activeTab === 'security' && (\r\n            <div className=\"p-6\">\r\n              <div className=\"max-w-4xl\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Security Settings</h2>\r\n                \r\n                <div className=\"space-y-8\">\r\n                  {/* Two-Factor Authentication */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Key className=\"h-5 w-5 text-green-600\" />\r\n                      Two-Factor Authentication\r\n                    </h3>\r\n                    \r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-900\">2-Step Verification</div>\r\n                        <div className=\"text-sm text-gray-600\">Add an extra layer of security to your account</div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className={`text-sm font-medium ${settings.twoFactorAuth ? 'text-green-600' : 'text-gray-500'}`}>\r\n                          {settings.twoFactorAuth ? 'Enabled' : 'Disabled'}\r\n                        </span>\r\n                        <button\r\n                          onClick={() => updateSettings('twoFactorAuth', !settings.twoFactorAuth)}\r\n                          className={`px-4 py-2 rounded-md text-sm font-medium ${\r\n                            settings.twoFactorAuth\r\n                              ? 'bg-red-600 text-white hover:bg-red-700'\r\n                              : 'bg-green-600 text-white hover:bg-green-700'\r\n                          }`}\r\n                        >\r\n                          {settings.twoFactorAuth ? 'Disable' : 'Enable'}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Session Settings */}\r\n                  <div className=\"bg-white border rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Monitor className=\"h-5 w-5 text-blue-600\" />\r\n                      Session Settings\r\n                    </h3>\r\n                    \r\n                    <div className=\"space-y-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                          Session timeout (minutes)\r\n                        </label>\r\n                        <select\r\n                          value={settings.sessionTimeout}\r\n                          onChange={(e) => updateSettings('sessionTimeout', parseInt(e.target.value))}\r\n                          className=\"w-48 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                          <option value={15}>15 minutes</option>\r\n                          <option value={30}>30 minutes</option>\r\n                          <option value={60}>1 hour</option>\r\n                          <option value={180}>3 hours</option>\r\n                          <option value={480}>8 hours</option>\r\n                        </select>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">Allow less secure apps</div>\r\n                          <div className=\"text-sm text-gray-600\">Allow apps that use less secure sign-in technology</div>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={settings.allowLessSecureApps}\r\n                            onChange={(e) => updateSettings('allowLessSecureApps', e.target.checked)}\r\n                            className=\"sr-only peer\"\r\n                          />\r\n                          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Notifications */}\r\n          {activeTab === 'notifications' && (\r\n            <div className=\"p-6\">\r\n              <div className=\"max-w-4xl\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Notification Settings</h2>\r\n                \r\n                <div className=\"bg-white border rounded-lg p-6\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\r\n                    <Bell className=\"h-5 w-5 text-purple-600\" />\r\n                    Notification Preferences\r\n                  </h3>\r\n                  \r\n                  <div className=\"space-y-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-900\">Desktop notifications</div>\r\n                        <div className=\"text-sm text-gray-600\">Show notifications on your desktop when new mail arrives</div>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.desktopNotifications}\r\n                          onChange={(e) => updateSettings('desktopNotifications', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-900\">Email notifications</div>\r\n                        <div className=\"text-sm text-gray-600\">Receive email notifications for important messages</div>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.emailNotifications}\r\n                          onChange={(e) => updateSettings('emailNotifications', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-900\">Sound notifications</div>\r\n                        <div className=\"text-sm text-gray-600\">Play a sound when new mail arrives</div>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.soundNotifications}\r\n                          onChange={(e) => updateSettings('soundNotifications', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                      </label>\r\n                    </div>\r\n\r\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4\">\r\n                      <div className=\"flex items-start gap-2\">\r\n                        <Info className=\"h-5 w-5 text-blue-600 mt-0.5\" />\r\n                        <div>\r\n                          <div className=\"text-sm font-medium text-blue-900\">Notification Settings</div>\r\n                          <div className=\"text-sm text-blue-700 mt-1\">\r\n                            Browser notification permissions may need to be enabled in your browser settings.\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\n\r\ninterface Message {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  cc?: Array<{ email: string; name?: string }>;\r\n  bcc?: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isImportant?: boolean;\r\n  isStarred?: boolean;\r\n  labels?: string[];\r\n  attachments?: Array<{\r\n    id: string;\r\n    filename: string;\r\n    size: number;\r\n    contentType: string;\r\n  }>;\r\n}\r\n\r\ninterface Thread {\r\n  id: string;\r\n  subject: string;\r\n  messages: Message[];\r\n  participants: Array<{ email: string; name?: string }>;\r\n  isImportant?: boolean;\r\n  isStarred?: boolean;\r\n  labels?: string[];\r\n}\r\n\r\nexport function ThreadPage() {\r\n  const { threadId } = useParams<{ threadId: string }>();\r\n  const navigate = useNavigate();\r\n  const [thread, setThread] = useState<Thread | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [expandedMessages, setExpandedMessages] = useState<Set<string>>(new Set());\r\n  const [replyToMessage, setReplyToMessage] = useState<string | null>(null);\r\n  const [replyMode, setReplyMode] = useState<'reply' | 'reply-all' | 'forward' | null>(null);\r\n  const [replyBody, setReplyBody] = useState('');\r\n  const [showQuotedText, setShowQuotedText] = useState<Set<string>>(new Set());\r\n\r\n  useEffect(() => {\r\n    if (threadId) {\r\n      loadThread(threadId);\r\n    }\r\n  }, [threadId]);\r\n\r\n  useEffect(() => {\r\n    // Auto-expand the latest message by default\r\n    if (thread && thread.messages.length > 0) {\r\n      const latestMessage = thread.messages[thread.messages.length - 1];\r\n      setExpandedMessages(new Set([latestMessage.id]));\r\n    }\r\n  }, [thread]);\r\n\r\n  const loadThread = async (id: string) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await mailApi.getThread(id);\r\n      setThread(response);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to load thread');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleMessageExpansion = (messageId: string) => {\r\n    setExpandedMessages(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(messageId)) {\r\n        newSet.delete(messageId);\r\n      } else {\r\n        newSet.add(messageId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const toggleQuotedText = (messageId: string) => {\r\n    setShowQuotedText(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(messageId)) {\r\n        newSet.delete(messageId);\r\n      } else {\r\n        newSet.add(messageId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleReply = async (mode: 'reply' | 'reply-all' | 'forward') => {\r\n    if (!thread || !replyBody.trim()) return;\r\n\r\n    try {\r\n      const targetMessage = replyToMessage \r\n        ? thread.messages.find(m => m.id === replyToMessage)\r\n        : thread.messages[thread.messages.length - 1];\r\n      \r\n      if (!targetMessage) return;\r\n\r\n      let recipients: Array<{ email: string; name?: string }> = [];\r\n      let subject = thread.subject;\r\n\r\n      switch (mode) {\r\n        case 'reply':\r\n          recipients = [targetMessage.from];\r\n          subject = subject.startsWith('Re: ') ? subject : `Re: ${subject}`;\r\n          break;\r\n        case 'reply-all':\r\n          recipients = [\r\n            targetMessage.from,\r\n            ...targetMessage.to,\r\n            ...(targetMessage.cc || [])\r\n          ].filter((recipient, index, self) => \r\n            index === self.findIndex(r => r.email === recipient.email)\r\n          );\r\n          subject = subject.startsWith('Re: ') ? subject : `Re: ${subject}`;\r\n          break;\r\n        case 'forward':\r\n          subject = subject.startsWith('Fwd: ') ? subject : `Fwd: ${subject}`;\r\n          break;\r\n      }\r\n\r\n      await mailApi.sendEmail({\r\n        to: recipients,\r\n        subject,\r\n        bodyText: replyBody,\r\n        bodyHtml: replyBody.replace(/\\n/g, '<br>'),\r\n        threadId: thread.id,\r\n        replyToMessageId: targetMessage.id,\r\n      });\r\n\r\n      setReplyMode(null);\r\n      setReplyToMessage(null);\r\n      setReplyBody('');\r\n      // Reload thread to show the new message\r\n      await loadThread(thread.id);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to send reply');\r\n    }\r\n  };\r\n\r\n  const archiveThread = async () => {\r\n    if (!thread) return;\r\n    try {\r\n      await mailApi.archiveThread(thread.id);\r\n      navigate('/inbox');\r\n    } catch (err) {\r\n      setError('Failed to archive thread');\r\n    }\r\n  };\r\n\r\n  const deleteThread = async () => {\r\n    if (!thread) return;\r\n    try {\r\n      await mailApi.deleteThread(thread.id);\r\n      navigate('/inbox');\r\n    } catch (err) {\r\n      setError('Failed to delete thread');\r\n    }\r\n  };\r\n\r\n  const markAsSpam = async () => {\r\n    if (!thread) return;\r\n    try {\r\n      await mailApi.markThreadAsSpam(thread.id);\r\n      navigate('/inbox');\r\n    } catch (err) {\r\n      setError('Failed to mark as spam');\r\n    }\r\n  };\r\n\r\n  const toggleStar = async () => {\r\n    if (!thread) return;\r\n    try {\r\n      await mailApi.toggleThreadStar(thread.id);\r\n      setThread(prev => prev ? { ...prev, isStarred: !prev.isStarred } : null);\r\n    } catch (err) {\r\n      setError('Failed to update star');\r\n    }\r\n  };\r\n\r\n  const toggleImportant = async () => {\r\n    if (!thread) return;\r\n    try {\r\n      await mailApi.toggleThreadImportant(thread.id);\r\n      setThread(prev => prev ? { ...prev, isImportant: !prev.isImportant } : null);\r\n    } catch (err) {\r\n      setError('Failed to update importance');\r\n    }\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInMs = now.getTime() - date.getTime();\r\n    const diffInHours = diffInMs / (1000 * 60 * 60);\r\n    \r\n    if (diffInHours < 24) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInHours < 168) { // 7 days\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  const formatFullDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getMessagePreview = (message: Message) => {\r\n    const text = message.bodyText || message.bodyHtml?.replace(/<[^>]*>/g, '') || '';\r\n    return text.substring(0, 100) + (text.length > 100 ? '...' : '');\r\n  };\r\n\r\n  const splitQuotedContent = (content: string) => {\r\n    // Simple quoted content detection\r\n    const lines = content.split('\\n');\r\n    const quotedStart = lines.findIndex(line => \r\n      line.includes('On ') && line.includes('wrote:') ||\r\n      line.startsWith('>') ||\r\n      line.includes('-----Original Message-----')\r\n    );\r\n    \r\n    if (quotedStart === -1) {\r\n      return { main: content, quoted: '' };\r\n    }\r\n    \r\n    return {\r\n      main: lines.slice(0, quotedStart).join('\\n').trim(),\r\n      quoted: lines.slice(quotedStart).join('\\n').trim()\r\n    };\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-4\">\r\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!thread) {\r\n    return (\r\n      <div className=\"p-4\">\r\n        <div className=\"text-center text-gray-500\">Thread not found</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white\">\r\n      {/* Gmail Header Toolbar */}\r\n      <div className=\"border-b border-gray-200 bg-white\">\r\n        <div className=\"flex items-center justify-between p-2\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={() => navigate('/inbox')}\r\n              className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\"\r\n              title=\"Back to inbox\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <button onClick={archiveThread} className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\" title=\"Archive\">\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 8l6 6 6-6\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <button onClick={markAsSpam} className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\" title=\"Report spam\">\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <button onClick={deleteThread} className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\" title=\"Delete\">\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <div className=\"w-px h-6 bg-gray-300\"></div>\r\n            \r\n            <button \r\n              onClick={toggleImportant} \r\n              className={`p-2 rounded-full ${thread.isImportant ? 'text-yellow-500' : 'text-gray-600 hover:bg-gray-100'}`}\r\n              title=\"Mark as important\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill={thread.isImportant ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <button \r\n              onClick={toggleStar}\r\n              className={`p-2 rounded-full ${thread.isStarred ? 'text-yellow-500' : 'text-gray-600 hover:bg-gray-100'}`}\r\n              title=\"Add to starred\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill={thread.isStarred ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span className=\"text-sm text-gray-500\">\r\n              {thread.messages.length} of {thread.messages.length}\r\n            </span>\r\n            <button className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\" title=\"Older\">\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <button className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\" title=\"Newer\">\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Thread Subject Header */}\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <h1 className=\"text-2xl font-normal text-gray-900\">{thread.subject}</h1>\r\n        <div className=\"mt-2 flex items-center space-x-4 text-sm text-gray-600\">\r\n          <span>{thread.messages.length} messages</span>\r\n          <span>{thread.participants.length} participants</span>\r\n          {thread.labels && thread.labels.length > 0 && (\r\n            <div className=\"flex space-x-1\">\r\n              {thread.labels.map((label, index) => (\r\n                <span key={index} className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs\">\r\n                  {label}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        <div className=\"max-w-4xl mx-auto p-6 space-y-4\">\r\n          {thread.messages.map((message, index) => {\r\n            const isExpanded = expandedMessages.has(message.id);\r\n            const isLatest = index === thread.messages.length - 1;\r\n            const { main, quoted } = splitQuotedContent(message.bodyText || message.bodyHtml || '');\r\n            const showQuoted = showQuotedText.has(message.id);\r\n\r\n            return (\r\n              <div \r\n                key={message.id} \r\n                className={`gmail-message ${isExpanded ? 'expanded' : 'collapsed'} ${isLatest ? 'latest' : ''}`}\r\n              >\r\n                {/* Message Header - Always Visible */}\r\n                <div \r\n                  className=\"message-header\"\r\n                  onClick={() => !isExpanded && toggleMessageExpansion(message.id)}\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"message-avatar\">\r\n                      <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\r\n                        {(message.from.name || message.from.email).charAt(0).toUpperCase()}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"font-medium text-gray-900 truncate\">\r\n                          {message.from.name || message.from.email}\r\n                        </span>\r\n                        {!isExpanded && (\r\n                          <span className=\"text-sm text-gray-500 truncate\">\r\n                            {getMessagePreview(message)}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      {!isExpanded && (\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          to {message.to.map(r => r.name || r.email).join(', ')}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"text-sm text-gray-500 whitespace-nowrap\">\r\n                        {formatDate(message.timestamp)}\r\n                      </span>\r\n                      {message.attachments && message.attachments.length > 0 && (\r\n                        <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                        </svg>\r\n                      )}\r\n                      {isExpanded && (\r\n                        <button \r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            toggleMessageExpansion(message.id);\r\n                          }}\r\n                          className=\"p-1 text-gray-400 hover:text-gray-600\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                          </svg>\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Expanded Message Content */}\r\n                {isExpanded && (\r\n                  <div className=\"message-content\">\r\n                    {/* Detailed Header */}\r\n                    <div className=\"message-details\">\r\n                      <div className=\"text-sm text-gray-600 space-y-1\">\r\n                        <div><strong>From:</strong> {message.from.name || message.from.email} &lt;{message.from.email}&gt;</div>\r\n                        <div><strong>To:</strong> {message.to.map(r => `${r.name || r.email} <${r.email}>`).join(', ')}</div>\r\n                        {message.cc && message.cc.length > 0 && (\r\n                          <div><strong>Cc:</strong> {message.cc.map(r => `${r.name || r.email} <${r.email}>`).join(', ')}</div>\r\n                        )}\r\n                        <div><strong>Date:</strong> {formatFullDate(message.timestamp)}</div>\r\n                        <div><strong>Subject:</strong> {message.subject}</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Message Body */}\r\n                    <div className=\"message-body\">\r\n                      <div \r\n                        className=\"prose max-w-none\"\r\n                        dangerouslySetInnerHTML={{ \r\n                          __html: main || message.bodyHtml || message.bodyText?.replace(/\\n/g, '<br>') || '' \r\n                        }}\r\n                      />\r\n                      \r\n                      {/* Quoted Content */}\r\n                      {quoted && (\r\n                        <div className=\"quoted-content\">\r\n                          {!showQuoted ? (\r\n                            <button \r\n                              onClick={() => toggleQuotedText(message.id)}\r\n                              className=\"text-blue-600 hover:text-blue-800 text-sm\"\r\n                            >\r\n                              <span className=\"flex items-center\">\r\n                                <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                                </svg>\r\n                                Show quoted text\r\n                              </span>\r\n                            </button>\r\n                          ) : (\r\n                            <div>\r\n                              <button \r\n                                onClick={() => toggleQuotedText(message.id)}\r\n                                className=\"text-blue-600 hover:text-blue-800 text-sm mb-2\"\r\n                              >\r\n                                <span className=\"flex items-center\">\r\n                                  <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                                  </svg>\r\n                                  Hide quoted text\r\n                                </span>\r\n                              </button>\r\n                              <div \r\n                                className=\"text-gray-600 text-sm border-l-2 border-gray-300 pl-4\"\r\n                                dangerouslySetInnerHTML={{ __html: quoted.replace(/\\n/g, '<br>') }}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Attachments */}\r\n                    {message.attachments && message.attachments.length > 0 && (\r\n                      <div className=\"message-attachments\">\r\n                        <h4 className=\"text-sm font-medium text-gray-900 mb-3\">\r\n                          {message.attachments.length} Attachment{message.attachments.length !== 1 ? 's' : ''}\r\n                        </h4>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                          {message.attachments.map((attachment) => (\r\n                            <div key={attachment.id} className=\"attachment-item\">\r\n                              <div className=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\r\n                                <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                </svg>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                                    {attachment.filename}\r\n                                  </p>\r\n                                  <p className=\"text-xs text-gray-500\">\r\n                                    {formatFileSize(attachment.size)}\r\n                                  </p>\r\n                                </div>\r\n                                <button className=\"text-blue-600 hover:text-blue-800 text-sm\">\r\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                  </svg>\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Message Actions */}\r\n                    <div className=\"message-actions\">\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <button\r\n                          onClick={() => {\r\n                            setReplyToMessage(message.id);\r\n                            setReplyMode('reply');\r\n                          }}\r\n                          className=\"inline-flex items-center px-3 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded\"\r\n                        >\r\n                          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\r\n                          </svg>\r\n                          Reply\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setReplyToMessage(message.id);\r\n                            setReplyMode('reply-all');\r\n                          }}\r\n                          className=\"inline-flex items-center px-3 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded\"\r\n                        >\r\n                          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\r\n                          </svg>\r\n                          Reply all\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setReplyToMessage(message.id);\r\n                            setReplyMode('forward');\r\n                          }}\r\n                          className=\"inline-flex items-center px-3 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded\"\r\n                        >\r\n                          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\r\n                          </svg>\r\n                          Forward\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Inline Reply Composer */}\r\n      {replyMode && (\r\n        <div className=\"border-t border-gray-200 bg-white\">\r\n          <div className=\"max-w-4xl mx-auto p-6\">\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                  {replyMode === 'reply' ? 'Reply' : replyMode === 'reply-all' ? 'Reply to all' : 'Forward'}\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setReplyMode(null);\r\n                    setReplyToMessage(null);\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"border border-gray-300 rounded-lg focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500\">\r\n                <textarea\r\n                  value={replyBody}\r\n                  onChange={(e) => setReplyBody(e.target.value)}\r\n                  placeholder={`Type your ${replyMode}...`}\r\n                  className=\"w-full h-32 px-4 py-3 border-0 resize-none focus:outline-none rounded-lg\"\r\n                />\r\n                \r\n                <div className=\"flex items-center justify-between p-3 border-t border-gray-200 bg-gray-50 rounded-b-lg\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded\">\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                      </svg>\r\n                    </button>\r\n                    <button className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded\">\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setReplyMode(null);\r\n                        setReplyToMessage(null);\r\n                        setReplyBody('');\r\n                      }}\r\n                      className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded\"\r\n                    >\r\n                      Discard\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleReply(replyMode)}\r\n                      disabled={!replyBody.trim()}\r\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                      Send\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\n\r\ninterface SearchFilters {\r\n  from: string;\r\n  to: string;\r\n  subject: string;\r\n  hasWords: string;\r\n  doesntHave: string;\r\n  hasAttachment: boolean;\r\n  dateWithin: string;\r\n  olderThan: string;\r\n  newerThan: string;\r\n  size: string;\r\n  sizeComparison: 'greater' | 'less';\r\n  folder: string;\r\n  isRead: string;\r\n  isStarred: string;\r\n}\r\n\r\ninterface SearchResult {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n  folder: string;\r\n}\r\n\r\nexport function SearchPage() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const [showAdvanced, setShowAdvanced] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [results, setResults] = useState<SearchResult[]>([]);\r\n  const [error, setError] = useState('');\r\n  const [totalResults, setTotalResults] = useState(0);\r\n\r\n  const [filters, setFilters] = useState<SearchFilters>({\r\n    from: searchParams.get('from') || '',\r\n    to: searchParams.get('to') || '',\r\n    subject: searchParams.get('subject') || '',\r\n    hasWords: searchParams.get('q') || '',\r\n    doesntHave: '',\r\n    hasAttachment: false,\r\n    dateWithin: '',\r\n    olderThan: '',\r\n    newerThan: '',\r\n    size: '',\r\n    sizeComparison: 'greater',\r\n    folder: 'all',\r\n    isRead: 'all',\r\n    isStarred: 'all',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const query = searchParams.get('q');\r\n    if (query) {\r\n      performSearch(query);\r\n    }\r\n  }, [searchParams]);\r\n\r\n  const performSearch = async (query?: string) => {\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const searchQuery = query || buildSearchQuery();\r\n      const response = await mailApi.search(searchQuery, {\r\n        folder: filters.folder === 'all' ? undefined : filters.folder,\r\n      });\r\n      setResults(response.emails || []);\r\n      setTotalResults(response.total || 0);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Search failed');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const buildSearchQuery = () => {\r\n    const queryParts: string[] = [];\r\n\r\n    if (filters.hasWords) queryParts.push(filters.hasWords);\r\n    if (filters.from) queryParts.push(`from:${filters.from}`);\r\n    if (filters.to) queryParts.push(`to:${filters.to}`);\r\n    if (filters.subject) queryParts.push(`subject:${filters.subject}`);\r\n    if (filters.doesntHave) queryParts.push(`-${filters.doesntHave}`);\r\n    if (filters.hasAttachment) queryParts.push('has:attachment');\r\n    if (filters.isStarred === 'starred') queryParts.push('is:starred');\r\n    if (filters.isRead === 'read') queryParts.push('is:read');\r\n    if (filters.isRead === 'unread') queryParts.push('is:unread');\r\n\r\n    return queryParts.join(' ');\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    const query = buildSearchQuery();\r\n    navigate(`/search?q=${encodeURIComponent(query)}`);\r\n    performSearch(query);\r\n  };\r\n\r\n  const handleAdvancedSearch = () => {\r\n    handleSearch();\r\n    setShowAdvanced(false);\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffTime = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white\">\r\n      {/* Search Header */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <button\r\n              onClick={() => navigate('/inbox')}\r\n              className=\"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100\"\r\n              title=\"Back to inbox\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <div className=\"flex-1 flex items-center space-x-2\">\r\n              <div className=\"relative flex-1\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  value={filters.hasWords}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, hasWords: e.target.value }))}\r\n                  onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n                  className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\r\n                  placeholder=\"Search BhaMail...\"\r\n                />\r\n              </div>\r\n              \r\n              <button\r\n                onClick={() => setShowAdvanced(!showAdvanced)}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\r\n              >\r\n                Advanced\r\n              </button>\r\n              \r\n              <button\r\n                onClick={handleSearch}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Search\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Search Panel */}\r\n      {showAdvanced && (\r\n        <div className=\"border-b border-gray-200 bg-gray-50 p-4\">\r\n          <div className=\"max-w-4xl mx-auto\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Advanced Search</h3>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">From</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={filters.from}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, from: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                  placeholder=\"From email address\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">To</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={filters.to}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, to: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                  placeholder=\"To email address\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Subject</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={filters.subject}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, subject: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                  placeholder=\"Subject contains\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Doesn't have</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={filters.doesntHave}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, doesntHave: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                  placeholder=\"Words to exclude\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Folder</label>\r\n                <select\r\n                  value={filters.folder}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, folder: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"all\">All Mail</option>\r\n                  <option value=\"inbox\">Inbox</option>\r\n                  <option value=\"sent\">Sent</option>\r\n                  <option value=\"drafts\">Drafts</option>\r\n                  <option value=\"spam\">Spam</option>\r\n                  <option value=\"trash\">Trash</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Read Status</label>\r\n                <select\r\n                  value={filters.isRead}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, isRead: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"all\">All</option>\r\n                  <option value=\"read\">Read</option>\r\n                  <option value=\"unread\">Unread</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-4 flex items-center space-x-4\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters.hasAttachment}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, hasAttachment: e.target.checked }))}\r\n                  className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\r\n                />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Has attachment</span>\r\n              </label>\r\n              \r\n              <div className=\"flex items-center space-x-2\">\r\n                <label className=\"text-sm text-gray-700\">Starred:</label>\r\n                <select\r\n                  value={filters.isStarred}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, isStarred: e.target.value }))}\r\n                  className=\"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"all\">All</option>\r\n                  <option value=\"starred\">Starred</option>\r\n                  <option value=\"unstarred\">Not starred</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-4 flex justify-end space-x-2\">\r\n              <button\r\n                onClick={() => setShowAdvanced(false)}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAdvancedSearch}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Search\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Search Results */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center h-64\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"p-4\">\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n              {error}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"max-w-4xl mx-auto\">\r\n            {/* Results Header */}\r\n            {results.length > 0 && (\r\n              <div className=\"p-4 border-b border-gray-200\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  {totalResults.toLocaleString()} results for \"{filters.hasWords || 'advanced search'}\"\r\n                </p>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Results List */}\r\n            {results.length === 0 ? (\r\n              <div className=\"flex flex-col items-center justify-center h-64 text-gray-500\">\r\n                <svg className=\"w-12 h-12 mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                </svg>\r\n                <p className=\"text-lg font-medium\">No results found</p>\r\n                <p className=\"text-sm\">Try different search terms or check your spelling</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"divide-y divide-gray-200\">\r\n                {results.map((email) => (\r\n                  <div\r\n                    key={email.id}\r\n                    className={`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${\r\n                      !email.isRead ? 'bg-blue-50' : ''\r\n                    }`}\r\n                    onClick={() => navigate(`/thread/${email.threadId}`)}\r\n                  >\r\n                    <button\r\n                      className={`mr-4 p-1 ${\r\n                        email.isStarred ? 'text-yellow-400' : 'text-gray-300 hover:text-yellow-400'\r\n                      }`}\r\n                      title={email.isStarred ? 'Remove star' : 'Add star'}\r\n                    >\r\n                      <svg className=\"w-5 h-5\" fill={email.isStarred ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n                      </svg>\r\n                    </button>\r\n\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center\">\r\n                        <span className={`text-sm ${!email.isRead ? 'font-semibold text-gray-900' : 'text-gray-700'}`}>\r\n                          {email.from.name || email.from.email}\r\n                        </span>\r\n                        {email.hasAttachments && (\r\n                          <svg className=\"w-4 h-4 ml-2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                          </svg>\r\n                        )}\r\n                        <span className=\"ml-auto text-xs text-gray-500 px-2 py-1 bg-gray-100 rounded\">\r\n                          {email.folder}\r\n                        </span>\r\n                      </div>\r\n                      <div className={`text-sm ${!email.isRead ? 'font-medium text-gray-900' : 'text-gray-600'} truncate`}>\r\n                        {email.subject || '(no subject)'}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500 truncate\">\r\n                        {email.bodyText || ''}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 ml-4\">\r\n                      {formatDate(email.timestamp)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","﻿import React, { useState, useEffect } from 'react';\nimport { Plus, Edit2, Trash2, Settings, Tag, EyeOff, Search, ChevronDown, ChevronRight } from 'lucide-react';\n\ninterface Label {\n  id: string;\n  name: string;\n  color: string;\n  type: 'system' | 'user';\n  messageCount: number;\n  isVisible: boolean;\n  showInMessageList?: boolean;\n  showInLabelList?: boolean;\n  description?: string;\n  parentId?: string;\n  createdAt?: string;\n}\n\nconst labelColors = [\n  '#1a73e8', '#d93025', '#ea4335', '#fbbc04', '#34a853', '#9aa0a6',\n  '#f9ab00', '#ff6d01', '#c5221f', '#33b679', '#673ab7', '#03dac6',\n  '#8e24aa', '#e91e63', '#ff9800', '#795548'\n];\n\nexport default function LabelsPage() {\n  const [labels, setLabels] = useState<Label[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedLabels, setSelectedLabels] = useState<Set<string>>(new Set());\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingLabel, setEditingLabel] = useState<Label | null>(null);\n  const [expandedLabels, setExpandedLabels] = useState<Set<string>>(new Set());\n  const [newLabel, setNewLabel] = useState({\n    name: '',\n    color: '#1a73e8',\n    description: '',\n    parentId: '',\n    showInMessageList: true,\n    showInLabelList: true\n  });\n\n  const systemLabels = [\n    { name: 'Inbox', icon: '📥', messageCount: 12, color: '#1a73e8', description: 'Messages in your inbox' },\n    { name: 'Starred', icon: '⭐', messageCount: 3, color: '#fbbc04', description: 'Starred messages' },\n    { name: 'Snoozed', icon: '💤', messageCount: 1, color: '#9aa0a6', description: 'Snoozed messages' },\n    { name: 'Important', icon: '🔔', messageCount: 5, color: '#ea4335', description: 'Important messages' },\n    { name: 'Sent', icon: '📤', messageCount: 45, color: '#34a853', description: 'Sent messages' },\n    { name: 'Drafts', icon: '📝', messageCount: 2, color: '#9aa0a6', description: 'Draft messages' },\n    { name: 'All Mail', icon: '📨', messageCount: 156, color: '#1a73e8', description: 'All messages' },\n    { name: 'Spam', icon: '🚫', messageCount: 8, color: '#ea4335', description: 'Spam messages' },\n    { name: 'Trash', icon: '🗑️', messageCount: 23, color: '#9aa0a6', description: 'Deleted messages' },\n  ];\n  \n  useEffect(() => {\n    loadLabels();\n  }, []);\n\n  const loadLabels = async () => {\n    setIsLoading(true);\n    try {\n      const mockLabels: Label[] = [\n        { \n          id: '1', \n          name: 'Work', \n          color: '#1a73e8', \n          type: 'user', \n          messageCount: 25, \n          isVisible: true, \n          showInMessageList: true, \n          showInLabelList: true,\n          description: 'Work-related emails',\n          createdAt: new Date().toISOString()\n        },\n        { \n          id: '2', \n          name: 'Personal', \n          color: '#34a853', \n          type: 'user', \n          messageCount: 18, \n          isVisible: true, \n          showInMessageList: true, \n          showInLabelList: true,\n          description: 'Personal emails',\n          createdAt: new Date().toISOString()\n        },\n        { \n          id: '3', \n          name: 'Finance', \n          color: '#ea4335', \n          type: 'user', \n          messageCount: 8, \n          isVisible: true, \n          showInMessageList: true, \n          showInLabelList: true,\n          description: 'Financial documents and statements',\n          parentId: '2',\n          createdAt: new Date().toISOString()\n        },\n        { \n          id: '4', \n          name: 'Travel', \n          color: '#fbbc04', \n          type: 'user', \n          messageCount: 12, \n          isVisible: false, \n          showInMessageList: false, \n          showInLabelList: true,\n          description: 'Travel bookings and itineraries',\n          createdAt: new Date().toISOString()\n        },\n      ];\n      setLabels(mockLabels);\n    } catch (err) {\n      setError('Failed to load labels');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCreateLabel = async () => {\n    if (!newLabel.name.trim()) return;\n\n    try {\n      const label: Label = {\n        id: Date.now().toString(),\n        name: newLabel.name,\n        color: newLabel.color,\n        type: 'user',\n        messageCount: 0,\n        isVisible: true,\n        showInMessageList: newLabel.showInMessageList,\n        showInLabelList: newLabel.showInLabelList,\n        description: newLabel.description,\n        parentId: newLabel.parentId || undefined,\n        createdAt: new Date().toISOString(),\n      };\n\n      setLabels([...labels, label]);\n      setShowCreateModal(false);\n      setNewLabel({\n        name: '',\n        color: '#1a73e8',\n        description: '',\n        parentId: '',\n        showInMessageList: true,\n        showInLabelList: true\n      });\n    } catch (err) {\n      setError('Failed to create label');\n    }\n  };\n\n  const handleUpdateLabel = async (labelId: string, updates: Partial<Label>) => {\n    try {\n      setLabels(labels.map(label => \n        label.id === labelId ? { ...label, ...updates } : label\n      ));\n    } catch (err) {\n      setError('Failed to update label');\n    }\n  };\n\n  const handleDeleteLabel = async (labelId: string) => {\n    if (!confirm('Are you sure you want to delete this label? This action cannot be undone.')) {\n      return;\n    }\n\n    try {\n      setLabels(labels.filter(label => label.id !== labelId));\n    } catch (err) {\n      setError('Failed to delete label');\n    }\n  };\n\n  const filteredLabels = labels.filter(label => \n    label.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getNestedLabels = () => {\n    const topLevel = filteredLabels.filter(label => !label.parentId);\n    const nested = new Map<string, Label[]>();\n    \n    filteredLabels.forEach(label => {\n      if (label.parentId) {\n        if (!nested.has(label.parentId)) {\n          nested.set(label.parentId, []);\n        }\n        nested.get(label.parentId)!.push(label);\n      }\n    });\n\n    return { topLevel, nested };\n  };\n\n  const { topLevel, nested } = getNestedLabels();\n\n  if (isLoading) {\n    return <div className=\"flex items-center justify-center h-64\">\n      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n    </div>;\n  }\n\n  return (\n    <div className=\"flex flex-col h-full bg-white\">\n      {/* Header */}\n      <div className=\"border-b border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h1 className=\"text-2xl font-semibold text-gray-900 flex items-center gap-2\">\n              <Tag className=\"h-6 w-6 text-blue-600\" />\n              Labels\n            </h1>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Organize your emails with labels. Create custom labels and manage their appearance.\n            </p>\n          </div>\n          \n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium flex items-center gap-2\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            Create Label\n          </button>\n        </div>\n\n        {/* Search Bar */}\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search labels...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          \n          {selectedLabels.size > 0 && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600\">{selectedLabels.size} selected</span>\n              <button\n                onClick={() => setSelectedLabels(new Set())}\n                className=\"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm\"\n              >\n                Clear\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Statistics */}\n        <div className=\"grid grid-cols-4 gap-4 mt-4 p-4 bg-gray-50 rounded-lg\">\n          <div className=\"text-center\">\n            <div className=\"text-lg font-semibold text-gray-900\">{labels.length}</div>\n            <div className=\"text-xs text-gray-600\">Custom Labels</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-semibold text-green-600\">{labels.filter(l => l.isVisible).length}</div>\n            <div className=\"text-xs text-gray-600\">Visible</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-semibold text-gray-500\">{labels.filter(l => !l.isVisible).length}</div>\n            <div className=\"text-xs text-gray-600\">Hidden</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-semibold text-orange-600\">{labels.reduce((sum, l) => sum + l.messageCount, 0)}</div>\n            <div className=\"text-xs text-gray-600\">Total Messages</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 mx-6 mt-4 rounded\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"flex-1 overflow-auto p-6 space-y-6\">\n        {/* System Labels */}\n        <div>\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2\">\n            <Settings className=\"h-5 w-5 text-gray-600\" />\n            System Labels\n          </h2>\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <p className=\"text-sm text-gray-600 mb-4\">\n              These labels are automatically created by BhaMail and cannot be deleted.\n            </p>\n            \n            <div className=\"space-y-2\">\n              {systemLabels.map((label) => (\n                <div\n                  key={label.name}\n                  className=\"flex items-center justify-between p-3 bg-white rounded border hover:shadow-sm transition-shadow\"\n                >\n                  <div className=\"flex items-center space-x-3\">\n                    <span className=\"text-lg\">{label.icon}</span>\n                    <div>\n                      <div className=\"font-medium text-gray-900\">{label.name}</div>\n                      <div className=\"text-xs text-gray-500\">{label.description}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-500\">\n                      {label.messageCount} {label.messageCount === 1 ? 'message' : 'messages'}\n                    </span>\n                    <div\n                      className=\"w-3 h-3 rounded-full\"\n                      style={{ backgroundColor: label.color }}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Custom Labels */}\n        <div>\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\n              <Tag className=\"h-5 w-5 text-gray-600\" />\n              Custom Labels\n            </h2>\n            <span className=\"text-sm text-gray-500\">\n              {labels.length} labels\n            </span>\n          </div>\n\n          {topLevel.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Tag className=\"w-16 h-16 mx-auto text-gray-400 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No custom labels</h3>\n              <p className=\"text-gray-600 mb-6 max-w-md mx-auto\">\n                Create your first label to organize your emails. Labels help you categorize and find your messages quickly.\n              </p>\n              <button\n                onClick={() => setShowCreateModal(true)}\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium\"\n              >\n                Create First Label\n              </button>\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              {topLevel.map((label) => (\n                <LabelItem\n                  key={label.id}\n                  label={label}\n                  nested={nested.get(label.id) || []}\n                  selectedLabels={selectedLabels}\n                  setSelectedLabels={setSelectedLabels}\n                  expandedLabels={expandedLabels}\n                  setExpandedLabels={setExpandedLabels}\n                  onEdit={(label) => {\n                    setEditingLabel(label);\n                    setNewLabel({\n                      name: label.name,\n                      color: label.color,\n                      description: label.description || '',\n                      parentId: label.parentId || '',\n                      showInMessageList: label.showInMessageList || true,\n                      showInLabelList: label.showInLabelList || true\n                    });\n                    setShowEditModal(true);\n                  }}\n                  onDelete={handleDeleteLabel}\n                  onUpdate={handleUpdateLabel}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Create Label Modal */}\n      {showCreateModal && (\n        <CreateLabelModal\n          newLabel={newLabel}\n          setNewLabel={setNewLabel}\n          onSave={handleCreateLabel}\n          onCancel={() => {\n            setShowCreateModal(false);\n            setNewLabel({\n              name: '',\n              color: '#1a73e8',\n              description: '',\n              parentId: '',\n              showInMessageList: true,\n              showInLabelList: true\n            });\n          }}\n          labels={labels}\n          colors={labelColors}\n        />\n      )}\n\n      {/* Edit Label Modal */}\n      {showEditModal && editingLabel && (\n        <CreateLabelModal\n          newLabel={newLabel}\n          setNewLabel={setNewLabel}\n          onSave={async () => {\n            await handleUpdateLabel(editingLabel.id, {\n              name: newLabel.name,\n              color: newLabel.color,\n              description: newLabel.description,\n              parentId: newLabel.parentId || undefined,\n              showInMessageList: newLabel.showInMessageList,\n              showInLabelList: newLabel.showInLabelList\n            });\n            setShowEditModal(false);\n            setEditingLabel(null);\n          }}\n          onCancel={() => {\n            setShowEditModal(false);\n            setEditingLabel(null);\n          }}\n          labels={labels.filter(l => l.id !== editingLabel.id)}\n          colors={labelColors}\n          isEditing={true}\n        />\n      )}\n    </div>\n  );\n}\n\n// Label Item Component for handling individual label display and nested labels\ninterface LabelItemProps {\n  label: Label;\n  nested: Label[];\n  selectedLabels: Set<string>;\n  setSelectedLabels: React.Dispatch<React.SetStateAction<Set<string>>>;\n  expandedLabels: Set<string>;\n  setExpandedLabels: React.Dispatch<React.SetStateAction<Set<string>>>;\n  onEdit: (label: Label) => void;\n  onDelete: (labelId: string) => void;\n  onUpdate: (labelId: string, updates: Partial<Label>) => void;\n}\n\nfunction LabelItem({ \n  label, \n  nested, \n  selectedLabels, \n  setSelectedLabels,\n  expandedLabels,\n  setExpandedLabels,\n  onEdit, \n  onDelete, \n  onUpdate \n}: LabelItemProps) {\n  const isExpanded = expandedLabels.has(label.id);\n  const hasNested = nested.length > 0;\n\n  const toggleExpanded = () => {\n    const newExpanded = new Set(expandedLabels);\n    if (isExpanded) {\n      newExpanded.delete(label.id);\n    } else {\n      newExpanded.add(label.id);\n    }\n    setExpandedLabels(newExpanded);\n  };\n\n  const toggleSelected = () => {\n    const newSelected = new Set(selectedLabels);\n    if (selectedLabels.has(label.id)) {\n      newSelected.delete(label.id);\n    } else {\n      newSelected.add(label.id);\n    }\n    setSelectedLabels(newSelected);\n  };\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between p-3 bg-white border rounded-lg hover:shadow-sm transition-shadow\">\n        <div className=\"flex items-center space-x-3 flex-1\">\n          <input\n            type=\"checkbox\"\n            checked={selectedLabels.has(label.id)}\n            onChange={toggleSelected}\n            className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\n          />\n          \n          {hasNested && (\n            <button onClick={toggleExpanded} className=\"text-gray-400 hover:text-gray-600\">\n              {isExpanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n            </button>\n          )}\n          \n          <div\n            className=\"w-4 h-4 rounded-full flex-shrink-0\"\n            style={{ backgroundColor: label.color }}\n          />\n          \n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"font-medium text-gray-900 truncate\">{label.name}</span>\n              {!label.isVisible && (\n                <EyeOff className=\"h-4 w-4 text-gray-400\" />\n              )}\n            </div>\n            {label.description && (\n              <p className=\"text-sm text-gray-600 mt-1\">{label.description}</p>\n            )}\n            <div className=\"flex items-center gap-4 mt-1\">\n              <span className=\"text-sm text-gray-500\">\n                {label.messageCount} {label.messageCount === 1 ? 'message' : 'messages'}\n              </span>\n              <div className=\"flex items-center gap-2 text-xs text-gray-400\">\n                {label.showInMessageList && <span>Message list</span>}\n                {label.showInLabelList && <span>Label list</span>}\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => onUpdate(label.id, { isVisible: !label.isVisible })}\n            className={`text-xs px-2 py-1 rounded ${\n              label.isVisible\n                ? 'bg-green-100 text-green-700 hover:bg-green-200'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            {label.isVisible ? 'Visible' : 'Hidden'}\n          </button>\n          \n          <button\n            onClick={() => onEdit(label)}\n            className=\"text-blue-600 hover:text-blue-800 p-1\"\n            title=\"Edit label\"\n          >\n            <Edit2 className=\"h-4 w-4\" />\n          </button>\n          \n          <button\n            onClick={() => onDelete(label.id)}\n            className=\"text-red-600 hover:text-red-800 p-1\"\n            title=\"Delete label\"\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Nested labels */}\n      {hasNested && isExpanded && (\n        <div className=\"ml-8 mt-2 space-y-2\">\n          {nested.map((nestedLabel) => (\n            <LabelItem\n              key={nestedLabel.id}\n              label={nestedLabel}\n              nested={[]}\n              selectedLabels={selectedLabels}\n              setSelectedLabels={setSelectedLabels}\n              expandedLabels={expandedLabels}\n              setExpandedLabels={setExpandedLabels}\n              onEdit={onEdit}\n              onDelete={onDelete}\n              onUpdate={onUpdate}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Modal Component for Creating/Editing Labels\ninterface CreateLabelModalProps {\n  newLabel: any;\n  setNewLabel: (label: any) => void;\n  onSave: () => void;\n  onCancel: () => void;\n  labels: Label[];\n  colors: string[];\n  isEditing?: boolean;\n}\n\nfunction CreateLabelModal({ \n  newLabel, \n  setNewLabel, \n  onSave, \n  onCancel, \n  labels, \n  colors,\n  isEditing = false\n}: CreateLabelModalProps) {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          {isEditing ? 'Edit Label' : 'Create New Label'}\n        </h3>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Label Name *\n            </label>\n            <input\n              type=\"text\"\n              value={newLabel.name}\n              onChange={(e) => setNewLabel({ ...newLabel, name: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"Enter label name\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Color\n            </label>\n            <div className=\"grid grid-cols-8 gap-2\">\n              {colors.map((color) => (\n                <button\n                  key={color}\n                  onClick={() => setNewLabel({ ...newLabel, color })}\n                  className={`w-8 h-8 rounded-full border-2 ${\n                    newLabel.color === color ? 'border-gray-900 ring-2 ring-blue-500' : 'border-gray-300'\n                  }`}\n                  style={{ backgroundColor: color }}\n                />\n              ))}\n            </div>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Description (optional)\n            </label>\n            <textarea\n              value={newLabel.description}\n              onChange={(e) => setNewLabel({ ...newLabel, description: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              rows={3}\n              placeholder=\"Enter description\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Parent Label (optional)\n            </label>\n            <select\n              value={newLabel.parentId}\n              onChange={(e) => setNewLabel({ ...newLabel, parentId: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">No parent (top-level)</option>\n              {labels.filter(l => !l.parentId).map((parentLabel) => (\n                <option key={parentLabel.id} value={parentLabel.id}>\n                  {parentLabel.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              Visibility Options\n            </label>\n            <div className=\"space-y-2\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={newLabel.showInMessageList}\n                  onChange={(e) => setNewLabel({ ...newLabel, showInMessageList: e.target.checked })}\n                  className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\n                />\n                <span className=\"ml-2 text-sm text-gray-700\">Show in message list</span>\n              </label>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={newLabel.showInLabelList}\n                  onChange={(e) => setNewLabel({ ...newLabel, showInLabelList: e.target.checked })}\n                  className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\n                />\n                <span className=\"ml-2 text-sm text-gray-700\">Show in label list</span>\n              </label>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"flex justify-end space-x-3 mt-6\">\n          <button\n            onClick={onCancel}\n            className=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={onSave}\n            disabled={!newLabel.name.trim()}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isEditing ? 'Save' : 'Create'} Label\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n}\r\n\r\nexport function StarredPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedEmails, setSelectedEmails] = useState<Set<string>>(new Set());\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadStarredEmails();\r\n  }, []);\r\n\r\n  const loadStarredEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      // In a real implementation, this would filter for starred emails\r\n      const response = await mailApi.search('is:starred');\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to load starred emails');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleEmailSelection = (emailId: string) => {\r\n    const newSelected = new Set(selectedEmails);\r\n    if (newSelected.has(emailId)) {\r\n      newSelected.delete(emailId);\r\n    } else {\r\n      newSelected.add(emailId);\r\n    }\r\n    setSelectedEmails(newSelected);\r\n  };\r\n\r\n  const toggleStar = async (emailId: string, isStarred: boolean) => {\r\n    try {\r\n      await mailApi.starMessage(emailId, !isStarred);\r\n      // Remove from starred view when unstarred\r\n      if (isStarred) {\r\n        setEmails(prev => prev.filter(email => email.id !== emailId));\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to toggle star:', err);\r\n    }\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffTime = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Toolbar */}\r\n      <div className=\"border-b border-gray-200 p-4 bg-white\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <svg className=\"w-6 h-6 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n              </svg>\r\n              <h1 className=\"text-xl font-semibold text-gray-900\">Starred</h1>\r\n            </div>\r\n            <span className=\"text-sm text-gray-500\">\r\n              {emails.length} {emails.length === 1 ? 'email' : 'emails'}\r\n            </span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={loadStarredEmails}\r\n              className=\"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100\"\r\n              title=\"Refresh\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <Link\r\n              to=\"/compose\"\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium\"\r\n            >\r\n              Compose\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n            <svg className=\"w-16 h-16 mb-4 text-yellow-300\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n            </svg>\r\n            <p className=\"text-lg font-medium\">No starred emails</p>\r\n            <p className=\"text-sm\">Star important emails to find them easily later</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className={`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${\r\n                  !email.isRead ? 'bg-blue-50' : ''\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center mr-4\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEmails.has(email.id)}\r\n                    onChange={() => toggleEmailSelection(email.id)}\r\n                    className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\r\n                    title={`Select email from ${email.from.name || email.from.email}`}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  onClick={() => toggleStar(email.id, email.isStarred)}\r\n                  className=\"mr-4 p-1 text-yellow-400\"\r\n                  title=\"Remove star\"\r\n                >\r\n                  <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n                  </svg>\r\n                </button>\r\n\r\n                <Link \r\n                  to={`/thread/${email.threadId}`}\r\n                  className=\"flex-1 flex items-center min-w-0\"\r\n                >\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center\">\r\n                      <span className={`text-sm ${!email.isRead ? 'font-semibold text-gray-900' : 'text-gray-700'}`}>\r\n                        {email.from.name || email.from.email}\r\n                      </span>\r\n                      {email.hasAttachments && (\r\n                        <svg className=\"w-4 h-4 ml-2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                        </svg>\r\n                      )}\r\n                    </div>\r\n                    <div className={`text-sm ${!email.isRead ? 'font-medium text-gray-900' : 'text-gray-600'} truncate`}>\r\n                      {email.subject || '(no subject)'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 truncate\">\r\n                      {email.bodyText || ''}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500 ml-4\">\r\n                    {formatDate(email.timestamp)}\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n  folder: string;\r\n  labels?: string[];\r\n}\r\n\r\nexport function AllMailPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedEmails, setSelectedEmails] = useState<Set<string>>(new Set());\r\n  const [error, setError] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalEmails, setTotalEmails] = useState(0);\r\n  const emailsPerPage = 50;\r\n\r\n  useEffect(() => {\r\n    loadAllEmails();\r\n  }, [currentPage]);\r\n\r\n  const loadAllEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      // Load all emails from all folders\r\n      const response = await mailApi.search('*', {\r\n        page: currentPage,\r\n        limit: emailsPerPage,\r\n      });\r\n      setEmails(response.emails || []);\r\n      setTotalEmails(response.total || 0);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to load emails');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleEmailSelection = (emailId: string) => {\r\n    const newSelected = new Set(selectedEmails);\r\n    if (newSelected.has(emailId)) {\r\n      newSelected.delete(emailId);\r\n    } else {\r\n      newSelected.add(emailId);\r\n    }\r\n    setSelectedEmails(newSelected);\r\n  };\r\n\r\n  const toggleStar = async (emailId: string, isStarred: boolean) => {\r\n    try {\r\n      await mailApi.starMessage(emailId, !isStarred);\r\n      setEmails(prev => prev.map(email => \r\n        email.id === emailId ? { ...email, isStarred: !isStarred } : email\r\n      ));\r\n    } catch (err) {\r\n      console.error('Failed to toggle star:', err);\r\n    }\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffTime = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  const getFolderIcon = (folder: string) => {\r\n    switch (folder) {\r\n      case 'inbox':\r\n        return '📥';\r\n      case 'sent':\r\n        return '📤';\r\n      case 'drafts':\r\n        return '📝';\r\n      case 'spam':\r\n        return '🚫';\r\n      case 'trash':\r\n        return '🗑️';\r\n      default:\r\n        return '📨';\r\n    }\r\n  };\r\n\r\n  const totalPages = Math.ceil(totalEmails / emailsPerPage);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Toolbar */}\r\n      <div className=\"border-b border-gray-200 p-4 bg-white\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <svg className=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n              </svg>\r\n              <h1 className=\"text-xl font-semibold text-gray-900\">All Mail</h1>\r\n            </div>\r\n            <span className=\"text-sm text-gray-500\">\r\n              {totalEmails.toLocaleString()} {totalEmails === 1 ? 'email' : 'emails'}\r\n            </span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={loadAllEmails}\r\n              className=\"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100\"\r\n              title=\"Refresh\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <Link\r\n              to=\"/compose\"\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium\"\r\n            >\r\n              Compose\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n            <svg className=\"w-12 h-12 mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n            </svg>\r\n            <p className=\"text-lg font-medium\">No emails found</p>\r\n            <p className=\"text-sm\">All your emails from every folder will appear here</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className={`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${\r\n                  !email.isRead ? 'bg-blue-50' : ''\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center mr-4\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEmails.has(email.id)}\r\n                    onChange={() => toggleEmailSelection(email.id)}\r\n                    className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\r\n                    title={`Select email from ${email.from.name || email.from.email}`}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  onClick={() => toggleStar(email.id, email.isStarred)}\r\n                  className={`mr-4 p-1 ${\r\n                    email.isStarred ? 'text-yellow-400' : 'text-gray-300 hover:text-yellow-400'\r\n                  }`}\r\n                  title={email.isStarred ? 'Remove star' : 'Add star'}\r\n                >\r\n                  <svg className=\"w-5 h-5\" fill={email.isStarred ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n                  </svg>\r\n                </button>\r\n\r\n                <Link \r\n                  to={`/thread/${email.threadId}`}\r\n                  className=\"flex-1 flex items-center min-w-0\"\r\n                >\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center\">\r\n                      <span className={`text-sm ${!email.isRead ? 'font-semibold text-gray-900' : 'text-gray-700'}`}>\r\n                        {email.from.name || email.from.email}\r\n                      </span>\r\n                      {email.hasAttachments && (\r\n                        <svg className=\"w-4 h-4 ml-2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                        </svg>\r\n                      )}\r\n                      <span className=\"ml-2 text-xs text-gray-500 px-2 py-1 bg-gray-100 rounded flex items-center\">\r\n                        <span className=\"mr-1\">{getFolderIcon(email.folder)}</span>\r\n                        {email.folder}\r\n                      </span>\r\n                    </div>\r\n                    <div className={`text-sm ${!email.isRead ? 'font-medium text-gray-900' : 'text-gray-600'} truncate`}>\r\n                      {email.subject || '(no subject)'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 truncate\">\r\n                      {email.bodyText || ''}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500 ml-4\">\r\n                    {formatDate(email.timestamp)}\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div className=\"border-t border-gray-200 px-4 py-3 bg-white\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"text-sm text-gray-700\">\r\n              Showing {((currentPage - 1) * emailsPerPage) + 1} to {Math.min(currentPage * emailsPerPage, totalEmails)} of {totalEmails.toLocaleString()} results\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                disabled={currentPage === 1}\r\n                className=\"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Previous\r\n              </button>\r\n              \r\n              <span className=\"px-3 py-1 text-sm text-gray-700\">\r\n                Page {currentPage} of {totalPages}\r\n              </span>\r\n              \r\n              <button\r\n                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                disabled={currentPage === totalPages}\r\n                className=\"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n  snoozeUntil?: string;\r\n}\r\n\r\nexport function SnoozedPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedEmails, setSelectedEmails] = useState<Set<string>>(new Set());\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadSnoozedEmails();\r\n  }, []);\r\n\r\n  const loadSnoozedEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      // In a real implementation, this would filter for snoozed emails\r\n      const response = await mailApi.search('is:snoozed');\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to load snoozed emails');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleEmailSelection = (emailId: string) => {\r\n    const newSelected = new Set(selectedEmails);\r\n    if (newSelected.has(emailId)) {\r\n      newSelected.delete(emailId);\r\n    } else {\r\n      newSelected.add(emailId);\r\n    }\r\n    setSelectedEmails(newSelected);\r\n  };\r\n\r\n  const unsnoozeEmail = async (emailId: string) => {\r\n    try {\r\n      // In a real implementation, this would call an unsnooze API\r\n      console.log('Unsnoozing email:', emailId);\r\n      setEmails(prev => prev.filter(email => email.id !== emailId));\r\n    } catch (err) {\r\n      console.error('Failed to unsnooze email:', err);\r\n    }\r\n  };\r\n\r\n  const formatSnoozeTime = (snoozeUntil: string) => {\r\n    const snoozeDate = new Date(snoozeUntil);\r\n    const now = new Date();\r\n    \r\n    if (snoozeDate <= now) {\r\n      return 'Ready to show';\r\n    }\r\n    \r\n    const diffTime = snoozeDate.getTime() - now.getTime();\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n    const diffHours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    \r\n    if (diffDays > 0) {\r\n      return `${diffDays} day${diffDays > 1 ? 's' : ''}`;\r\n    } else if (diffHours > 0) {\r\n      return `${diffHours} hour${diffHours > 1 ? 's' : ''}`;\r\n    } else {\r\n      const diffMinutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));\r\n      return `${diffMinutes} minute${diffMinutes > 1 ? 's' : ''}`;\r\n    }\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffTime = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Toolbar */}\r\n      <div className=\"border-b border-gray-200 p-4 bg-white\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <h1 className=\"text-xl font-semibold text-gray-900\">Snoozed</h1>\r\n            </div>\r\n            <span className=\"text-sm text-gray-500\">\r\n              {emails.length} {emails.length === 1 ? 'email' : 'emails'}\r\n            </span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={loadSnoozedEmails}\r\n              className=\"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100\"\r\n              title=\"Refresh\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            <Link\r\n              to=\"/compose\"\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium\"\r\n            >\r\n              Compose\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n            <svg className=\"w-16 h-16 mb-4 text-purple-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            <p className=\"text-lg font-medium\">No snoozed emails</p>\r\n            <p className=\"text-sm\">Snooze emails to deal with them later</p>\r\n            <div className=\"mt-4 text-xs text-gray-400 max-w-md text-center\">\r\n              <p>💡 Tip: Use snooze to temporarily hide emails and have them reappear in your inbox at the right time</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className={`flex items-center p-4 hover:bg-gray-50 cursor-pointer ${\r\n                  !email.isRead ? 'bg-blue-50' : ''\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center mr-4\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEmails.has(email.id)}\r\n                    onChange={() => toggleEmailSelection(email.id)}\r\n                    className=\"h-4 w-4 text-blue-600 rounded border-gray-300\"\r\n                    title={`Select email from ${email.from.name || email.from.email}`}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  onClick={() => unsnoozeEmail(email.id)}\r\n                  className=\"mr-4 p-1 text-purple-500 hover:text-purple-700\"\r\n                  title=\"Unsnooze email\"\r\n                >\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </button>\r\n\r\n                <Link \r\n                  to={`/thread/${email.threadId}`}\r\n                  className=\"flex-1 flex items-center min-w-0\"\r\n                >\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center\">\r\n                      <span className={`text-sm ${!email.isRead ? 'font-semibold text-gray-900' : 'text-gray-700'}`}>\r\n                        {email.from.name || email.from.email}\r\n                      </span>\r\n                      {email.hasAttachments && (\r\n                        <svg className=\"w-4 h-4 ml-2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                        </svg>\r\n                      )}\r\n                      {email.snoozeUntil && (\r\n                        <span className=\"ml-2 text-xs text-purple-600 px-2 py-1 bg-purple-100 rounded\">\r\n                          {formatSnoozeTime(email.snoozeUntil)}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <div className={`text-sm ${!email.isRead ? 'font-medium text-gray-900' : 'text-gray-600'} truncate`}>\r\n                      {email.subject || '(no subject)'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 truncate\">\r\n                      {email.bodyText || ''}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500 ml-4\">\r\n                    {formatDate(email.timestamp)}\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Snooze Info Panel */}\r\n      <div className=\"border-t border-gray-200 bg-purple-50 p-4\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <svg className=\"w-5 h-5 text-purple-600 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n          <div className=\"text-sm text-purple-800\">\r\n            <p className=\"font-medium\">About Snoozed Emails</p>\r\n            <p className=\"mt-1\">\r\n              Snoozed emails are temporarily hidden from your inbox and will reappear automatically at the scheduled time. \r\n              You can unsnooze them manually at any time by clicking the clock icon.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport { Star, Archive, Delete, Mail } from 'lucide-react';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  isImportant: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n}\r\n\r\nexport function ImportantPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedEmails, setSelectedEmails] = useState<Set<string>>(new Set());\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadEmails();\r\n  }, []);\r\n\r\n  const loadEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const response = await mailApi.getInbox({ folder: 'important' });\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError('Failed to load important emails');\r\n      console.error('Error loading important emails:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEmailSelect = (emailId: string) => {\r\n    const newSelected = new Set(selectedEmails);\r\n    if (newSelected.has(emailId)) {\r\n      newSelected.delete(emailId);\r\n    } else {\r\n      newSelected.add(emailId);\r\n    }\r\n    setSelectedEmails(newSelected);\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedEmails.size === emails.length) {\r\n      setSelectedEmails(new Set());\r\n    } else {\r\n      setSelectedEmails(new Set(emails.map(email => email.id)));\r\n    }\r\n  };\r\n\r\n  const handleMarkAsRead = async () => {\r\n    try {\r\n      // Use available API methods\r\n      setSelectedEmails(new Set());\r\n    } catch (err) {\r\n      console.error('Error marking emails as read:', err);\r\n    }\r\n  };\r\n\r\n  const handleArchive = async () => {\r\n    try {\r\n      // Use available API methods\r\n      setSelectedEmails(new Set());\r\n    } catch (err) {\r\n      console.error('Error archiving emails:', err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      // Use available API methods\r\n      setSelectedEmails(new Set());\r\n    } catch (err) {\r\n      console.error('Error deleting emails:', err);\r\n    }\r\n  };\r\n\r\n  const handleToggleImportant = async (emailId: string) => {\r\n    try {\r\n      await mailApi.starMessage(emailId, true);\r\n      await loadEmails();\r\n    } catch (err) {\r\n      console.error('Error toggling important status:', err);\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffInDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center text-red-600 p-4\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Important</h1>\r\n          <div className=\"text-sm text-gray-500\">\r\n            {emails.length} {emails.length === 1 ? 'email' : 'emails'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Toolbar */}\r\n      {selectedEmails.size > 0 && (\r\n        <div className=\"border-b border-gray-200 p-4 bg-blue-50\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <span className=\"text-sm text-gray-700\">\r\n              {selectedEmails.size} selected\r\n            </span>\r\n            <button\r\n              onClick={handleMarkAsRead}\r\n              className=\"flex items-center space-x-1 text-sm text-gray-700 hover:text-gray-900\"\r\n            >\r\n              <Mail className=\"h-4 w-4\" />\r\n              <span>Mark as read</span>\r\n            </button>\r\n            <button\r\n              onClick={handleArchive}\r\n              className=\"flex items-center space-x-1 text-sm text-gray-700 hover:text-gray-900\"\r\n            >\r\n              <Archive className=\"h-4 w-4\" />\r\n              <span>Archive</span>\r\n            </button>\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"flex items-center space-x-1 text-sm text-red-600 hover:text-red-800\"\r\n            >\r\n              <Delete className=\"h-4 w-4\" />\r\n              <span>Delete</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-gray-400 mb-4\">\r\n              <Star className=\"h-16 w-16 mx-auto\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No important emails</h3>\r\n            <p className=\"text-gray-600\">\r\n              Messages you mark as important will appear here.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {/* Select All Header */}\r\n            <div className=\"p-4 bg-gray-50 border-b border-gray-200\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selectedEmails.size === emails.length && emails.length > 0}\r\n                  onChange={handleSelectAll}\r\n                  className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n                <span className=\"ml-3 text-sm text-gray-700\">Select all</span>\r\n              </label>\r\n            </div>\r\n\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className={`p-4 hover:bg-gray-50 ${\r\n                  selectedEmails.has(email.id) ? 'bg-blue-50' : ''\r\n                } ${email.isRead ? 'text-gray-600' : 'text-gray-900 font-medium'}`}\r\n              >\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEmails.has(email.id)}\r\n                    onChange={() => handleEmailSelect(email.id)}\r\n                    className=\"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <button\r\n                    onClick={() => handleToggleImportant(email.id)}\r\n                    className={`mt-1 ${\r\n                      email.isImportant ? 'text-yellow-500' : 'text-gray-300 hover:text-yellow-500'\r\n                    }`}\r\n                  >\r\n                    <Star className={`h-4 w-4 ${email.isImportant ? 'fill-current' : ''}`} />\r\n                  </button>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm\">\r\n                          {email.from.name || email.from.email}\r\n                        </span>\r\n                        {!email.isRead && (\r\n                          <span className=\"w-2 h-2 bg-blue-600 rounded-full\"></span>\r\n                        )}\r\n                      </div>\r\n                      <span className=\"text-xs text-gray-500 flex-shrink-0\">\r\n                        {formatTimestamp(email.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    <Link\r\n                      to={`/email/${email.id}`}\r\n                      className=\"block hover:underline\"\r\n                    >\r\n                      <p className=\"text-sm font-medium truncate\">\r\n                        {email.subject || '(No subject)'}\r\n                      </p>\r\n                      {email.bodyText && (\r\n                        <p className=\"text-sm text-gray-600 truncate mt-1\">\r\n                          {email.bodyText.substring(0, 100)}...\r\n                        </p>\r\n                      )}\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport { Send, Loader } from 'lucide-react';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n}\r\n\r\nexport function SentPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadEmails();\r\n  }, []);\r\n\r\n  const loadEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const response = await mailApi.getInbox({ folder: 'sent' });\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError('Failed to load sent emails');\r\n      console.error('Error loading sent emails:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffInDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <Loader className=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center text-red-600 p-4\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Sent</h1>\r\n          <div className=\"text-sm text-gray-500\">\r\n            {emails.length} {emails.length === 1 ? 'email' : 'emails'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-gray-400 mb-4\">\r\n              <Send className=\"h-16 w-16 mx-auto\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No sent emails</h3>\r\n            <p className=\"text-gray-600\">\r\n              Emails you send will appear here.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className=\"p-4 hover:bg-gray-50\"\r\n              >\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm\">\r\n                          To: {email.to.map(recipient => recipient.name || recipient.email).join(', ')}\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"text-xs text-gray-500 flex-shrink-0\">\r\n                        {formatTimestamp(email.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    <Link\r\n                      to={`/email/${email.id}`}\r\n                      className=\"block hover:underline\"\r\n                    >\r\n                      <p className=\"text-sm font-medium truncate\">\r\n                        {email.subject || '(No subject)'}\r\n                      </p>\r\n                      {email.bodyText && (\r\n                        <p className=\"text-sm text-gray-600 truncate mt-1\">\r\n                          {email.bodyText.substring(0, 100)}...\r\n                        </p>\r\n                      )}\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport { FileEdit, Loader } from 'lucide-react';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n}\r\n\r\nexport function DraftsPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadEmails();\r\n  }, []);\r\n\r\n  const loadEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const response = await mailApi.getInbox({ folder: 'drafts' });\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError('Failed to load draft emails');\r\n      console.error('Error loading draft emails:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffInDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <Loader className=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center text-red-600 p-4\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Drafts</h1>\r\n          <div className=\"text-sm text-gray-500\">\r\n            {emails.length} {emails.length === 1 ? 'draft' : 'drafts'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-gray-400 mb-4\">\r\n              <FileEdit className=\"h-16 w-16 mx-auto\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No drafts</h3>\r\n            <p className=\"text-gray-600\">\r\n              Draft emails will appear here.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className=\"p-4 hover:bg-gray-50\"\r\n              >\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm text-gray-600\">\r\n                          To: {email.to.length > 0 ? email.to.map(recipient => recipient.name || recipient.email).join(', ') : '(Recipients)'}\r\n                        </span>\r\n                        <span className=\"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded\">\r\n                          Draft\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"text-xs text-gray-500 flex-shrink-0\">\r\n                        {formatTimestamp(email.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    <Link\r\n                      to={`/compose?draft=${email.id}`}\r\n                      className=\"block hover:underline\"\r\n                    >\r\n                      <p className=\"text-sm font-medium truncate\">\r\n                        {email.subject || '(No subject)'}\r\n                      </p>\r\n                      {email.bodyText && (\r\n                        <p className=\"text-sm text-gray-600 truncate mt-1\">\r\n                          {email.bodyText.substring(0, 100)}...\r\n                        </p>\r\n                      )}\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport { AlertTriangle, Loader, Shield } from 'lucide-react';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n}\r\n\r\nexport function SpamPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadEmails();\r\n  }, []);\r\n\r\n  const loadEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const response = await mailApi.getInbox({ folder: 'spam' });\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError('Failed to load spam emails');\r\n      console.error('Error loading spam emails:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffInDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <Loader className=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center text-red-600 p-4\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">Spam</h1>\r\n            <Shield className=\"h-5 w-5 text-orange-500\" />\r\n          </div>\r\n          <div className=\"text-sm text-gray-500\">\r\n            {emails.length} {emails.length === 1 ? 'email' : 'emails'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Warning Banner */}\r\n      <div className=\"bg-orange-50 border-l-4 border-orange-400 p-4\">\r\n        <div className=\"flex\">\r\n          <div className=\"flex-shrink-0\">\r\n            <AlertTriangle className=\"h-5 w-5 text-orange-400\" />\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-sm text-orange-700\">\r\n              Messages in Spam are automatically deleted after 30 days. Be careful when opening these emails.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-gray-400 mb-4\">\r\n              <Shield className=\"h-16 w-16 mx-auto\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No spam emails</h3>\r\n            <p className=\"text-gray-600\">\r\n              Spam emails will appear here. They are automatically deleted after 30 days.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className=\"p-4 hover:bg-gray-50 border-l-4 border-orange-200\"\r\n              >\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm\">\r\n                          {email.from.name || email.from.email}\r\n                        </span>\r\n                        <span className=\"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded\">\r\n                          Spam\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"text-xs text-gray-500 flex-shrink-0\">\r\n                        {formatTimestamp(email.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    <Link\r\n                      to={`/email/${email.id}`}\r\n                      className=\"block hover:underline\"\r\n                    >\r\n                      <p className=\"text-sm font-medium truncate\">\r\n                        {email.subject || '(No subject)'}\r\n                      </p>\r\n                      {email.bodyText && (\r\n                        <p className=\"text-sm text-gray-600 truncate mt-1\">\r\n                          {email.bodyText.substring(0, 100)}...\r\n                        </p>\r\n                      )}\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { mailApi } from '../services/api';\r\nimport { Trash2, Loader, AlertCircle } from 'lucide-react';\r\n\r\ninterface Email {\r\n  id: string;\r\n  from: { email: string; name?: string };\r\n  to: Array<{ email: string; name?: string }>;\r\n  subject: string;\r\n  bodyText?: string;\r\n  bodyHtml?: string;\r\n  timestamp: string;\r\n  isRead: boolean;\r\n  isStarred: boolean;\r\n  hasAttachments: boolean;\r\n  threadId: string;\r\n}\r\n\r\nexport function TrashPage() {\r\n  const [emails, setEmails] = useState<Email[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadEmails();\r\n  }, []);\r\n\r\n  const loadEmails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const response = await mailApi.getInbox({ folder: 'trash' });\r\n      setEmails(response.emails || []);\r\n    } catch (err) {\r\n      setError('Failed to load deleted emails');\r\n      console.error('Error loading deleted emails:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffInDays === 0) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInDays < 7) {\r\n      return date.toLocaleDateString([], { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <Loader className=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center text-red-600 p-4\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">Trash</h1>\r\n            <Trash2 className=\"h-5 w-5 text-red-500\" />\r\n          </div>\r\n          <div className=\"text-sm text-gray-500\">\r\n            {emails.length} {emails.length === 1 ? 'email' : 'emails'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Warning Banner */}\r\n      <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\r\n        <div className=\"flex\">\r\n          <div className=\"flex-shrink-0\">\r\n            <AlertCircle className=\"h-5 w-5 text-red-400\" />\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-sm text-red-700\">\r\n              Messages in Trash are permanently deleted after 30 days. You can restore them before then.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email List */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {emails.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-gray-400 mb-4\">\r\n              <Trash2 className=\"h-16 w-16 mx-auto\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Trash is empty</h3>\r\n            <p className=\"text-gray-600\">\r\n              Deleted emails will appear here. They are permanently deleted after 30 days.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {emails.map((email) => (\r\n              <div\r\n                key={email.id}\r\n                className=\"p-4 hover:bg-gray-50 border-l-4 border-red-200\"\r\n              >\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm text-gray-600\">\r\n                          {email.from.name || email.from.email}\r\n                        </span>\r\n                        <span className=\"text-xs bg-red-100 text-red-800 px-2 py-1 rounded\">\r\n                          Deleted\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"text-xs text-gray-500 flex-shrink-0\">\r\n                        {formatTimestamp(email.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    <Link\r\n                      to={`/email/${email.id}`}\r\n                      className=\"block hover:underline\"\r\n                    >\r\n                      <p className=\"text-sm font-medium truncate text-gray-600\">\r\n                        {email.subject || '(No subject)'}\r\n                      </p>\r\n                      {email.bodyText && (\r\n                        <p className=\"text-sm text-gray-500 truncate mt-1\">\r\n                          {email.bodyText.substring(0, 100)}...\r\n                        </p>\r\n                      )}\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Search, Settings, HelpCircle, Grid3X3, Menu, \r\n  User, LogOut, Calendar, Users, FolderOpen,\r\n  Video, Image, Globe, Mail, ChevronDown\r\n} from 'lucide-react';\r\nimport { BhaMailLogo } from './BhaMailLogo';\r\nimport { useAuthStore } from '../stores/auth';\r\n\r\ninterface HeaderProps {\r\n  onToggleSidebar?: () => void;\r\n  showSidebarToggle?: boolean;\r\n}\r\n\r\nexport function BhaMailHeader({ onToggleSidebar, showSidebarToggle = true }: HeaderProps) {\r\n  const navigate = useNavigate();\r\n  const { user, logout } = useAuthStore();\r\n  const [showAppsMenu, setShowAppsMenu] = useState(false);\r\n  const [showUserMenu, setShowUserMenu] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const googleApps = [\r\n    { \r\n      name: 'BhaMail', \r\n      icon: Mail, \r\n      path: '/inbox', \r\n      color: 'text-red-500',\r\n      external: false \r\n    },\r\n    { \r\n      name: 'Calendar', \r\n      icon: Calendar, \r\n      path: '/calendar', \r\n      color: 'text-blue-500',\r\n      external: false \r\n    },\r\n    { \r\n      name: 'Contacts', \r\n      icon: Users, \r\n      path: '/contacts', \r\n      color: 'text-green-500',\r\n      external: false \r\n    },\r\n    { \r\n      name: 'Drive', \r\n      icon: FolderOpen, \r\n      path: '/drive', \r\n      color: 'text-yellow-500',\r\n      external: false \r\n    },\r\n    { \r\n      name: 'Meet', \r\n      icon: Video, \r\n      path: 'https://meet.google.com', \r\n      color: 'text-orange-500',\r\n      external: true \r\n    },\r\n    { \r\n      name: 'Photos', \r\n      icon: Image, \r\n      path: 'https://photos.google.com', \r\n      color: 'text-purple-500',\r\n      external: true \r\n    },\r\n    { \r\n      name: 'Search', \r\n      icon: Globe, \r\n      path: 'https://google.com', \r\n      color: 'text-blue-600',\r\n      external: true \r\n    },\r\n  ];\r\n\r\n  const handleSearch = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (searchQuery.trim()) {\r\n      navigate(`/search?q=${encodeURIComponent(searchQuery.trim())}`);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  const AppIcon = ({ app }: { app: typeof googleApps[0] }) => {\r\n    const content = (\r\n      <div className=\"flex flex-col items-center p-3 rounded-lg hover:bg-gray-100 transition-colors group\">\r\n        <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-2 group-hover:bg-white transition-colors\">\r\n          <app.icon className={`h-6 w-6 ${app.color}`} />\r\n        </div>\r\n        <span className=\"text-xs text-gray-700 font-medium\">{app.name}</span>\r\n      </div>\r\n    );\r\n\r\n    if (app.external) {\r\n      return (\r\n        <a\r\n          href={app.path}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"block\"\r\n        >\r\n          {content}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Link to={app.path} className=\"block\" onClick={() => setShowAppsMenu(false)}>\r\n        {content}\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-white border-b border-gray-200 h-16 flex items-center px-4 relative z-50\">\r\n      <div className=\"flex items-center flex-1\">\r\n        {/* Sidebar Toggle */}\r\n        {showSidebarToggle && (\r\n          <button\r\n            onClick={onToggleSidebar}\r\n            className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors mr-3\"\r\n            title=\"Toggle sidebar\"\r\n          >\r\n            <Menu className=\"h-5 w-5\" />\r\n          </button>\r\n        )}\r\n\r\n        {/* Logo */}\r\n        <Link to=\"/inbox\" className=\"flex items-center mr-6\">\r\n          <BhaMailLogo size=\"md\" showText={true} />\r\n        </Link>\r\n\r\n        {/* Search */}\r\n        <div className=\"flex-1 max-w-2xl\">\r\n          <form onSubmit={handleSearch} className=\"relative\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search mail\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"\r\n                  w-full pl-10 pr-4 py-2 \r\n                  bg-gray-100 hover:bg-white hover:shadow-md\r\n                  border border-transparent hover:border-gray-300\r\n                  rounded-full transition-all duration-200\r\n                  focus:outline-none focus:bg-white focus:shadow-md focus:border-blue-500\r\n                  text-sm\r\n                \"\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right Actions */}\r\n      <div className=\"flex items-center space-x-2\">\r\n        {/* Help */}\r\n        <button\r\n          className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          title=\"Help\"\r\n        >\r\n          <HelpCircle className=\"h-5 w-5\" />\r\n        </button>\r\n\r\n        {/* Settings */}\r\n        <Link\r\n          to=\"/settings\"\r\n          className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          title=\"Settings\"\r\n        >\r\n          <Settings className=\"h-5 w-5\" />\r\n        </Link>\r\n\r\n        {/* Google Apps */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setShowAppsMenu(!showAppsMenu)}\r\n            className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n            title=\"Google apps\"\r\n          >\r\n            <Grid3X3 className=\"h-5 w-5\" />\r\n          </button>\r\n\r\n          {showAppsMenu && (\r\n            <>\r\n              <div \r\n                className=\"fixed inset-0 z-40\" \r\n                onClick={() => setShowAppsMenu(false)}\r\n              />\r\n              <div className=\"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-50\">\r\n                <div className=\"mb-4\">\r\n                  <h3 className=\"text-sm font-medium text-gray-900 mb-3\">Google Apps</h3>\r\n                  <div className=\"grid grid-cols-3 gap-2\">\r\n                    {googleApps.map((app) => (\r\n                      <AppIcon key={app.name} app={app} />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div className=\"border-t border-gray-100 pt-3\">\r\n                  <Link\r\n                    to=\"/settings\"\r\n                    className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\r\n                    onClick={() => setShowAppsMenu(false)}\r\n                  >\r\n                    More from BhaMail →\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* User Menu */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setShowUserMenu(!showUserMenu)}\r\n            className=\"flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center\">\r\n              {user?.firstName ? (\r\n                <span className=\"text-white text-sm font-medium\">\r\n                  {user.firstName[0].toUpperCase()}\r\n                </span>\r\n              ) : (\r\n                <User className=\"h-4 w-4 text-white\" />\r\n              )}\r\n            </div>\r\n            <ChevronDown className=\"h-4 w-4 text-gray-500\" />\r\n          </button>\r\n\r\n          {showUserMenu && (\r\n            <>\r\n              <div \r\n                className=\"fixed inset-0 z-40\" \r\n                onClick={() => setShowUserMenu(false)}\r\n              />\r\n              <div className=\"absolute top-full right-0 mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50\">\r\n                {/* User Info */}\r\n                <div className=\"p-4 border-b border-gray-100\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center\">\r\n                      {user?.firstName ? (\r\n                        <span className=\"text-white text-lg font-medium\">\r\n                          {user.firstName[0].toUpperCase()}\r\n                        </span>\r\n                      ) : (\r\n                        <User className=\"h-6 w-6 text-white\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-medium text-gray-900\">\r\n                        {user?.firstName} {user?.lastName}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">{user?.email}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Menu Items */}\r\n                <div className=\"p-2\">\r\n                  <Link\r\n                    to=\"/settings\"\r\n                    className=\"flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                    onClick={() => setShowUserMenu(false)}\r\n                  >\r\n                    <Settings className=\"h-4 w-4\" />\r\n                    <span>Account Settings</span>\r\n                  </Link>\r\n                  \r\n                  <button\r\n                    onClick={handleLogout}\r\n                    className=\"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                  >\r\n                    <LogOut className=\"h-4 w-4\" />\r\n                    <span>Sign out</span>\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"p-4 border-t border-gray-100 text-center\">\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    Privacy Policy • Terms of Service\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport {\r\n  Inbox, Star, Send, FileText, Trash2, \r\n  AlertTriangle, Clock, Mail, Calendar, Users,\r\n  FolderOpen, Plus, Settings,\r\n  Video,\r\n  Globe, Image, ChevronDown, ChevronRight\r\n} from 'lucide-react';\r\nimport { BhaMailLogo } from './BhaMailLogo';\r\n\r\ninterface SidebarProps {\r\n  isCollapsed?: boolean;\r\n  onToggleCollapse?: () => void;\r\n}\r\n\r\nexport function BhaMailSidebar({ isCollapsed = false }: SidebarProps) {\r\n  const location = useLocation();\r\n  const [showGoogleServices, setShowGoogleServices] = useState(false);\r\n  const [showLabels, setShowLabels] = useState(true);\r\n\r\n  const mailItems = [\r\n    { icon: Inbox, label: 'Inbox', path: '/inbox', count: 12 },\r\n    { icon: Star, label: 'Starred', path: '/starred' },\r\n    { icon: Clock, label: 'Snoozed', path: '/snoozed' },\r\n    { icon: Send, label: 'Sent', path: '/sent' },\r\n    { icon: FileText, label: 'Drafts', path: '/drafts', count: 3 },\r\n    { icon: Mail, label: 'All Mail', path: '/all' },\r\n    { icon: AlertTriangle, label: 'Spam', path: '/spam' },\r\n    { icon: Trash2, label: 'Trash', path: '/trash' },\r\n  ];\r\n\r\n  const googleServices = [\r\n    { icon: Calendar, label: 'Calendar', path: '/calendar', external: false },\r\n    { icon: Users, label: 'Contacts', path: '/contacts', external: false },\r\n    { icon: FolderOpen, label: 'Drive', path: '/drive', external: false },\r\n    { icon: Video, label: 'Meet', path: 'https://meet.google.com', external: true },\r\n    { icon: Globe, label: 'Search', path: 'https://google.com', external: true },\r\n    { icon: Image, label: 'Photos', path: 'https://photos.google.com', external: true },\r\n  ];\r\n\r\n  const customLabels = [\r\n    { name: 'Work', color: 'bg-red-500', count: 5 },\r\n    { name: 'Personal', color: 'bg-blue-500', count: 8 },\r\n    { name: 'Finance', color: 'bg-green-500', count: 2 },\r\n    { name: 'Travel', color: 'bg-purple-500', count: 1 },\r\n  ];\r\n\r\n  const isActive = (path: string) => location.pathname === path;\r\n\r\n  const NavItem = ({ icon: Icon, label, path, count, external = false }: any) => {\r\n    const content = (\r\n      <>\r\n        <Icon className=\"h-4 w-4 min-w-4\" />\r\n        {!isCollapsed && (\r\n          <>\r\n            <span className=\"flex-1 text-left\">{label}</span>\r\n            {count && count > 0 && (\r\n              <span className=\"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full\">\r\n                {count}\r\n              </span>\r\n            )}\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n\r\n    const className = `\r\n      flex items-center gap-3 px-3 py-2 mx-2 rounded-lg text-sm font-medium\r\n      transition-all duration-200 group\r\n      ${isActive(path) \r\n        ? 'bg-red-50 text-red-700 border-l-4 border-red-500' \r\n        : 'text-gray-700 hover:bg-gray-100'\r\n      }\r\n      ${isCollapsed ? 'justify-center' : ''}\r\n    `;\r\n\r\n    if (external) {\r\n      return (\r\n        <a\r\n          href={path}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className={className}\r\n          title={isCollapsed ? label : undefined}\r\n        >\r\n          {content}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Link\r\n        to={path}\r\n        className={className}\r\n        title={isCollapsed ? label : undefined}\r\n      >\r\n        {content}\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`bg-white border-r border-gray-200 transition-all duration-300 ${\r\n      isCollapsed ? 'w-16' : 'w-64'\r\n    }`}>\r\n      <div className=\"flex flex-col h-full\">\r\n        {/* Logo */}\r\n        <div className=\"flex items-center p-4 border-b border-gray-100\">\r\n          {isCollapsed ? (\r\n            <BhaMailLogo size=\"sm\" showText={false} />\r\n          ) : (\r\n            <BhaMailLogo size=\"md\" showText={true} />\r\n          )}\r\n        </div>\r\n\r\n        {/* Compose Button */}\r\n        <div className=\"p-4\">\r\n          <Link\r\n            to=\"/compose\"\r\n            className={`\r\n              flex items-center justify-center gap-2 \r\n              bg-gradient-to-r from-blue-600 to-blue-700 \r\n              text-white font-medium rounded-full\r\n              transition-all duration-200 hover:shadow-lg\r\n              ${isCollapsed ? 'w-12 h-12' : 'w-full py-3 px-6'}\r\n            `}\r\n          >\r\n            <Plus className=\"h-5 w-5\" />\r\n            {!isCollapsed && <span>Compose</span>}\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Mail Navigation */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          <nav className=\"space-y-1\">\r\n            {mailItems.map((item) => (\r\n              <NavItem key={item.path} {...item} />\r\n            ))}\r\n          </nav>\r\n\r\n          {/* Google Services Section */}\r\n          <div className=\"mt-6\">\r\n            <button\r\n              onClick={() => setShowGoogleServices(!showGoogleServices)}\r\n              className={`\r\n                flex items-center gap-2 px-3 py-2 mx-2 text-sm font-medium text-gray-600\r\n                hover:bg-gray-100 rounded-lg transition-colors w-full\r\n                ${isCollapsed ? 'justify-center' : ''}\r\n              `}\r\n            >\r\n              {showGoogleServices ? (\r\n                <ChevronDown className=\"h-4 w-4\" />\r\n              ) : (\r\n                <ChevronRight className=\"h-4 w-4\" />\r\n              )}\r\n              {!isCollapsed && <span>Google Services</span>}\r\n            </button>\r\n\r\n            {showGoogleServices && (\r\n              <div className=\"mt-1 space-y-1\">\r\n                {googleServices.map((service) => (\r\n                  <NavItem key={service.path} {...service} />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Labels Section */}\r\n          <div className=\"mt-6\">\r\n            <button\r\n              onClick={() => setShowLabels(!showLabels)}\r\n              className={`\r\n                flex items-center gap-2 px-3 py-2 mx-2 text-sm font-medium text-gray-600\r\n                hover:bg-gray-100 rounded-lg transition-colors w-full\r\n                ${isCollapsed ? 'justify-center' : ''}\r\n              `}\r\n            >\r\n              {showLabels ? (\r\n                <ChevronDown className=\"h-4 w-4\" />\r\n              ) : (\r\n                <ChevronRight className=\"h-4 w-4\" />\r\n              )}\r\n              {!isCollapsed && <span>Labels</span>}\r\n            </button>\r\n\r\n            {showLabels && !isCollapsed && (\r\n              <div className=\"mt-1 space-y-1\">\r\n                {customLabels.map((label) => (\r\n                  <Link\r\n                    key={label.name}\r\n                    to={`/label/${label.name.toLowerCase()}`}\r\n                    className=\"flex items-center gap-3 px-3 py-2 mx-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                  >\r\n                    <div className={`w-3 h-3 rounded-full ${label.color}`} />\r\n                    <span className=\"flex-1\">{label.name}</span>\r\n                    {label.count > 0 && (\r\n                      <span className=\"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full\">\r\n                        {label.count}\r\n                      </span>\r\n                    )}\r\n                  </Link>\r\n                ))}\r\n                \r\n                <Link\r\n                  to=\"/labels\"\r\n                  className=\"flex items-center gap-3 px-3 py-2 mx-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <Plus className=\"h-3 w-3\" />\r\n                  <span>Create label</span>\r\n                </Link>\r\n                \r\n                <Link\r\n                  to=\"/labels\"\r\n                  className=\"flex items-center gap-3 px-3 py-2 mx-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <Settings className=\"h-3 w-3\" />\r\n                  <span>Manage labels</span>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"border-t border-gray-100 p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {!isCollapsed ? (\r\n              <>\r\n                <span className=\"text-xs text-gray-500\">\r\n                  15 GB of 15 GB used\r\n                </span>\r\n                <Link\r\n                  to=\"/settings\"\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  <Settings className=\"h-4 w-4\" />\r\n                </Link>\r\n              </>\r\n            ) : (\r\n              <Link\r\n                to=\"/settings\"\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors mx-auto\"\r\n                title=\"Settings\"\r\n              >\r\n                <Settings className=\"h-4 w-4\" />\r\n              </Link>\r\n            )}\r\n          </div>\r\n          \r\n          {!isCollapsed && (\r\n            <div className=\"mt-2\">\r\n              <div className=\"w-full bg-gray-200 rounded-full h-1\">\r\n                <div className=\"bg-blue-600 h-1 rounded-full\" style={{ width: '75%' }} />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","﻿import { ReactNode, useState } from 'react';\nimport { BhaMailHeader } from './BhaMailHeader';\nimport { BhaMailSidebar } from './BhaMailSidebar';\n\ninterface DashboardLayoutProps {\n  children: ReactNode;\n  showSidebar?: boolean;\n}\n\nexport function DashboardLayout({ children, showSidebar = true }: DashboardLayoutProps) {\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n\n  const toggleSidebar = () => {\n    setIsSidebarCollapsed(!isSidebarCollapsed);\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* Header */}\n      <BhaMailHeader \n        onToggleSidebar={toggleSidebar}\n        showSidebarToggle={showSidebar}\n      />\n      \n      {/* Main Content */}\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Sidebar */}\n        {showSidebar && (\n          <BhaMailSidebar isCollapsed={isSidebarCollapsed} />\n        )}\n        \n        {/* Content Area */}\n        <main className=\"flex-1 overflow-y-auto bg-white\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\r\nimport {\r\n  Calendar, ChevronLeft, ChevronRight, Plus, Search, Settings,\r\n  Users, Video, Bell, X, Trash2\r\n} from 'lucide-react';\r\n\r\ninterface CalendarEvent {\r\n  id: string;\r\n  title: string;\r\n  start: Date;\r\n  end: Date;\r\n  allDay: boolean;\r\n  description?: string;\r\n  location?: string;\r\n  attendees?: string[];\r\n  meetingLink?: string;\r\n  color: string;\r\n  reminder?: number; // minutes before\r\n  repeat?: 'none' | 'daily' | 'weekly' | 'monthly' | 'yearly';\r\n}\r\n\r\ninterface BhaCalendarProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onEventCreate?: (event: Omit<CalendarEvent, 'id'>) => void;\r\n  onEventEdit?: (event: CalendarEvent) => void;\r\n  onEventDelete?: (eventId: string) => void;\r\n}\r\n\r\nexport default function BhaCalendar({ \r\n  isOpen, \r\n  onClose, \r\n  onEventCreate, \r\n  onEventEdit, \r\n  onEventDelete \r\n}: BhaCalendarProps) {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [viewMode, setViewMode] = useState<'month' | 'week' | 'day'>('month');\r\n  const [showCreateEvent, setShowCreateEvent] = useState(false);\r\n  const [editingEvent, setEditingEvent] = useState<CalendarEvent | null>(null);\r\n\r\n  const [events, setEvents] = useState<CalendarEvent[]>([\r\n    {\r\n      id: '1',\r\n      title: 'Team Meeting',\r\n      start: new Date(2024, 2, 15, 10, 0),\r\n      end: new Date(2024, 2, 15, 11, 0),\r\n      allDay: false,\r\n      description: 'Weekly team sync meeting',\r\n      location: 'Conference Room A',\r\n      attendees: ['john@example.com', 'jane@example.com'],\r\n      meetingLink: 'https://meet.bhamail.com/abc-defg-hij',\r\n      color: 'blue',\r\n      reminder: 15,\r\n      repeat: 'weekly'\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'Project Deadline',\r\n      start: new Date(2024, 2, 20, 0, 0),\r\n      end: new Date(2024, 2, 20, 23, 59),\r\n      allDay: true,\r\n      description: 'Final submission for Q1 project',\r\n      color: 'red',\r\n      reminder: 1440, // 1 day\r\n      repeat: 'none'\r\n    },\r\n    {\r\n      id: '3',\r\n      title: 'Client Presentation',\r\n      start: new Date(2024, 2, 18, 14, 0),\r\n      end: new Date(2024, 2, 18, 15, 30),\r\n      allDay: false,\r\n      description: 'Quarterly business review with key client',\r\n      location: 'Executive Conference Room',\r\n      attendees: ['client@example.com', 'sales@example.com'],\r\n      meetingLink: 'https://meet.bhamail.com/xyz-uvwx-rst',\r\n      color: 'green',\r\n      reminder: 30,\r\n      repeat: 'none'\r\n    }\r\n  ]);\r\n\r\n  const [newEvent, setNewEvent] = useState<Partial<CalendarEvent>>({\r\n    title: '',\r\n    start: new Date(),\r\n    end: new Date(Date.now() + 60 * 60 * 1000), // 1 hour later\r\n    allDay: false,\r\n    description: '',\r\n    location: '',\r\n    attendees: [],\r\n    color: 'blue',\r\n    reminder: 15,\r\n    repeat: 'none'\r\n  });\r\n\r\n  const monthNames = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n\r\n  const getCalendarDays = () => {\r\n    const year = currentDate.getFullYear();\r\n    const month = currentDate.getMonth();\r\n    const firstDay = new Date(year, month, 1);\r\n    const startDate = new Date(firstDay);\r\n    startDate.setDate(startDate.getDate() - firstDay.getDay());\r\n\r\n    const days = [];\r\n    const current = new Date(startDate);\r\n    \r\n    for (let i = 0; i < 42; i++) {\r\n      days.push(new Date(current));\r\n      current.setDate(current.getDate() + 1);\r\n    }\r\n    \r\n    return days;\r\n  };\r\n\r\n  const getEventsForDate = (date: Date) => {\r\n    return events.filter(event => {\r\n      const eventDate = new Date(event.start);\r\n      return eventDate.toDateString() === date.toDateString();\r\n    });\r\n  };\r\n\r\n  const handleDateClick = (date: Date) => {\r\n    setNewEvent(prev => ({\r\n      ...prev,\r\n      start: new Date(date.getFullYear(), date.getMonth(), date.getDate(), 9, 0),\r\n      end: new Date(date.getFullYear(), date.getMonth(), date.getDate(), 10, 0)\r\n    }));\r\n    setShowCreateEvent(true);\r\n  };\r\n\r\n  const handleCreateEvent = () => {\r\n    if (!newEvent.title || !newEvent.start || !newEvent.end) return;\r\n\r\n    const event: CalendarEvent = {\r\n      id: Date.now().toString(),\r\n      title: newEvent.title!,\r\n      start: newEvent.start!,\r\n      end: newEvent.end!,\r\n      allDay: newEvent.allDay || false,\r\n      description: newEvent.description || '',\r\n      location: newEvent.location || '',\r\n      attendees: newEvent.attendees || [],\r\n      meetingLink: newEvent.meetingLink,\r\n      color: newEvent.color || 'blue',\r\n      reminder: newEvent.reminder || 15,\r\n      repeat: newEvent.repeat || 'none'\r\n    };\r\n\r\n    setEvents(prev => [...prev, event]);\r\n    onEventCreate?.(event);\r\n    setShowCreateEvent(false);\r\n    setNewEvent({\r\n      title: '',\r\n      start: new Date(),\r\n      end: new Date(Date.now() + 60 * 60 * 1000),\r\n      allDay: false,\r\n      description: '',\r\n      location: '',\r\n      attendees: [],\r\n      color: 'blue',\r\n      reminder: 15,\r\n      repeat: 'none'\r\n    });\r\n  };\r\n\r\n  const handleEditEvent = (event: CalendarEvent) => {\r\n    setEditingEvent(event);\r\n    setNewEvent(event);\r\n    setShowCreateEvent(true);\r\n  };\r\n\r\n  const handleUpdateEvent = () => {\r\n    if (!editingEvent || !newEvent.title || !newEvent.start || !newEvent.end) return;\r\n\r\n    const updatedEvent: CalendarEvent = {\r\n      ...editingEvent,\r\n      title: newEvent.title!,\r\n      start: newEvent.start!,\r\n      end: newEvent.end!,\r\n      allDay: newEvent.allDay || false,\r\n      description: newEvent.description || '',\r\n      location: newEvent.location || '',\r\n      attendees: newEvent.attendees || [],\r\n      meetingLink: newEvent.meetingLink,\r\n      color: newEvent.color || 'blue',\r\n      reminder: newEvent.reminder || 15,\r\n      repeat: newEvent.repeat || 'none'\r\n    };\r\n\r\n    setEvents(prev => prev.map(e => e.id === editingEvent.id ? updatedEvent : e));\r\n    onEventEdit?.(updatedEvent);\r\n    setShowCreateEvent(false);\r\n    setEditingEvent(null);\r\n    setNewEvent({\r\n      title: '',\r\n      start: new Date(),\r\n      end: new Date(Date.now() + 60 * 60 * 1000),\r\n      allDay: false,\r\n      description: '',\r\n      location: '',\r\n      attendees: [],\r\n      color: 'blue',\r\n      reminder: 15,\r\n      repeat: 'none'\r\n    });\r\n  };\r\n\r\n  const handleDeleteEvent = (eventId: string) => {\r\n    setEvents(prev => prev.filter(e => e.id !== eventId));\r\n    onEventDelete?.(eventId);\r\n  };\r\n\r\n  const navigateMonth = (direction: 'prev' | 'next') => {\r\n    setCurrentDate(prev => {\r\n      const newDate = new Date(prev);\r\n      newDate.setMonth(newDate.getMonth() + (direction === 'next' ? 1 : -1));\r\n      return newDate;\r\n    });\r\n  };\r\n\r\n  const formatTime = (date: Date) => {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const getEventColor = (color: string) => {\r\n    const colors = {\r\n      blue: 'bg-blue-500 text-white',\r\n      red: 'bg-red-500 text-white',\r\n      green: 'bg-green-500 text-white',\r\n      yellow: 'bg-yellow-500 text-black',\r\n      purple: 'bg-purple-500 text-white',\r\n      orange: 'bg-orange-500 text-white'\r\n    };\r\n    return colors[color as keyof typeof colors] || colors.blue;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n              <Calendar className=\"h-6 w-6 text-blue-600\" />\r\n              BhaCalendar\r\n            </h2>\r\n            \r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => navigateMonth('prev')}\r\n                className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded\"\r\n              >\r\n                <ChevronLeft className=\"h-4 w-4\" />\r\n              </button>\r\n              \r\n              <h3 className=\"text-lg font-medium min-w-48 text-center\">\r\n                {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}\r\n              </h3>\r\n              \r\n              <button\r\n                onClick={() => navigateMonth('next')}\r\n                className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded\"\r\n              >\r\n                <ChevronRight className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setCurrentDate(new Date())}\r\n              className=\"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm\"\r\n            >\r\n              Today\r\n            </button>\r\n            \r\n            <div className=\"flex border border-gray-300 rounded-lg overflow-hidden\">\r\n              <button\r\n                onClick={() => setViewMode('month')}\r\n                className={`px-3 py-2 text-sm ${viewMode === 'month' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n              >\r\n                Month\r\n              </button>\r\n              <button\r\n                onClick={() => setViewMode('week')}\r\n                className={`px-3 py-2 text-sm ${viewMode === 'week' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n              >\r\n                Week\r\n              </button>\r\n              <button\r\n                onClick={() => setViewMode('day')}\r\n                className={`px-3 py-2 text-sm ${viewMode === 'day' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n              >\r\n                Day\r\n              </button>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={() => setShowCreateEvent(true)}\r\n              className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n            >\r\n              <Plus className=\"h-4 w-4\" />\r\n              Create\r\n            </button>\r\n            \r\n            <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n              <Search className=\"h-4 w-4\" />\r\n            </button>\r\n            \r\n            <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n              <Settings className=\"h-4 w-4\" />\r\n            </button>\r\n            \r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 text-gray-500 hover:text-gray-700 rounded\"\r\n            >\r\n              <X className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Calendar Grid */}\r\n        <div className=\"flex-1 overflow-hidden\">\r\n          {viewMode === 'month' && (\r\n            <div className=\"h-full flex flex-col\">\r\n              {/* Day Headers */}\r\n              <div className=\"grid grid-cols-7 border-b bg-gray-50\">\r\n                {dayNames.map(day => (\r\n                  <div key={day} className=\"p-3 text-sm font-medium text-gray-600 text-center\">\r\n                    {day}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              \r\n              {/* Calendar Days */}\r\n              <div className=\"flex-1 grid grid-cols-7 gap-0\">\r\n                {getCalendarDays().map((date, index) => {\r\n                  const isCurrentMonth = date.getMonth() === currentDate.getMonth();\r\n                  const isToday = date.toDateString() === new Date().toDateString();\r\n                  const dayEvents = getEventsForDate(date);\r\n                  \r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className={`min-h-32 border-r border-b border-gray-200 p-1 cursor-pointer hover:bg-gray-50 ${\r\n                        !isCurrentMonth ? 'bg-gray-50 text-gray-400' : ''\r\n                      }`}\r\n                      onClick={() => handleDateClick(date)}\r\n                    >\r\n                      <div className={`text-sm font-medium mb-1 ${\r\n                        isToday ? 'bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center' : ''\r\n                      }`}>\r\n                        {date.getDate()}\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-1\">\r\n                        {dayEvents.slice(0, 3).map(event => (\r\n                          <div\r\n                            key={event.id}\r\n                            className={`text-xs p-1 rounded truncate cursor-pointer ${getEventColor(event.color)}`}\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleEditEvent(event);\r\n                            }}\r\n                          >\r\n                            {event.allDay ? event.title : `${formatTime(event.start)} ${event.title}`}\r\n                          </div>\r\n                        ))}\r\n                        {dayEvents.length > 3 && (\r\n                          <div className=\"text-xs text-gray-500 font-medium\">\r\n                            +{dayEvents.length - 3} more\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Week and Day views would be implemented similarly */}\r\n          {(viewMode === 'week' || viewMode === 'day') && (\r\n            <div className=\"h-full flex items-center justify-center text-gray-500\">\r\n              <div className=\"text-center\">\r\n                <Calendar className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                <p className=\"text-lg font-medium\">\r\n                  {viewMode === 'week' ? 'Week' : 'Day'} view coming soon\r\n                </p>\r\n                <p className=\"text-sm\">Switch to Month view to see events</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Create/Edit Event Modal */}\r\n        {showCreateEvent && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-auto\">\r\n              <div className=\"flex items-center justify-between p-4 border-b\">\r\n                <h3 className=\"text-lg font-semibold\">\r\n                  {editingEvent ? 'Edit Event' : 'Create Event'}\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowCreateEvent(false);\r\n                    setEditingEvent(null);\r\n                  }}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"p-6 space-y-4\">\r\n                {/* Title */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Event Title *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newEvent.title || ''}\r\n                    onChange={(e) => setNewEvent(prev => ({ ...prev, title: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Enter event title\"\r\n                  />\r\n                </div>\r\n\r\n                {/* All Day Toggle */}\r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"allDay\"\r\n                    checked={newEvent.allDay || false}\r\n                    onChange={(e) => setNewEvent(prev => ({ ...prev, allDay: e.target.checked }))}\r\n                    className=\"h-4 w-4 text-blue-600 rounded\"\r\n                  />\r\n                  <label htmlFor=\"allDay\" className=\"text-sm font-medium text-gray-700\">\r\n                    All day\r\n                  </label>\r\n                </div>\r\n\r\n                {/* Date and Time */}\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Start\r\n                    </label>\r\n                    <input\r\n                      type={newEvent.allDay ? 'date' : 'datetime-local'}\r\n                      value={newEvent.start ? (newEvent.allDay \r\n                        ? newEvent.start.toISOString().split('T')[0]\r\n                        : newEvent.start.toISOString().slice(0, 16)\r\n                      ) : ''}\r\n                      onChange={(e) => setNewEvent(prev => ({ \r\n                        ...prev, \r\n                        start: new Date(e.target.value) \r\n                      }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      End\r\n                    </label>\r\n                    <input\r\n                      type={newEvent.allDay ? 'date' : 'datetime-local'}\r\n                      value={newEvent.end ? (newEvent.allDay \r\n                        ? newEvent.end.toISOString().split('T')[0]\r\n                        : newEvent.end.toISOString().slice(0, 16)\r\n                      ) : ''}\r\n                      onChange={(e) => setNewEvent(prev => ({ \r\n                        ...prev, \r\n                        end: new Date(e.target.value) \r\n                      }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Description */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    value={newEvent.description || ''}\r\n                    onChange={(e) => setNewEvent(prev => ({ ...prev, description: e.target.value }))}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Add description...\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Location */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Location\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newEvent.location || ''}\r\n                    onChange={(e) => setNewEvent(prev => ({ ...prev, location: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Add location\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Meeting Link */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    <Video className=\"inline h-4 w-4 mr-1\" />\r\n                    Meeting Link\r\n                  </label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={newEvent.meetingLink || ''}\r\n                    onChange={(e) => setNewEvent(prev => ({ ...prev, meetingLink: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"https://meet.google.com/...\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Attendees */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    <Users className=\"inline h-4 w-4 mr-1\" />\r\n                    Attendees\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter email addresses separated by commas\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    onChange={(e) => {\r\n                      const emails = e.target.value.split(',').map(email => email.trim()).filter(Boolean);\r\n                      setNewEvent(prev => ({ ...prev, attendees: emails }));\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                {/* Options Row */}\r\n                <div className=\"grid grid-cols-3 gap-4\">\r\n                  {/* Color */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Color\r\n                    </label>\r\n                    <select\r\n                      value={newEvent.color || 'blue'}\r\n                      onChange={(e) => setNewEvent(prev => ({ ...prev, color: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                      <option value=\"blue\">Blue</option>\r\n                      <option value=\"red\">Red</option>\r\n                      <option value=\"green\">Green</option>\r\n                      <option value=\"yellow\">Yellow</option>\r\n                      <option value=\"purple\">Purple</option>\r\n                      <option value=\"orange\">Orange</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Reminder */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      <Bell className=\"inline h-4 w-4 mr-1\" />\r\n                      Reminder\r\n                    </label>\r\n                    <select\r\n                      value={newEvent.reminder || 15}\r\n                      onChange={(e) => setNewEvent(prev => ({ ...prev, reminder: parseInt(e.target.value) }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                      <option value={0}>None</option>\r\n                      <option value={5}>5 minutes</option>\r\n                      <option value={15}>15 minutes</option>\r\n                      <option value={30}>30 minutes</option>\r\n                      <option value={60}>1 hour</option>\r\n                      <option value={1440}>1 day</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Repeat */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Repeat\r\n                    </label>\r\n                    <select\r\n                      value={newEvent.repeat || 'none'}\r\n                      onChange={(e) => setNewEvent(prev => ({ ...prev, repeat: e.target.value as any }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                      <option value=\"none\">Does not repeat</option>\r\n                      <option value=\"daily\">Daily</option>\r\n                      <option value=\"weekly\">Weekly</option>\r\n                      <option value=\"monthly\">Monthly</option>\r\n                      <option value=\"yearly\">Yearly</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between items-center p-4 border-t bg-gray-50\">\r\n                <div>\r\n                  {editingEvent && (\r\n                    <button\r\n                      onClick={() => {\r\n                        handleDeleteEvent(editingEvent.id);\r\n                        setShowCreateEvent(false);\r\n                        setEditingEvent(null);\r\n                      }}\r\n                      className=\"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-100 rounded-lg\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                      Delete\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowCreateEvent(false);\r\n                      setEditingEvent(null);\r\n                    }}\r\n                    className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={editingEvent ? handleUpdateEvent : handleCreateEvent}\r\n                    disabled={!newEvent.title}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n                  >\r\n                    {editingEvent ? 'Update' : 'Create'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { DashboardLayout } from '../components/DashboardLayout';\r\nimport GoogleCalendar from '../components/GoogleCalendar';\r\nimport { BhaMailTitle } from '../components/BhaMailTitle';\r\n\r\nexport function CalendarPage() {\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"h-full flex flex-col\">\r\n        <BhaMailTitle title=\"Calendar\" />\r\n        <div className=\"flex-1\">\r\n          <GoogleCalendar \r\n            isOpen={true} \r\n            onClose={() => {}}\r\n          />\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}","import { useState } from 'react';\r\nimport {\r\n  Search, Plus, User, Users, Phone, Mail, Trash2,\r\n  MoreVertical, Star, Tag, Filter, Grid, List, X,\r\n  Download, Import, Settings\r\n} from 'lucide-react';\r\n\r\ninterface Contact {\r\n  id: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  phone?: string;\r\n  company?: string;\r\n  jobTitle?: string;\r\n  address?: string;\r\n  birthday?: string;\r\n  notes?: string;\r\n  labels: string[];\r\n  starred: boolean;\r\n  avatar?: string;\r\n  lastContacted?: Date;\r\n  groups: string[];\r\n}\r\n\r\ninterface ContactGroup {\r\n  id: string;\r\n  name: string;\r\n  contactCount: number;\r\n  color: string;\r\n}\r\n\r\ninterface BhaContactsProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onContactSelect?: (contact: Contact) => void;\r\n  selectionMode?: boolean;\r\n}\r\n\r\nexport default function BhaContacts({ \r\n  isOpen, \r\n  onClose, \r\n  onContactSelect, \r\n  selectionMode = false \r\n}: BhaContactsProps) {\r\n  const [contacts, setContacts] = useState<Contact[]>([\r\n    {\r\n      id: '1',\r\n      firstName: 'John',\r\n      lastName: 'Doe',\r\n      email: 'john.doe@example.com',\r\n      phone: '+1 (555) 123-4567',\r\n      company: 'Tech Corp',\r\n      jobTitle: 'Software Engineer',\r\n      address: '123 Main St, New York, NY 10001',\r\n      birthday: '1990-05-15',\r\n      notes: 'Met at tech conference 2024',\r\n      labels: ['work', 'tech'],\r\n      starred: true,\r\n      groups: ['colleagues'],\r\n      lastContacted: new Date('2024-03-10')\r\n    },\r\n    {\r\n      id: '2',\r\n      firstName: 'Jane',\r\n      lastName: 'Smith',\r\n      email: 'jane.smith@example.com',\r\n      phone: '+1 (555) 987-6543',\r\n      company: 'Design Studio',\r\n      jobTitle: 'UX Designer',\r\n      labels: ['work', 'design'],\r\n      starred: false,\r\n      groups: ['colleagues', 'friends'],\r\n      lastContacted: new Date('2024-03-08')\r\n    },\r\n    {\r\n      id: '3',\r\n      firstName: 'Mike',\r\n      lastName: 'Johnson',\r\n      email: 'mike.johnson@example.com',\r\n      phone: '+1 (555) 456-7890',\r\n      company: 'Marketing Inc',\r\n      jobTitle: 'Marketing Manager',\r\n      labels: ['work'],\r\n      starred: true,\r\n      groups: ['colleagues'],\r\n      lastContacted: new Date('2024-03-05')\r\n    },\r\n    {\r\n      id: '4',\r\n      firstName: 'Sarah',\r\n      lastName: 'Wilson',\r\n      email: 'sarah.wilson@example.com',\r\n      phone: '+1 (555) 234-5678',\r\n      labels: ['personal', 'family'],\r\n      starred: false,\r\n      groups: ['family'],\r\n      lastContacted: new Date('2024-03-12')\r\n    }\r\n  ]);\r\n\r\n  const [groups] = useState<ContactGroup[]>([\r\n    { id: '1', name: 'Colleagues', contactCount: 3, color: 'blue' },\r\n    { id: '2', name: 'Friends', contactCount: 1, color: 'green' },\r\n    { id: '3', name: 'Family', contactCount: 1, color: 'purple' },\r\n    { id: '4', name: 'Clients', contactCount: 0, color: 'orange' }\r\n  ]);\r\n\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedGroup, setSelectedGroup] = useState<string>('all');\r\n  const [viewMode, setViewMode] = useState<'list' | 'grid'>('list');\r\n  const [selectedContacts, setSelectedContacts] = useState<string[]>([]);\r\n  const [showCreateContact, setShowCreateContact] = useState(false);\r\n  const [editingContact, setEditingContact] = useState<Contact | null>(null);\r\n  // const [showGroupManager, setShowGroupManager] = useState(false);\r\n\r\n  const [newContact, setNewContact] = useState<Partial<Contact>>({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: '',\r\n    company: '',\r\n    jobTitle: '',\r\n    address: '',\r\n    birthday: '',\r\n    notes: '',\r\n    labels: [],\r\n    starred: false,\r\n    groups: []\r\n  });\r\n\r\n  const filteredContacts = contacts.filter(contact => {\r\n    const matchesSearch = searchQuery === '' || \r\n      `${contact.firstName} ${contact.lastName}`.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      contact.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      contact.company?.toLowerCase().includes(searchQuery.toLowerCase());\r\n\r\n    const matchesGroup = selectedGroup === 'all' || \r\n      selectedGroup === 'starred' && contact.starred ||\r\n      contact.groups.includes(selectedGroup);\r\n\r\n    return matchesSearch && matchesGroup;\r\n  });\r\n\r\n  const handleContactSelect = (contact: Contact) => {\r\n    if (selectionMode && onContactSelect) {\r\n      onContactSelect(contact);\r\n      return;\r\n    }\r\n    \r\n    setEditingContact(contact);\r\n    setNewContact(contact);\r\n    setShowCreateContact(true);\r\n  };\r\n\r\n  const handleCreateContact = () => {\r\n    if (!newContact.firstName || !newContact.email) return;\r\n\r\n    const contact: Contact = {\r\n      id: Date.now().toString(),\r\n      firstName: newContact.firstName!,\r\n      lastName: newContact.lastName || '',\r\n      email: newContact.email!,\r\n      phone: newContact.phone || '',\r\n      company: newContact.company || '',\r\n      jobTitle: newContact.jobTitle || '',\r\n      address: newContact.address || '',\r\n      birthday: newContact.birthday || '',\r\n      notes: newContact.notes || '',\r\n      labels: newContact.labels || [],\r\n      starred: newContact.starred || false,\r\n      groups: newContact.groups || []\r\n    };\r\n\r\n    setContacts(prev => [...prev, contact]);\r\n    setShowCreateContact(false);\r\n    resetNewContact();\r\n  };\r\n\r\n  const handleUpdateContact = () => {\r\n    if (!editingContact || !newContact.firstName || !newContact.email) return;\r\n\r\n    const updatedContact: Contact = {\r\n      ...editingContact,\r\n      firstName: newContact.firstName!,\r\n      lastName: newContact.lastName || '',\r\n      email: newContact.email!,\r\n      phone: newContact.phone || '',\r\n      company: newContact.company || '',\r\n      jobTitle: newContact.jobTitle || '',\r\n      address: newContact.address || '',\r\n      birthday: newContact.birthday || '',\r\n      notes: newContact.notes || '',\r\n      labels: newContact.labels || [],\r\n      starred: newContact.starred || false,\r\n      groups: newContact.groups || []\r\n    };\r\n\r\n    setContacts(prev => prev.map(c => c.id === editingContact.id ? updatedContact : c));\r\n    setShowCreateContact(false);\r\n    setEditingContact(null);\r\n    resetNewContact();\r\n  };\r\n\r\n  const handleDeleteContact = (contactId: string) => {\r\n    setContacts(prev => prev.filter(c => c.id !== contactId));\r\n    if (editingContact?.id === contactId) {\r\n      setShowCreateContact(false);\r\n      setEditingContact(null);\r\n    }\r\n  };\r\n\r\n  const toggleContactStar = (contactId: string) => {\r\n    setContacts(prev => prev.map(contact => \r\n      contact.id === contactId ? { ...contact, starred: !contact.starred } : contact\r\n    ));\r\n  };\r\n\r\n  const resetNewContact = () => {\r\n    setNewContact({\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      phone: '',\r\n      company: '',\r\n      jobTitle: '',\r\n      address: '',\r\n      birthday: '',\r\n      notes: '',\r\n      labels: [],\r\n      starred: false,\r\n      groups: []\r\n    });\r\n  };\r\n\r\n  const getContactInitials = (contact: Contact) => {\r\n    return `${contact.firstName.charAt(0)}${contact.lastName.charAt(0)}`.toUpperCase();\r\n  };\r\n\r\n  const getGroupColor = (color: string) => {\r\n    const colors = {\r\n      blue: 'bg-blue-500',\r\n      green: 'bg-green-500',\r\n      purple: 'bg-purple-500',\r\n      orange: 'bg-orange-500',\r\n      red: 'bg-red-500',\r\n      yellow: 'bg-yellow-500'\r\n    };\r\n    return colors[color as keyof typeof colors] || colors.blue;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex\">\r\n        {/* Sidebar */}\r\n        <div className=\"w-64 border-r border-gray-200 bg-gray-50\">\r\n          <div className=\"p-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                <Users className=\"h-5 w-5 text-blue-600\" />\r\n                BhaContacts\r\n              </h2>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-500 hover:text-gray-700\"\r\n              >\r\n                <X className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setShowCreateContact(true)}\r\n              className=\"w-full flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 mb-4\"\r\n            >\r\n              <Plus className=\"h-4 w-4\" />\r\n              Create contact\r\n            </button>\r\n\r\n            <nav className=\"space-y-1\">\r\n              <button\r\n                onClick={() => setSelectedGroup('all')}\r\n                className={`w-full text-left px-3 py-2 rounded-lg text-sm ${\r\n                  selectedGroup === 'all' ? 'bg-blue-100 text-blue-700' : 'hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span>All contacts</span>\r\n                  <span className=\"text-gray-500\">{contacts.length}</span>\r\n                </div>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => setSelectedGroup('starred')}\r\n                className={`w-full text-left px-3 py-2 rounded-lg text-sm ${\r\n                  selectedGroup === 'starred' ? 'bg-blue-100 text-blue-700' : 'hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"flex items-center gap-2\">\r\n                    <Star className=\"h-4 w-4\" />\r\n                    Starred\r\n                  </span>\r\n                  <span className=\"text-gray-500\">{contacts.filter(c => c.starred).length}</span>\r\n                </div>\r\n              </button>\r\n\r\n              <hr className=\"my-2\" />\r\n\r\n              <div className=\"flex items-center justify-between px-3 py-2\">\r\n                <span className=\"text-xs font-medium text-gray-500 uppercase\">Groups</span>\r\n                <button\r\n                  onClick={() => {/* setShowGroupManager(true) */}}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <Settings className=\"h-3 w-3\" />\r\n                </button>\r\n              </div>\r\n\r\n              {groups.map(group => (\r\n                <button\r\n                  key={group.id}\r\n                  onClick={() => setSelectedGroup(group.id)}\r\n                  className={`w-full text-left px-3 py-2 rounded-lg text-sm ${\r\n                    selectedGroup === group.id ? 'bg-blue-100 text-blue-700' : 'hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <div className={`w-3 h-3 rounded-full ${getGroupColor(group.color)}`}></div>\r\n                      {group.name}\r\n                    </span>\r\n                    <span className=\"text-gray-500\">{group.contactCount}</span>\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 flex flex-col\">\r\n          {/* Header */}\r\n          <div className=\"border-b border-gray-200 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search contacts\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 w-80\"\r\n                  />\r\n                </div>\r\n\r\n                {selectionMode && (\r\n                  <span className=\"text-sm text-gray-600 bg-blue-100 px-3 py-1 rounded-full\">\r\n                    Select contacts to add\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n                  <Filter className=\"h-4 w-4\" />\r\n                </button>\r\n\r\n                <div className=\"flex border border-gray-300 rounded-lg overflow-hidden\">\r\n                  <button\r\n                    onClick={() => setViewMode('list')}\r\n                    className={`p-2 ${viewMode === 'list' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                  >\r\n                    <List className=\"h-4 w-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setViewMode('grid')}\r\n                    className={`p-2 ${viewMode === 'grid' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                  >\r\n                    <Grid className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n                  <Import className=\"h-4 w-4\" />\r\n                </button>\r\n\r\n                <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n                  <Download className=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contact List */}\r\n          <div className=\"flex-1 overflow-auto\">\r\n            {viewMode === 'list' ? (\r\n              <div className=\"divide-y divide-gray-200\">\r\n                {filteredContacts.map(contact => (\r\n                  <div\r\n                    key={contact.id}\r\n                    className=\"flex items-center gap-4 p-4 hover:bg-gray-50 cursor-pointer\"\r\n                    onClick={() => handleContactSelect(contact)}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedContacts.includes(contact.id)}\r\n                      onChange={(e) => {\r\n                        e.stopPropagation();\r\n                        setSelectedContacts(prev => \r\n                          e.target.checked \r\n                            ? [...prev, contact.id]\r\n                            : prev.filter(id => id !== contact.id)\r\n                        );\r\n                      }}\r\n                      className=\"h-4 w-4 text-blue-600 rounded\"\r\n                    />\r\n\r\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-sm font-medium text-gray-600\">\r\n                      {contact.avatar ? (\r\n                        <img src={contact.avatar} alt=\"\" className=\"w-10 h-10 rounded-full\" />\r\n                      ) : (\r\n                        getContactInitials(contact)\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <h3 className=\"text-sm font-medium text-gray-900 truncate\">\r\n                          {contact.firstName} {contact.lastName}\r\n                        </h3>\r\n                        {contact.starred && (\r\n                          <Star className=\"h-4 w-4 text-yellow-500 fill-current\" />\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600 truncate\">{contact.email}</p>\r\n                      {contact.company && (\r\n                        <p className=\"text-xs text-gray-500 truncate\">{contact.company}</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2 text-gray-400\">\r\n                      {contact.phone && (\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            window.location.href = `tel:${contact.phone}`;\r\n                          }}\r\n                          className=\"p-1 hover:text-green-600\"\r\n                        >\r\n                          <Phone className=\"h-4 w-4\" />\r\n                        </button>\r\n                      )}\r\n                      \r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          window.location.href = `mailto:${contact.email}`;\r\n                        }}\r\n                        className=\"p-1 hover:text-blue-600\"\r\n                      >\r\n                        <Mail className=\"h-4 w-4\" />\r\n                      </button>\r\n\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleContactStar(contact.id);\r\n                        }}\r\n                        className=\"p-1 hover:text-yellow-500\"\r\n                      >\r\n                        <Star className={`h-4 w-4 ${contact.starred ? 'text-yellow-500 fill-current' : ''}`} />\r\n                      </button>\r\n\r\n                      <button\r\n                        onClick={(e) => e.stopPropagation()}\r\n                        className=\"p-1 hover:text-gray-600\"\r\n                      >\r\n                        <MoreVertical className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"p-4 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4\">\r\n                {filteredContacts.map(contact => (\r\n                  <div\r\n                    key={contact.id}\r\n                    className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md cursor-pointer text-center\"\r\n                    onClick={() => handleContactSelect(contact)}\r\n                  >\r\n                    <div className=\"relative mb-3\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedContacts.includes(contact.id)}\r\n                        onChange={(e) => {\r\n                          e.stopPropagation();\r\n                          setSelectedContacts(prev => \r\n                            e.target.checked \r\n                              ? [...prev, contact.id]\r\n                              : prev.filter(id => id !== contact.id)\r\n                          );\r\n                        }}\r\n                        className=\"absolute top-0 right-0 h-4 w-4 text-blue-600 rounded\"\r\n                      />\r\n                      \r\n                      <div className=\"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center text-lg font-medium text-gray-600 mx-auto\">\r\n                        {contact.avatar ? (\r\n                          <img src={contact.avatar} alt=\"\" className=\"w-16 h-16 rounded-full\" />\r\n                        ) : (\r\n                          getContactInitials(contact)\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {contact.starred && (\r\n                        <Star className=\"absolute -top-1 -right-1 h-4 w-4 text-yellow-500 fill-current\" />\r\n                      )}\r\n                    </div>\r\n\r\n                    <h3 className=\"text-sm font-medium text-gray-900 truncate\">\r\n                      {contact.firstName} {contact.lastName}\r\n                    </h3>\r\n                    <p className=\"text-xs text-gray-600 truncate\">{contact.email}</p>\r\n                    {contact.company && (\r\n                      <p className=\"text-xs text-gray-500 truncate mt-1\">{contact.company}</p>\r\n                    )}\r\n\r\n                    <div className=\"flex justify-center gap-2 mt-3\">\r\n                      {contact.phone && (\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            window.location.href = `tel:${contact.phone}`;\r\n                          }}\r\n                          className=\"p-1 text-gray-400 hover:text-green-600\"\r\n                        >\r\n                          <Phone className=\"h-3 w-3\" />\r\n                        </button>\r\n                      )}\r\n                      \r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          window.location.href = `mailto:${contact.email}`;\r\n                        }}\r\n                        className=\"p-1 text-gray-400 hover:text-blue-600\"\r\n                      >\r\n                        <Mail className=\"h-3 w-3\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {filteredContacts.length === 0 && (\r\n              <div className=\"flex flex-col items-center justify-center h-64 text-gray-500\">\r\n                <User className=\"h-12 w-12 text-gray-400 mb-4\" />\r\n                <p className=\"text-lg font-medium\">No contacts found</p>\r\n                <p className=\"text-sm\">Try adjusting your search or filters</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Selection Actions */}\r\n          {selectedContacts.length > 0 && (\r\n            <div className=\"border-t bg-gray-50 p-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-gray-600\">\r\n                  {selectedContacts.length} contact{selectedContacts.length !== 1 ? 's' : ''} selected\r\n                </span>\r\n                \r\n                <div className=\"flex items-center gap-2\">\r\n                  {selectionMode ? (\r\n                    <button\r\n                      onClick={() => {\r\n                        const selectedContactObjects = contacts.filter(c => selectedContacts.includes(c.id));\r\n                        selectedContactObjects.forEach(contact => onContactSelect?.(contact));\r\n                      }}\r\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n                    >\r\n                      Add Selected\r\n                    </button>\r\n                  ) : (\r\n                    <>\r\n                      <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                        <Mail className=\"h-4 w-4\" />\r\n                        Email\r\n                      </button>\r\n                      <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                        <Tag className=\"h-4 w-4\" />\r\n                        Label\r\n                      </button>\r\n                      <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                        <Users className=\"h-4 w-4\" />\r\n                        Group\r\n                      </button>\r\n                      <button className=\"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-100 rounded\">\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                        Delete\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Create/Edit Contact Modal */}\r\n        {showCreateContact && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-auto\">\r\n              <div className=\"flex items-center justify-between p-4 border-b\">\r\n                <h3 className=\"text-lg font-semibold\">\r\n                  {editingContact ? 'Edit Contact' : 'Create Contact'}\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowCreateContact(false);\r\n                    setEditingContact(null);\r\n                    resetNewContact();\r\n                  }}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"p-6 space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      First Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newContact.firstName || ''}\r\n                      onChange={(e) => setNewContact(prev => ({ ...prev, firstName: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Last Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newContact.lastName || ''}\r\n                      onChange={(e) => setNewContact(prev => ({ ...prev, lastName: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Email *\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={newContact.email || ''}\r\n                    onChange={(e) => setNewContact(prev => ({ ...prev, email: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Phone\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={newContact.phone || ''}\r\n                    onChange={(e) => setNewContact(prev => ({ ...prev, phone: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Company\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newContact.company || ''}\r\n                      onChange={(e) => setNewContact(prev => ({ ...prev, company: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Job Title\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newContact.jobTitle || ''}\r\n                      onChange={(e) => setNewContact(prev => ({ ...prev, jobTitle: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Address\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newContact.address || ''}\r\n                    onChange={(e) => setNewContact(prev => ({ ...prev, address: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Birthday\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={newContact.birthday || ''}\r\n                    onChange={(e) => setNewContact(prev => ({ ...prev, birthday: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Notes\r\n                  </label>\r\n                  <textarea\r\n                    value={newContact.notes || ''}\r\n                    onChange={(e) => setNewContact(prev => ({ ...prev, notes: e.target.value }))}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"starred\"\r\n                    checked={newContact.starred || false}\r\n                    onChange={(e) => setNewContact(prev => ({ ...prev, starred: e.target.checked }))}\r\n                    className=\"h-4 w-4 text-blue-600 rounded\"\r\n                  />\r\n                  <label htmlFor=\"starred\" className=\"text-sm font-medium text-gray-700 flex items-center gap-1\">\r\n                    <Star className=\"h-4 w-4\" />\r\n                    Star this contact\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between items-center p-4 border-t bg-gray-50\">\r\n                <div>\r\n                  {editingContact && (\r\n                    <button\r\n                      onClick={() => {\r\n                        handleDeleteContact(editingContact.id);\r\n                        setShowCreateContact(false);\r\n                        setEditingContact(null);\r\n                      }}\r\n                      className=\"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-100 rounded-lg\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                      Delete\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowCreateContact(false);\r\n                      setEditingContact(null);\r\n                      resetNewContact();\r\n                    }}\r\n                    className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={editingContact ? handleUpdateContact : handleCreateContact}\r\n                    disabled={!newContact.firstName || !newContact.email}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n                  >\r\n                    {editingContact ? 'Update' : 'Create'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { DashboardLayout } from '../components/DashboardLayout';\r\nimport GoogleContacts from '../components/GoogleContacts';\r\nimport { BhaMailTitle } from '../components/BhaMailTitle';\r\n\r\nexport function ContactsPage() {\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"h-full flex flex-col\">\r\n        <BhaMailTitle title=\"Contacts\" />\r\n        <div className=\"flex-1\">\r\n          <GoogleContacts \r\n            isOpen={true} \r\n            onClose={() => {}} \r\n          />\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}","import { useState, useRef } from 'react';\r\nimport {\r\n  Search, Upload, Download, Share2, MoreVertical,\r\n  Folder, File, FileText, Image, Video, Music,\r\n  Star, Users, Trash2, Copy, Move,\r\n  Grid3X3, List, Info, Plus, X, RefreshCw,\r\n  Settings, FolderPlus\r\n} from 'lucide-react';\r\n\r\ninterface DriveFile {\r\n  id: string;\r\n  name: string;\r\n  type: 'folder' | 'document' | 'spreadsheet' | 'presentation' | 'image' | 'video' | 'audio' | 'pdf' | 'other';\r\n  size?: number;\r\n  modified: Date;\r\n  owner: string;\r\n  shared: boolean;\r\n  starred: boolean;\r\n  thumbnail?: string;\r\n  permissions: 'view' | 'edit' | 'owner';\r\n  url?: string;\r\n  parent?: string;\r\n}\r\n\r\ninterface BhaDriveProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onFileSelect?: (file: DriveFile) => void;\r\n  selectionMode?: boolean;\r\n}\r\n\r\nexport default function BhaDrive({ isOpen, onClose, onFileSelect, selectionMode = false }: BhaDriveProps) {\r\n  const [files, setFiles] = useState<DriveFile[]>([\r\n    {\r\n      id: '1',\r\n      name: 'Business Proposal 2024',\r\n      type: 'document',\r\n      size: 2485760,\r\n      modified: new Date('2024-03-15'),\r\n      owner: 'john.doe@example.com',\r\n      shared: true,\r\n      starred: false,\r\n      permissions: 'edit'\r\n    },\r\n    {\r\n      id: '2',\r\n      name: 'Marketing Assets',\r\n      type: 'folder',\r\n      modified: new Date('2024-03-14'),\r\n      owner: 'jane.smith@example.com',\r\n      shared: true,\r\n      starred: true,\r\n      permissions: 'edit'\r\n    },\r\n    {\r\n      id: '3',\r\n      name: 'Q1 Financial Report',\r\n      type: 'spreadsheet',\r\n      size: 1024000,\r\n      modified: new Date('2024-03-13'),\r\n      owner: 'finance@example.com',\r\n      shared: false,\r\n      starred: true,\r\n      permissions: 'view'\r\n    },\r\n    {\r\n      id: '4',\r\n      name: 'Product Presentation',\r\n      type: 'presentation',\r\n      size: 5242880,\r\n      modified: new Date('2024-03-12'),\r\n      owner: 'product@example.com',\r\n      shared: true,\r\n      starred: false,\r\n      permissions: 'edit'\r\n    },\r\n    {\r\n      id: '5',\r\n      name: 'Team Photo 2024',\r\n      type: 'image',\r\n      size: 3145728,\r\n      modified: new Date('2024-03-11'),\r\n      owner: 'hr@example.com',\r\n      shared: false,\r\n      starred: false,\r\n      permissions: 'view'\r\n    }\r\n  ]);\r\n\r\n  const [currentFolder, setCurrentFolder] = useState<string>('');\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('list');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedFiles, setSelectedFiles] = useState<string[]>([]);\r\n  const [sortBy, setSortBy] = useState<'name' | 'modified' | 'size'>('modified');\r\n  const [filterType, setFilterType] = useState<string>('all');\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [showShareDialog, setShowShareDialog] = useState<string | null>(null);\r\n  const [showCreateMenu, setShowCreateMenu] = useState(false);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const getFileIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'folder': return <Folder className=\"h-5 w-5 text-blue-600\" />;\r\n      case 'document': return <FileText className=\"h-5 w-5 text-blue-600\" />;\r\n      case 'spreadsheet': return <FileText className=\"h-5 w-5 text-green-600\" />;\r\n      case 'presentation': return <FileText className=\"h-5 w-5 text-orange-600\" />;\r\n      case 'image': return <Image className=\"h-5 w-5 text-purple-600\" />;\r\n      case 'video': return <Video className=\"h-5 w-5 text-red-600\" />;\r\n      case 'audio': return <Music className=\"h-5 w-5 text-pink-600\" />;\r\n      case 'pdf': return <File className=\"h-5 w-5 text-red-600\" />;\r\n      default: return <File className=\"h-5 w-5 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes?: number) => {\r\n    if (!bytes) return '';\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (date: Date) => {\r\n    const now = new Date();\r\n    const diffDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays === 0) return 'Today';\r\n    if (diffDays === 1) return 'Yesterday';\r\n    if (diffDays < 7) return `${diffDays} days ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  const filteredFiles = files\r\n    .filter(file => {\r\n      if (filterType !== 'all' && file.type !== filterType) return false;\r\n      if (searchQuery && !file.name.toLowerCase().includes(searchQuery.toLowerCase())) return false;\r\n      return true;\r\n    })\r\n    .sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'name': return a.name.localeCompare(b.name);\r\n        case 'size': return (b.size || 0) - (a.size || 0);\r\n        case 'modified': return b.modified.getTime() - a.modified.getTime();\r\n        default: return 0;\r\n      }\r\n    });\r\n\r\n  const handleFileUpload = (files: FileList) => {\r\n    setIsUploading(true);\r\n    \r\n    Array.from(files).forEach(file => {\r\n      const newFile: DriveFile = {\r\n        id: Date.now().toString(),\r\n        name: file.name,\r\n        type: file.type.startsWith('image/') ? 'image' : \r\n              file.type.startsWith('video/') ? 'video' :\r\n              file.type.startsWith('audio/') ? 'audio' :\r\n              file.type === 'application/pdf' ? 'pdf' : 'other',\r\n        size: file.size,\r\n        modified: new Date(),\r\n        owner: 'you@example.com',\r\n        shared: false,\r\n        starred: false,\r\n        permissions: 'owner'\r\n      };\r\n      \r\n      setFiles(prev => [...prev, newFile]);\r\n    });\r\n\r\n    setTimeout(() => setIsUploading(false), 2000);\r\n  };\r\n\r\n  const handleFileSelect = (file: DriveFile) => {\r\n    if (selectionMode && onFileSelect) {\r\n      onFileSelect(file);\r\n      return;\r\n    }\r\n\r\n    if (file.type === 'folder') {\r\n      setCurrentFolder(file.id);\r\n    } else {\r\n      // Open file in new tab or handle file opening\r\n      console.log('Opening file:', file.name);\r\n    }\r\n  };\r\n\r\n  const toggleFileSelection = (fileId: string, event: React.ChangeEvent<HTMLInputElement> | React.MouseEvent) => {\r\n    event.stopPropagation();\r\n    setSelectedFiles(prev => \r\n      prev.includes(fileId) \r\n        ? prev.filter(id => id !== fileId)\r\n        : [...prev, fileId]\r\n    );\r\n  };\r\n\r\n  const handleShare = (fileId: string) => {\r\n    setShowShareDialog(fileId);\r\n  };\r\n\r\n  const toggleStar = (fileId: string) => {\r\n    setFiles(prev => prev.map(file => \r\n      file.id === fileId ? { ...file, starred: !file.starred } : file\r\n    ));\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n              <div className=\"w-6 h-6 bg-gradient-to-r from-blue-500 to-green-500 rounded\"></div>\r\n              BhaDrive\r\n            </h2>\r\n            \r\n            {selectionMode && (\r\n              <span className=\"text-sm text-gray-600 bg-blue-100 px-2 py-1 rounded\">\r\n                Select files to attach\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100\"\r\n          >\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Toolbar */}\r\n        <div className=\"flex items-center justify-between p-4 border-b bg-gray-50\">\r\n          <div className=\"flex items-center gap-4\">\r\n            {/* Create Button */}\r\n            <div className=\"relative\">\r\n              <button\r\n                onClick={() => setShowCreateMenu(!showCreateMenu)}\r\n                className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                <Plus className=\"h-4 w-4\" />\r\n                New\r\n              </button>\r\n              \r\n              {showCreateMenu && (\r\n                <div className=\"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 w-48\">\r\n                  <div className=\"p-2 space-y-1\">\r\n                    <button className=\"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded\">\r\n                      <FolderPlus className=\"h-4 w-4\" />\r\n                      Folder\r\n                    </button>\r\n                    <hr className=\"my-1\" />\r\n                    <button className=\"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded\">\r\n                      <FileText className=\"h-4 w-4 text-blue-600\" />\r\n                      BhaDocs\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded\">\r\n                      <FileText className=\"h-4 w-4 text-green-600\" />\r\n                      BhaSheets\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded\">\r\n                      <FileText className=\"h-4 w-4 text-orange-600\" />\r\n                      BhaSlides\r\n                    </button>\r\n                    <hr className=\"my-1\" />\r\n                    <button\r\n                      onClick={() => fileInputRef.current?.click()}\r\n                      className=\"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded\"\r\n                    >\r\n                      <Upload className=\"h-4 w-4\" />\r\n                      File upload\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 rounded\">\r\n                      <Upload className=\"h-4 w-4\" />\r\n                      Folder upload\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Search */}\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search in BhaDrive\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-80\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            {/* Filter */}\r\n            <select\r\n              value={filterType}\r\n              onChange={(e) => setFilterType(e.target.value)}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"all\">All files</option>\r\n              <option value=\"folder\">Folders</option>\r\n              <option value=\"document\">Documents</option>\r\n              <option value=\"spreadsheet\">Spreadsheets</option>\r\n              <option value=\"presentation\">Presentations</option>\r\n              <option value=\"image\">Images</option>\r\n              <option value=\"video\">Videos</option>\r\n            </select>\r\n\r\n            {/* Sort */}\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => setSortBy(e.target.value as any)}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"modified\">Last modified</option>\r\n              <option value=\"name\">Name</option>\r\n              <option value=\"size\">Size</option>\r\n            </select>\r\n\r\n            {/* View Mode */}\r\n            <div className=\"flex border border-gray-300 rounded-lg overflow-hidden\">\r\n              <button\r\n                onClick={() => setViewMode('list')}\r\n                className={`p-2 ${viewMode === 'list' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n              >\r\n                <List className=\"h-4 w-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setViewMode('grid')}\r\n                className={`p-2 ${viewMode === 'grid' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n              >\r\n                <Grid3X3 className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Info */}\r\n            <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n              <Info className=\"h-4 w-4\" />\r\n            </button>\r\n\r\n            {/* Settings */}\r\n            <button className=\"p-2 text-gray-500 hover:text-gray-700 rounded\">\r\n              <Settings className=\"h-4 w-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Breadcrumb */}\r\n        <div className=\"px-4 py-2 border-b\">\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <button\r\n              onClick={() => setCurrentFolder('')}\r\n              className=\"text-blue-600 hover:underline\"\r\n            >\r\n              My BhaDrive\r\n            </button>\r\n            {currentFolder && (\r\n              <>\r\n                <span className=\"text-gray-400\">/</span>\r\n                <span className=\"text-gray-600\">Current Folder</span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* File List */}\r\n        <div className=\"flex-1 overflow-auto\">\r\n          {isUploading && (\r\n            <div className=\"p-4 bg-blue-50 border-b border-blue-200\">\r\n              <div className=\"flex items-center gap-2 text-blue-700\">\r\n                <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                Uploading files...\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {viewMode === 'list' ? (\r\n            <div className=\"overflow-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50 sticky top-0\">\r\n                  <tr>\r\n                    <th className=\"text-left py-3 px-4 font-medium text-gray-600\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"rounded\"\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            setSelectedFiles(filteredFiles.map(f => f.id));\r\n                          } else {\r\n                            setSelectedFiles([]);\r\n                          }\r\n                        }}\r\n                      />\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-medium text-gray-600\">Name</th>\r\n                    <th className=\"text-left py-3 px-4 font-medium text-gray-600\">Owner</th>\r\n                    <th className=\"text-left py-3 px-4 font-medium text-gray-600\">Last modified</th>\r\n                    <th className=\"text-left py-3 px-4 font-medium text-gray-600\">File size</th>\r\n                    <th className=\"text-left py-3 px-4 font-medium text-gray-600\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredFiles.map((file) => (\r\n                    <tr\r\n                      key={file.id}\r\n                      className=\"hover:bg-gray-50 cursor-pointer border-b border-gray-100\"\r\n                      onClick={() => handleFileSelect(file)}\r\n                    >\r\n                      <td className=\"py-3 px-4\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedFiles.includes(file.id)}\r\n                          onChange={(e) => toggleFileSelection(file.id, e)}\r\n                          className=\"rounded\"\r\n                          onClick={(e) => e.stopPropagation()}\r\n                        />\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          {getFileIcon(file.type)}\r\n                          <div>\r\n                            <div className=\"font-medium text-gray-900\">{file.name}</div>\r\n                            {file.shared && (\r\n                              <div className=\"flex items-center gap-1 text-xs text-gray-500\">\r\n                                <Users className=\"h-3 w-3\" />\r\n                                Shared\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          {file.starred && (\r\n                            <Star className=\"h-4 w-4 text-yellow-500 fill-current\" />\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-gray-600\">{file.owner}</td>\r\n                      <td className=\"py-3 px-4 text-gray-600\">{formatDate(file.modified)}</td>\r\n                      <td className=\"py-3 px-4 text-gray-600\">{formatFileSize(file.size)}</td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              toggleStar(file.id);\r\n                            }}\r\n                            className=\"p-1 text-gray-400 hover:text-yellow-500 rounded\"\r\n                          >\r\n                            <Star className={`h-4 w-4 ${file.starred ? 'text-yellow-500 fill-current' : ''}`} />\r\n                          </button>\r\n                          \r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleShare(file.id);\r\n                            }}\r\n                            className=\"p-1 text-gray-400 hover:text-blue-600 rounded\"\r\n                          >\r\n                            <Share2 className=\"h-4 w-4\" />\r\n                          </button>\r\n                          \r\n                          <button\r\n                            onClick={(e) => e.stopPropagation()}\r\n                            className=\"p-1 text-gray-400 hover:text-gray-600 rounded\"\r\n                          >\r\n                            <MoreVertical className=\"h-4 w-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ) : (\r\n            <div className=\"p-4 grid grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4\">\r\n              {filteredFiles.map((file) => (\r\n                <div\r\n                  key={file.id}\r\n                  className=\"group relative bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md cursor-pointer\"\r\n                  onClick={() => handleFileSelect(file)}\r\n                >\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedFiles.includes(file.id)}\r\n                      onChange={(e) => toggleFileSelection(file.id, e)}\r\n                      className=\"absolute top-0 right-0 z-10 rounded\"\r\n                      onClick={(e) => e.stopPropagation()}\r\n                    />\r\n                    \r\n                    <div className=\"flex flex-col items-center text-center\">\r\n                      <div className=\"mb-2\">\r\n                        {file.thumbnail ? (\r\n                          <img src={file.thumbnail} alt={file.name} className=\"w-12 h-12 object-cover rounded\" />\r\n                        ) : (\r\n                          <div className=\"w-12 h-12 flex items-center justify-center\">\r\n                            {getFileIcon(file.type)}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"text-sm font-medium text-gray-900 truncate w-full\" title={file.name}>\r\n                        {file.name}\r\n                      </div>\r\n                      \r\n                      <div className=\"text-xs text-gray-500 mt-1\">\r\n                        {formatDate(file.modified)}\r\n                      </div>\r\n                      \r\n                      {file.starred && (\r\n                        <Star className=\"absolute top-8 right-8 h-3 w-3 text-yellow-500 fill-current\" />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Selection Actions */}\r\n        {selectedFiles.length > 0 && (\r\n          <div className=\"border-t bg-gray-50 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-gray-600\">\r\n                {selectedFiles.length} item{selectedFiles.length !== 1 ? 's' : ''} selected\r\n              </span>\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                {selectionMode ? (\r\n                  <button\r\n                    onClick={() => {\r\n                      const selectedFileObjects = files.filter(f => selectedFiles.includes(f.id));\r\n                      selectedFileObjects.forEach(file => onFileSelect?.(file));\r\n                    }}\r\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n                  >\r\n                    Attach Selected\r\n                  </button>\r\n                ) : (\r\n                  <>\r\n                    <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                      <Share2 className=\"h-4 w-4\" />\r\n                      Share\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                      <Download className=\"h-4 w-4\" />\r\n                      Download\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                      <Copy className=\"h-4 w-4\" />\r\n                      Copy\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-200 rounded\">\r\n                      <Move className=\"h-4 w-4\" />\r\n                      Move\r\n                    </button>\r\n                    <button className=\"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-100 rounded\">\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                      Delete\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Share Dialog */}\r\n        {showShareDialog && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md\">\r\n              <div className=\"flex items-center justify-between p-4 border-b\">\r\n                <h3 className=\"text-lg font-semibold\">Share file</h3>\r\n                <button\r\n                  onClick={() => setShowShareDialog(null)}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"p-4 space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Add people and groups\r\n                  </label>\r\n                  <div className=\"flex gap-2\">\r\n                    <input\r\n                      type=\"email\"\r\n                      placeholder=\"Enter email addresses\"\r\n                      className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                    <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\r\n                      Send\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Get link\r\n                  </label>\r\n                  <div className=\"flex gap-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value=\"https://bhadrive.bhamail.com/file/d/abc123\"\r\n                      readOnly\r\n                      className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\r\n                    />\r\n                    <button className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n                      <Copy className=\"h-4 w-4\" />\r\n                      Copy\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end gap-2 p-4 border-t\">\r\n                <button\r\n                  onClick={() => setShowShareDialog(null)}\r\n                  className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\r\n                  Done\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Hidden File Input */}\r\n        <input\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          multiple\r\n          className=\"hidden\"\r\n          onChange={(e) => {\r\n            if (e.target.files) {\r\n              handleFileUpload(e.target.files);\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { DashboardLayout } from '../components/DashboardLayout';\r\nimport GoogleDrive from '../components/GoogleDrive';\r\nimport { BhaMailTitle } from '../components/BhaMailTitle';\r\n\r\nexport function DrivePage() {\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"h-full flex flex-col\">\r\n        <BhaMailTitle title=\"Drive\" />\r\n        <div className=\"flex-1\">\r\n          <GoogleDrive \r\n            isOpen={true} \r\n            onClose={() => {}}\r\n          />\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}","import { Routes, Route, Navigate } from 'react-router-dom'\r\nimport { useAuthStore } from './stores/auth'\r\nimport { LoginPage, RegisterPage, InboxPage, ComposePage, SettingsPage, ThreadPage } from './pages'\r\nimport { SearchPage } from './pages/Search'\r\nimport LabelsPage from './pages/Labels'\r\nimport { StarredPage } from './pages/Starred'\r\nimport { AllMailPage } from './pages/AllMail'\r\nimport { SnoozedPage } from './pages/Snoozed'\r\nimport { ImportantPage } from './pages/Important'\r\nimport { SentPage } from './pages/Sent'\r\nimport { DraftsPage } from './pages/Drafts'\r\nimport { SpamPage } from './pages/Spam'\r\nimport { TrashPage } from './pages/Trash'\r\nimport { CalendarPage } from './pages/Calendar'\r\nimport { ContactsPage } from './pages/Contacts'\r\nimport { DrivePage } from './pages/Drive'\r\nimport { DashboardLayout } from './components/DashboardLayout'\r\n\r\nfunction App() {\r\n  const { isAuthenticated } = useAuthStore()\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      <Routes>\r\n        <Route \r\n          path=\"/login\" \r\n          element={isAuthenticated ? <Navigate to=\"/inbox\" /> : <LoginPage />} \r\n        />\r\n        <Route \r\n          path=\"/register\" \r\n          element={isAuthenticated ? <Navigate to=\"/inbox\" /> : <RegisterPage />} \r\n        />\r\n        <Route \r\n          path=\"/\" \r\n          element={isAuthenticated ? <Navigate to=\"/inbox\" /> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/dashboard\" \r\n          element={isAuthenticated ? <Navigate to=\"/inbox\" /> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/inbox\" \r\n          element={isAuthenticated ? <DashboardLayout><InboxPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/compose\" \r\n          element={isAuthenticated ? <DashboardLayout><ComposePage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/thread/:threadId\" \r\n          element={isAuthenticated ? <DashboardLayout><ThreadPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/settings\" \r\n          element={isAuthenticated ? <DashboardLayout><SettingsPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/search\" \r\n          element={isAuthenticated ? <DashboardLayout><SearchPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/labels\" \r\n          element={isAuthenticated ? <DashboardLayout><LabelsPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/starred\" \r\n          element={isAuthenticated ? <DashboardLayout><StarredPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/all\" \r\n          element={isAuthenticated ? <DashboardLayout><AllMailPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/snoozed\" \r\n          element={isAuthenticated ? <DashboardLayout><SnoozedPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/important\" \r\n          element={isAuthenticated ? <DashboardLayout><ImportantPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/sent\" \r\n          element={isAuthenticated ? <DashboardLayout><SentPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/drafts\" \r\n          element={isAuthenticated ? <DashboardLayout><DraftsPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/spam\" \r\n          element={isAuthenticated ? <DashboardLayout><SpamPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/trash\" \r\n          element={isAuthenticated ? <DashboardLayout><TrashPage /></DashboardLayout> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/calendar\" \r\n          element={isAuthenticated ? <CalendarPage /> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/contacts\" \r\n          element={isAuthenticated ? <ContactsPage /> : <Navigate to=\"/login\" />}\r\n        />\r\n        <Route \r\n          path=\"/drive\" \r\n          element={isAuthenticated ? <DrivePage /> : <Navigate to=\"/login\" />}\r\n        />\r\n      </Routes>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\n// Register service worker for PWA\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/sw.js')\r\n      .then((registration) => {\r\n        console.log('SW registered: ', registration)\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('SW registration failed: ', registrationError)\r\n      })\r\n  })\r\n}\r\n\r\n// Create React Query client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n      <ReactQueryDevtools initialIsOpen={false} />\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n)"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","Subscribable","listener","defaultTimeoutProvider","callback","delay","timeoutId","intervalId","TimeoutManager","_a","__privateAdd","_provider","_providerCalled","provider","__privateSet","__privateGet","timeoutManager","systemSetTimeoutZero","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","status","mutationKey","hashKey","options","_","val","isPlainObject","result","key","hasOwn","replaceEqualDeep","array","isPlainArray","aSize","bItems","bSize","copy","equalItems","i","aItem","bItem","v","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","replaceData","prevData","data","addToEnd","items","item","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","_focused","_cleanup","_setup","onFocus","setup","focused","isFocused","focusManager","pendingThenable","reject","thenable","_resolve","_reject","finalize","reason","defaultScheduler","createNotifyManager","queue","transactions","notifyFn","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","args","fn","notifyManager","OnlineManager","_online","onOnline","onlineListener","offlineListener","online","onlineManager","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","createRetryer","config","isRetryCancelled","continueFn","isResolved","cancel","cancelOptions","error","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","retry","retryDelay","shouldRetry","Removable","_gcTimeout","newGcTime","Query","_dispatch","_initialState","_revertState","_cache","_client","_retryer","_defaultOptions","_abortSignalConsumed","getDefaultState","defaultState","newData","__privateMethod","dispatch_fn","state","setStateOptions","promise","_b","observer","x","abortController","addSignalProperty","object","fetchFn","queryFn","queryFnContext","queryFnContext2","context","context2","_c","_d","_f","_e","_h","_g","_j","_i","_l","_k","action","reducer","fetchState","newState","hasData","initialDataUpdatedAt","infiniteQueryBehavior","pages","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","Mutation","_observers","_mutationCache","variables","onContinue","restored","isPaused","_n","_m","_p","_o","_r","_q","_t","_s","MutationCache","_mutations","_scopes","_mutationId","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","foundMutation","defaultedFilters","event","pausedMutations","QueryCache","_queries","queryHash","queryInMap","queries","QueryClient","_queryCache","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","defaultedOptions","cachedData","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","React.createContext","QueryClientProvider","children","React.useEffect","jsx","ReactQueryDevtools2","createStoreImpl","createState","listeners","setState","partial","replace","nextState","previousState","getState","api","initialState","createStore","React","is","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","createJSONStorage","getStorage","storage","name","parse","str2","str","newValue","toThenable","onFulfilled","_onRejected","_onFulfilled","onRejected","oldImpl","baseOptions","set","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","thenableSerialize","setItem","errorInSync","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","migrationResult","migrated","persistImpl","persist","useAuthStore","user","token","refreshToken","isLoading","Login","step","setStep","email","setEmail","password","setPassword","showCreateOptions","setShowCreateOptions","selectedLanguage","setSelectedLanguage","login","navigate","useNavigate","handleEmailSubmit","handlePasswordSubmit","handleCreateAccount","jsxs","Link","bind","thisArg","toString","getPrototypeOf","iterator","toStringTag","kindOf","cache","thing","kindOfTest","typeOfTest","isArray","isUndefined","isBuffer","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isObject","isBoolean","prototype","isEmptyObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","findKey","_key","_global","isContextDefined","merge","caseless","skipUndefined","assignValue","targetKey","extend","stripBOM","content","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","toArray","arr","isTypedArray","TypedArray","forEachEntry","_iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducedDescriptors","descriptor","ret","freezeMethods","toObjectSet","arrayOrString","delimiter","define","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","callbacks","asap","isIterable","utils$1","AxiosError","message","code","request","response","utils","customProps","axiosError","msg","errCode","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","params","encoder","_encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","id","InterceptorManager$1","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","method","defaults$1","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","dest","entry","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","mapped","headerValue","AxiosHeaders$1","transformData","fns","isCancel","CanceledError","settle","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","domain","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","formHeaders","allowedHeaders","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","timeoutErrorMessage","protocol","composeSignals","signals","length","controller","aborted","onabort","unsubscribe","signal","composeSignals$1","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","DEFAULT_CHUNK_SIZE","globalFetchAPI","fetch","Request","Response","ReadableStream","TextEncoder","test","factory","env","isFetchSupported","isRequestSupported","isResponseSupported","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","res","getBodyLength","body","resolveBodyLength","cancelToken","withCredentials","composedSignal","requestContentLength","_request","contentTypeHeader","isCredentialsSupported","resolvedOptions","isStreamResponse","responseContentLength","responseData","seedCache","getFetch","seeds","seed","map","knownAdapters","fetchAdapter.getFetch","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","s","throwIfCancellationRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","fullPath","generateHTTPMethod","isForm","Axios$1","CancelToken","executor","resolvePromise","onfulfilled","abort","CancelToken$1","spread","isAxiosError","payload","HttpStatusCode","HttpStatusCode$1","createInstance","defaultConfig","instance","axios","axios$1","originalRequest","newToken","authApi","totpCode","mailApi","threadId","messageId","starred","folder","BhaMailLogo","size","showText","sizeClasses","iconSizeClasses","textSizeClasses","Mail","RegisterPage","setFormData","setIsLoading","setError","handleChange","prev","handleSubmit","passwordStrength","Check","Shield","BhaMailLoading","fullPage","containerClass","BhaMailErrorPage","title","showHome","showRefresh","onRefresh","AlertTriangle","RefreshCw","Home","BhaMailTitle","unreadCount","baseTitle","fullTitle","InboxPage","emails","setEmails","selectedEmails","setSelectedEmails","selectAll","setSelectAll","showMoreActions","setShowMoreActions","setCurrentPage","totalPages","loadEmails","toggleEmailSelection","emailId","newSelected","toggleSelectAll","handleBulkAction","emailIds","toggleStar","isStarred","formatDate","date","diffTime","diffDays","Fragment","Archive","Trash2","Eye","EyeOff","Clock","MoreHorizontal","Tag","Download","Printer","Filter","RotateCcw","ChevronLeft","ChevronRight","Star","Circle","Paperclip","label","ComposePage","to","setTo","cc","setCc","bcc","setBcc","subject","setSubject","setBody","showCcBcc","setShowCcBcc","isMinimized","setIsMinimized","isFullscreen","setIsFullscreen","showSchedule","setShowSchedule","showConfidential","setShowConfidential","isConfidential","setIsConfidential","formatting","setFormatting","success","setSuccess","bodyRef","parseRecipients","recipientString","handleSend","recipients","ccRecipients","bccRecipients","handleSaveDraft","Minimize2","Maximize2","X","Bold","Italic","Underline","AlignLeft","AlignCenter","AlignRight","List","ListOrdered","Smile","Image","Send","SettingsPage","activeTab","setActiveTab","successMessage","setSuccessMessage","errorMessage","setErrorMessage","settings","setSettings","tabs","Settings","Inbox","User","Bell","handleSaveSettings","updateSettings","updateNestedSettings","parent","Save","CheckCircle","AlertCircle","tab","Icon","Globe","Palette","theme","Forward","Ban","Key","Monitor","Info","ThreadPage","useParams","thread","setThread","expandedMessages","setExpandedMessages","replyToMessage","setReplyToMessage","replyMode","setReplyMode","replyBody","setReplyBody","showQuotedText","setShowQuotedText","loadThread","latestMessage","toggleMessageExpansion","newSet","toggleQuotedText","handleReply","mode","targetMessage","recipient","r","archiveThread","deleteThread","markAsSpam","toggleImportant","diffInHours","formatFullDate","formatFileSize","sizes","getMessagePreview","text","splitQuotedContent","lines","quotedStart","isExpanded","isLatest","main","quoted","showQuoted","attachment","SearchPage","searchParams","useSearchParams","showAdvanced","setShowAdvanced","results","setResults","totalResults","setTotalResults","setFilters","performSearch","searchQuery","buildSearchQuery","queryParts","handleSearch","handleAdvancedSearch","labelColors","LabelsPage","labels","setLabels","setSearchQuery","selectedLabels","setSelectedLabels","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","editingLabel","setEditingLabel","expandedLabels","setExpandedLabels","newLabel","setNewLabel","systemLabels","loadLabels","mockLabels","handleCreateLabel","handleUpdateLabel","labelId","updates","handleDeleteLabel","filteredLabels","getNestedLabels","topLevel","nested","Plus","Search","sum","LabelItem","CreateLabelModal","onEdit","onDelete","onUpdate","hasNested","toggleExpanded","newExpanded","toggleSelected","ChevronDown","Edit2","nestedLabel","onSave","onCancel","colors","isEditing","color","parentLabel","StarredPage","loadStarredEmails","AllMailPage","totalEmails","setTotalEmails","emailsPerPage","loadAllEmails","getFolderIcon","SnoozedPage","loadSnoozedEmails","unsnoozeEmail","formatSnoozeTime","snoozeUntil","snoozeDate","diffHours","diffMinutes","ImportantPage","handleEmailSelect","handleSelectAll","handleMarkAsRead","handleArchive","handleDelete","handleToggleImportant","formatTimestamp","diffInDays","Delete","SentPage","Loader","DraftsPage","FileEdit","SpamPage","TrashPage","BhaMailHeader","onToggleSidebar","showSidebarToggle","logout","showAppsMenu","setShowAppsMenu","showUserMenu","setShowUserMenu","googleApps","Calendar","Users","FolderOpen","Video","handleLogout","AppIcon","app","Menu","HelpCircle","Grid3X3","LogOut","BhaMailSidebar","isCollapsed","location","useLocation","showGoogleServices","setShowGoogleServices","showLabels","setShowLabels","mailItems","FileText","googleServices","customLabels","NavItem","count","external","className","service","DashboardLayout","showSidebar","isSidebarCollapsed","setIsSidebarCollapsed","toggleSidebar","BhaCalendar","isOpen","onClose","onEventCreate","onEventEdit","onEventDelete","currentDate","setCurrentDate","viewMode","setViewMode","showCreateEvent","setShowCreateEvent","editingEvent","setEditingEvent","events","setEvents","newEvent","setNewEvent","monthNames","dayNames","getCalendarDays","year","month","firstDay","startDate","days","current","getEventsForDate","handleDateClick","handleCreateEvent","handleEditEvent","handleUpdateEvent","updatedEvent","handleDeleteEvent","eventId","navigateMonth","newDate","formatTime","getEventColor","day","isCurrentMonth","isToday","dayEvents","CalendarPage","GoogleCalendar","BhaContacts","onContactSelect","selectionMode","contacts","setContacts","groups","selectedGroup","setSelectedGroup","selectedContacts","setSelectedContacts","showCreateContact","setShowCreateContact","editingContact","setEditingContact","newContact","setNewContact","filteredContacts","contact","matchesSearch","matchesGroup","handleContactSelect","handleCreateContact","resetNewContact","handleUpdateContact","updatedContact","handleDeleteContact","contactId","toggleContactStar","getContactInitials","getGroupColor","group","Grid","Import","Phone","MoreVertical","ContactsPage","GoogleContacts","BhaDrive","onFileSelect","files","setFiles","currentFolder","setCurrentFolder","selectedFiles","setSelectedFiles","sortBy","setSortBy","filterType","setFilterType","isUploading","setIsUploading","showShareDialog","setShowShareDialog","showCreateMenu","setShowCreateMenu","fileInputRef","getFileIcon","Folder","Music","File","filteredFiles","file","handleFileUpload","newFile","handleFileSelect","toggleFileSelection","fileId","handleShare","FolderPlus","Upload","Share2","Copy","Move","DrivePage","GoogleDrive","App","isAuthenticated","Routes","Route","Navigate","LoginPage","registration","registrationError","queryClient","ReactDOM","BrowserRouter","ReactQueryDevtools"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77]}